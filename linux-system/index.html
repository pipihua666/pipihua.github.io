<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.01877a06b072953c14c7.css" id="gatsby-global-css">code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.32.12"/><title data-react-helmet="true">Linux-系统管理 - pipihua&#x27;s blog</title><meta data-react-helmet="true" name="description" content="linux-系统管理，个人记录学习"/><meta data-react-helmet="true" property="og:title" content="Linux-系统管理 - pipihua&#x27;s blog"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:description" content="linux-系统管理，个人记录学习"/><meta data-react-helmet="true" property="og:url" content="https://pipihua666.github.io/linux-system"/><meta data-react-helmet="true" name="twitter:label1" content="Written by"/><meta data-react-helmet="true" name="twitter:data1" content="pipihua"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="pipihua"/><meta data-react-helmet="true" name="twitter:title" content="Linux-系统管理 - pipihua&#x27;s blog"/><meta data-react-helmet="true" name="twitter:description" content="linux-系统管理，个人记录学习"/><meta data-react-helmet="true" name="keywords" content="React, JavaScript, TypeScript, Echarts, DevOps, Linux"/><meta data-react-helmet="true" name="article:published_time" content="2021-04-11T00:00:00.000Z"/><meta data-react-helmet="true" name="article:modified_time" content="2021-04-11T00:00:00.000Z"/><meta data-react-helmet="true" name="twitter:label2" content="Filed under"/><meta data-react-helmet="true" name="twitter:data2" content="Linux"/><meta data-react-helmet="true" property="og:image" content="https://pipihua666.github.io/static/2faf45e003e62c2c140c31ffb6a359e0/90823/header.png"/><meta data-react-helmet="true" name="twitter:image" content="https://pipihua666.github.io/static/2faf45e003e62c2c140c31ffb6a359e0/90823/header.png"/><script data-react-helmet="true" type="application/ld+json">
        {
          "@context": "https://schema.org/",
          "@type": "Article",
          "author": {
            "@type": "Person",
            "name": "pipihua"
          },
          "keywords": "Linux",
          "headline": "Linux-系统管理 - pipihua's blog",
          "url": "https://pipihua666.github.io/linux-system",
          "datePublished": "2021-04-11T00:00:00.000Z",
          "dateModified": "2021-04-11T00:00:00.000Z",
          "image": {
            "@type": "ImageObject",
            "url": "https://pipihua666.github.io/static/2faf45e003e62c2c140c31ffb6a359e0/90823/header.png",
            "width": "1000",
            "height": "520"
          },
          "publisher": {
            "@type": "Organization",
            "name": "pipihua's blog"
          },
          "description": "linux-系统管理，个人记录学习",
          "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://pipihua666.github.io"
          }
        }
      </script><style data-styled="bzOPpS kHKWRw fOuWxu biTeGs jLOYBk fVqyTA cROOCp gWrDHi MQpwo llwmof fYiJFa iRZLqu jZNSfz hRYAD faXnX lhFcmu GDWrm fTdjuL bXjWFc iHPqjx jtkVLk jqyLKa cCerLd bVnRow jqxPBx bYZhdV iKTLAq gTfYTh iHGPyz kXzLbm lfACiL lbetsi YZAaE hLhzMS gpDhwt ctpkkx etXHUJ dLTgSL cXOFUh bqPxdl" data-styled-version="4.4.1">
/* sc-component-id: sc-global-705724203 */
html{line-height:1.15;-webkit-text-size-adjust:100%;} body{margin:0;} main{display:block;} h1{font-size:2em;margin:0.67em 0;} hr{box-sizing:content-box;height:0;overflow:visible;} pre{font-family:monospace,monospace;font-size:1em;} a{background-color:transparent;} abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;} b,strong{font-weight:bolder;} code,kbd,samp{font-family:monospace,monospace;font-size:1em;} small{font-size:80%;} sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;} sub{bottom:-0.25em;} sup{top:-0.5em;} img{border-style:none;} button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;} button,input{overflow:visible;} button,select{text-transform:none;} button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;} button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;} button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;} fieldset{padding:0.35em 0.75em 0.625em;} legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;} progress{vertical-align:baseline;} textarea{overflow:auto;} [type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;} [type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;} [type="search"]{-webkit-appearance:textfield;outline-offset:-2px;} [type="search"]::-webkit-search-decoration{-webkit-appearance:none;} ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;} details{display:block;} summary{display:list-item;} template{display:none;} [hidden]{display:none;} html{box-sizing:border-box;background-color:#fafafa;} body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;line-height:1.9em;} *{box-sizing:border-box;} h1,h2,h3,h4,h5,h6{outline:none;} a{color:#000;-webkit-text-decoration:none;text-decoration:none;} .gatsby-highlight{max-width:100% !important;} .gatsby-highlight-code-line{background-color:#353631;display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:0.75em;}
/* sc-component-id: style__NavContainer-sc-1ck1w82-0 */
.bzOPpS{z-index:1000;background-color:#20232a;position:-webkit-sticky;position:sticky;top:0;box-shadow:0 0 3px rgba(0,0,0,.03),0 3px 46px rgba(0,0,0,.07);}
/* sc-component-id: style__Nav-sc-1ck1w82-1 */
.kHKWRw{width:1260px;margin-left:auto;margin-right:auto;max-width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;} @media (max-width:1300px){.kHKWRw{padding:0 20px;}}
/* sc-component-id: style__NavWrapper-sc-1ck1w82-2 */
.jLOYBk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;height:70px;white-space:nowrap;} @media (max-width:576px){.jLOYBk{width:90%;}}
/* sc-component-id: style__NavMenu-sc-1ck1w82-3 */
.fVqyTA{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;list-style-type:none;margin:0;padding:0;} @media (max-width:576px){.fVqyTA{width:80%;overflow-x:auto;overflow-y:hidden;-webkit-mask-image:linear-gradient(to right,transparent,#000 25px,#000 90%,transparent);mask-image:linear-gradient(to right,transparent,#000 25px,#000 90%,transparent);}}.cROOCp{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;list-style-type:none;margin:0;padding:0;}
/* sc-component-id: style__NavMenuItem-sc-1ck1w82-4 */
.gWrDHi{cursor:pointer;display:inline-block;border:0;background:transparent;outline:none;-webkit-text-decoration:none;text-decoration:none;}
/* sc-component-id: style__NavLink-sc-1ck1w82-5 */
.MQpwo{color:#fff;opacity:.8;padding:16px;-webkit-transition:opacity .5s;transition:opacity .5s;} .MQpwo:hover{opacity:1;}
/* sc-component-id: style__SearchContainer-sc-1ck1w82-6 */
.llwmof{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;position:relative;}
/* sc-component-id: style__ToggleSearchButton-sc-1ck1w82-7 */
.fYiJFa{cursor:pointer;color:#fff;opacity:.8;background:none;outline:none;border:0;-webkit-transition:opacity .5s;transition:opacity .5s;} .fYiJFa:hover{opacity:1;}
/* sc-component-id: logo__LogoImage-sc-1eqkae8-0 */
.biTeGs{max-height:30px;width:30px;margin-right:45px;} @media (max-width:576px){.biTeGs{margin-right:15px;}}
/* sc-component-id: logo__HomeLink-sc-1eqkae8-1 */
.fOuWxu{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;height:30px;}
/* sc-component-id: style__StyledFooter-sc-1oqvjzu-0 */
.gpDhwt{max-width:100%;padding:10px 0;z-index:700;position:relative;font-size:.9em;margin-top:50px;}
/* sc-component-id: style__FooterContainer-sc-1oqvjzu-1 */
.ctpkkx{width:1260px;margin-left:auto;margin-right:auto;max-width:100%;text-align:right;line-height:1.1em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;} @media (max-width:1300px){.ctpkkx{padding:0 20px;}}
/* sc-component-id: style__Copyright-sc-1oqvjzu-2 */
.cXOFUh{margin:0;}
/* sc-component-id: style__DesignBy-sc-1oqvjzu-3 */
.bqPxdl{margin:0;opacity:.8;font-size:.8em;} .bqPxdl a{font-weight:bold;-webkit-text-decoration:none;text-decoration:none;color:#000;} .bqPxdl a:hover{-webkit-text-decoration:underline;text-decoration:underline;}
/* sc-component-id: style__StyledNav-sc-1oqvjzu-4 */
.etXHUJ ul{list-style-type:none;margin:0;padding:0;} .etXHUJ li{display:inline-block;margin-right:25px;} .etXHUJ li:last-child{margin-right:0;}
/* sc-component-id: style__FooterMenuLink-sc-1oqvjzu-6 */
.dLTgSL{color:#000;-webkit-text-decoration:none;text-decoration:none;}
/* sc-component-id: toc__StyledNav-sc-1hwup8p-0 */
.lhFcmu .toc-list{list-style-type:none;margin:0;padding:0;} .lhFcmu .toc-list .toc-list{padding-left:17px;padding-top:10px;} .lhFcmu .toc-list-item{line-height:1.2em;padding-bottom:10px;} .lhFcmu .toc-list-item:last-child{padding-bottom:0;} .lhFcmu .toc-link{color:#808080;-webkit-text-decoration:none;text-decoration:none;} .lhFcmu .is-active-link{color:#404040;font-weight:700;}
/* sc-component-id: reading-progress__ReadingProgressBar-vxjjnv-0 */
.iRZLqu{position:-webkit-sticky;position:sticky;height:5px;top:70px;background-color:#a4cbb8;z-index:500;}
/* sc-component-id: social-channel-list__StyledSocialChannels-sc-16w9pwh-0 */
.YZAaE{list-style-type:none;margin:0;padding:0;}
/* sc-component-id: social-channel-list__StyledSocialChannel-sc-16w9pwh-1 */
.hLhzMS{display:inline-block;margin:0 10px;font-size:1.6em;opacity:.7;-webkit-transition:opacity .5s;transition:opacity .5s;} .hLhzMS:hover{opacity:1;}
/* sc-component-id: avatar__StyledAvatar-sc-1v6bq9n-0 */
.kXzLbm{max-width:55px;border-radius:100%;}
/* sc-component-id: bio__StyledBio-sc-19adui4-0 */
.iHGPyz{margin:auto;text-align:center;width:100%;}
/* sc-component-id: bio__AuthorDescription-sc-19adui4-1 */
.lbetsi{margin:10px 0 13px;} .lbetsi a{color:#000;-webkit-text-decoration:underline;text-decoration:underline;}
/* sc-component-id: bio__AuthorName-sc-19adui4-2 */
.lfACiL{margin:10px;}
/* sc-component-id: post__PostContainer-h8gzap-0 */
.jZNSfz{width:1260px;margin-left:auto;margin-right:auto;max-width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:0 !important;} @media (max-width:1300px){.jZNSfz{padding:0 20px;}}
/* sc-component-id: post__LeftSidebar-h8gzap-1 */
.hRYAD{min-width:255px;max-width:225px;-webkit-transition:opacity .5s,z-index .5s;transition:opacity .5s,z-index .5s;} @media (max-width:1300px){.hRYAD{position:fixed;opacity:0;z-index:-1;background-color:#fff;width:100% !important;max-width:100%;padding:0 20px;margin-top:-5px;height:calc(100vh - 70px);}}
/* sc-component-id: post__PostContent-h8gzap-2 */
.fTdjuL{margin-top:-5px;border-right:1px #e5eff5 solid;border-left:1px #e5eff5 solid;background-color:#fff;box-shadow:0 0 3px rgba(0,0,0,.03),0 3px 46px rgba(0,0,0,.1);z-index:10;width:1035px;max-width:100%;} .fTdjuL li > a,.fTdjuL p > a{color:#a4cbb8;border-bottom:2px #a4cbb8 solid;} .fTdjuL pre{margin:30px 0;} .fTdjuL blockquote{border-left:4px #a4cbb8 solid;background-color:#fafafa;margin:30px 0;padding:5px 20px;border-radius:.3em;} .fTdjuL h3::before,.fTdjuL h4::before,.fTdjuL h5::before,.fTdjuL h6::before{display:block;content:" ";height:90px;margin-top:-90px;visibility:hidden;} .fTdjuL h2{border-top:1px solid #ececec;margin-top:44px;padding-top:40px;line-height:1.2;} .fTdjuL code[class*="language-text"]{padding:5px;} .fTdjuL p > img{max-width:100%;border-radius:.3em;margin:30px 0;} .fTdjuL hr{border-top:1px solid #ececec;border-bottom:0;margin-top:44px;margin-bottom:40px;} .fTdjuL .gatsby-resp-image-link{margin:30px 0;max-width:100%;} .fTdjuL .gatsby-resp-image-link .gatsby-resp-image-image{border-radius:.3em;}
/* sc-component-id: post__TocWrapper-h8gzap-3 */
.faXnX{position:-webkit-sticky;position:sticky;top:70px;padding:40px 30px 40px 0;}
/* sc-component-id: post__PostHeader-h8gzap-4 */
.bXjWFc{padding:40px;} @media (max-width:576px){.bXjWFc{padding:20px;}}
/* sc-component-id: post__FeaturedImage-h8gzap-5 */
.jqyLKa{border-radius:0;} @media (max-width:1300px){.jqyLKa{margin-left:-1px;margin-right:-1px;}}
/* sc-component-id: post__StyledPost-h8gzap-6 */
.cCerLd{padding:40px;} @media (max-width:576px){.cCerLd{padding:20px;}}
/* sc-component-id: post__PostMeta-h8gzap-7 */
.iHPqjx{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;opacity:.8;font-size:.9em;}
/* sc-component-id: post__PostTitle-h8gzap-8 */
.jtkVLk{margin:0;padding:0;}
/* sc-component-id: post__PostFooter-h8gzap-9 */
.bVnRow{background-color:#fafafa;font-size:.8em;color:#666;padding:40px;line-height:1em;} .bVnRow p{margin:5px 0;}
/* sc-component-id: post__FooterTagLink-h8gzap-10 */
.jqxPBx{color:#000 !important;-webkit-text-decoration:none;text-decoration:none;border-bottom:0 !important;}
/* sc-component-id: post__PostAddition-h8gzap-11 */
.bYZhdV{background-color:#fff;border-top:1px #e5eff5 solid;border-bottom:1px #e5eff5 solid;z-index:700;position:relative;padding:40px;}
/* sc-component-id: post__PostAdditionContent-h8gzap-12 */
.iKTLAq{width:1260px;margin-left:auto;margin-right:auto;max-width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;} @media (max-width:1300px){.iKTLAq{padding:0 20px;}}
/* sc-component-id: post__BioWrapper-h8gzap-13 */
.gTfYTh{width:50%;margin:auto;} @media (max-width:576px){.gTfYTh{width:100%;}}
/* sc-component-id: post__ToggleTocButton-h8gzap-14 */
.GDWrm{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:fixed;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;right:20px;bottom:20px;border-radius:100%;box-shadow:0 0 3px rgba(0,0,0,.03),0 3px 46px rgba(0,0,0,.1);border:0;z-index:5000;width:50px;height:50px;background-color:#20232a;color:#fff;outline:none;} @media (min-width:1300px){.GDWrm{display:none;}}</style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="icon" href="/favicon-32x32.png?v=72e8008a1ad86357775e2878c278a5b7" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#a4cbb8"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=72e8008a1ad86357775e2878c278a5b7"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=72e8008a1ad86357775e2878c278a5b7"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=72e8008a1ad86357775e2878c278a5b7"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=72e8008a1ad86357775e2878c278a5b7"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=72e8008a1ad86357775e2878c278a5b7"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=72e8008a1ad86357775e2878c278a5b7"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=72e8008a1ad86357775e2878c278a5b7"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=72e8008a1ad86357775e2878c278a5b7"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-3f32ef2c5f8029f8d8b2.js"/><link as="script" rel="preload" href="/framework-5dc1caea2c5fd4bcd10a.js"/><link as="script" rel="preload" href="/app-6124a287738eddf542a4.js"/><link as="script" rel="preload" href="/styles-7d4153d260c0197f0043.js"/><link as="script" rel="preload" href="/fa5f8105-9880536ad98180a733c3.js"/><link as="script" rel="preload" href="/commons-f9f6a650dbf2a6231e53.js"/><link as="script" rel="preload" href="/component---theme-src-templates-post-tsx-0578bc3901073525e650.js"/><link as="fetch" rel="preload" href="/page-data/linux-system/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1116962356.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2275848304.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3138592700.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3462520645.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/545095672.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="style__NavContainer-sc-1ck1w82-0 bzOPpS"><div class="common__Container-sc-1d5kp8-0 style__Nav-sc-1ck1w82-1 kHKWRw"><a class="logo__HomeLink-sc-1eqkae8-1 fOuWxu" href="/"><div class="logo__LogoImage-sc-1eqkae8-0 biTeGs gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:30px;height:30px"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAMEBQL/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQP/2gAMAwEAAhADEAAAAeY5rjFYKVdEzeaKf//EABwQAAICAgMAAAAAAAAAAAAAAAEDAAIREjEzQf/aAAgBAQABBQJg0qu24mRaBa9ciU59b2//xAAWEQEBAQAAAAAAAAAAAAAAAAARABD/2gAIAQMBAT8BI3//xAAWEQEBAQAAAAAAAAAAAAAAAAARABD/2gAIAQIBAT8BZ3//xAAZEAADAAMAAAAAAAAAAAAAAAAAARECEDH/2gAIAQEABj8CvSyaj4xYraMj/8QAHRABAAICAgMAAAAAAAAAAAAAAQARIVExQWFx8P/aAAgBAQABPyG2OBqedFQ4gW7ZAWImBlbS5IcnuH36jqjc/9oADAMBAAIAAwAAABCvB4P/xAAZEQEAAgMAAAAAAAAAAAAAAAABADEQESH/2gAIAQMBAT8Q0TmBUbn/xAAXEQEAAwAAAAAAAAAAAAAAAAARABAh/9oACAECAQE/EG7Bf//EABwQAQADAAIDAAAAAAAAAAAAAAEAESEQYTFB0f/aAAgBAQABPxAqOffZYytIw4Bb3AVSEpAyy33sWjiIncLHitjrt+op/Dc//9k=" alt="pipihua&#x27;s blog" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/72e8008a1ad86357775e2878c278a5b7/58a4b/profile-pic.jpg 1x,
/static/72e8008a1ad86357775e2878c278a5b7/f8771/profile-pic.jpg 1.5x,
/static/72e8008a1ad86357775e2878c278a5b7/56ed0/profile-pic.jpg 2x" /><img loading="lazy" width="30" height="30" srcset="/static/72e8008a1ad86357775e2878c278a5b7/58a4b/profile-pic.jpg 1x,
/static/72e8008a1ad86357775e2878c278a5b7/f8771/profile-pic.jpg 1.5x,
/static/72e8008a1ad86357775e2878c278a5b7/56ed0/profile-pic.jpg 2x" src="/static/72e8008a1ad86357775e2878c278a5b7/58a4b/profile-pic.jpg" alt="pipihua's blog" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a><div class="style__NavWrapper-sc-1ck1w82-2 jLOYBk"><ul class="style__NavMenu-sc-1ck1w82-3 fVqyTA"><li class="style__NavMenuItem-sc-1ck1w82-4 gWrDHi"><a class="style__NavLink-sc-1ck1w82-5 MQpwo" href="/">Home</a></li></ul><div class="style__SearchContainer-sc-1ck1w82-6 llwmof"><ul class="style__NavMenu-sc-1ck1w82-3 cROOCp"><li class="style__NavMenuItem-sc-1ck1w82-4 gWrDHi"><button role="button" aria-label="Toggle search" class="style__ToggleSearchButton-sc-1ck1w82-7 fYiJFa"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg></button></li></ul></div></div></div></div><main><div style="width:0%" class="reading-progress__ReadingProgressBar-vxjjnv-0 iRZLqu"></div><div class="common__Container-sc-1d5kp8-0 post__PostContainer-h8gzap-0 jZNSfz"><div class="post__LeftSidebar-h8gzap-1 hRYAD"><div class="post__TocWrapper-h8gzap-3 faXnX"><nav class="toc__StyledNav-sc-1hwup8p-0 lhFcmu toc"></nav></div></div><button role="button" aria-label="Toggle table of contents" class="post__ToggleTocButton-h8gzap-14 GDWrm"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M432 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-128H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"></path></svg></button><div class="post__PostContent-h8gzap-2 fTdjuL"><article class="post"><header class="post__PostHeader-h8gzap-4 bXjWFc"><section class="post__PostMeta-h8gzap-7 iHPqjx"><a href="/tag/linux">Linux</a><time dateTime="2021-04-11T00:00:00.000Z">11 April, 2021</time></section><h1 class="post__PostTitle-h8gzap-8 jtkVLk">Linux-系统管理</h1></header><div class="post__FeaturedImage-h8gzap-5 jqyLKa gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:66.5%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAC4jAAAuIwF4pT92AAADFUlEQVQozw3P+1PaBgDA8fwFe+jt1nXT2RZLqCFIgBDAYGISSJCSlfAU5SEkIYlRsNWok+IL8BzetXVKtytt9badXW9ddz2u2/q63bXbur9q3n1++P76Bfog4mOY6htlzvTbA332wIfwxEejdB/CnHU/EvwEYc456AE0MOwNQjhnJ8P2iasIOemhQsDloDwaX4ITK7bEsiOz5iltEdqeT254pZ2A1ohVm3mjpa+3jI3m4tdbulGXlzbk5a2lerO+3QKixvfJm8eZnR+nm4+Ug2fG/T8Lez+s//RX85e/Hz5//+TVP6/f/ff67fsXb//tvXnXfdy71T1t3ulutjsb7SOAk3ZCWlswOrndU+3bnnr0DEmqeqe32H25eu/59vHvt09f3H388sGTVz/33jx6+sfd7unuN0eNxv5uqw3Ykzc9uRZb7cRr9zOb3dzmdz5BTOrr+bV2sX4wv31rbe+wcXhycPLb4fHTozMPf20fnrTandbuHcBGp8YjKZaP0eFY5FqMZWgX5g9NhkRFNowbRUUrSOKsKBdFTV3eqdb2F2v7CysNSV/JiQsAbB1xWEG/1x3l+bgQpVguVSjFpzPpklRdXV2u1dTrlbk5uTCdmskX8yVNU+bzxfkwn5oMC4BpaNDudLN8PC7wMwk+lUnPaTNlvZRVlNINo7rVrK7X5AVVViRJkbPZ9BRHFL/igjSDecYAGHEHSW/6KiVFJ8QomcvGC4p6vV6vNbfLulZeqGiVSnm+mpUUVVcVXRf4CI0hYzbLmB0CCNvlAHwphJjKHCpHMCZEC8lYfCqTEsuFsqpWqmopm8atIf7arDhblKSIkCAZ1oFiFhAE3ODnlG2Itl9kHRdDmNnv93E0QTAcFYmGp7LFOT2TFK6c/wA2DaIoivvHWJajGG6cHHdjLsAJfoZBX8JD5yDzhSsO1E3SJO7DcNyK+ryBSCAxTTPMpS8+dZoHLKZhMzSKYR78bJegHagLAIcHTef7LwwNgE4PjGIERTphaGDYArpwbJxGyYCPoBAXGiRxjglCDs+IDYJGzBYQtiLY/+vJF7ga68kZAAAAAElFTkSuQmCC" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/2faf45e003e62c2c140c31ffb6a359e0/dc47e/header.png 200w,
/static/2faf45e003e62c2c140c31ffb6a359e0/9f2d5/header.png 400w,
/static/2faf45e003e62c2c140c31ffb6a359e0/90823/header.png 800w,
/static/2faf45e003e62c2c140c31ffb6a359e0/77647/header.png 1200w,
/static/2faf45e003e62c2c140c31ffb6a359e0/f8d4f/header.png 1600w,
/static/2faf45e003e62c2c140c31ffb6a359e0/4ce6a/header.png 1920w" sizes="(max-width: 800px) 100vw, 800px" /><img loading="lazy" sizes="(max-width: 800px) 100vw, 800px" srcset="/static/2faf45e003e62c2c140c31ffb6a359e0/dc47e/header.png 200w,
/static/2faf45e003e62c2c140c31ffb6a359e0/9f2d5/header.png 400w,
/static/2faf45e003e62c2c140c31ffb6a359e0/90823/header.png 800w,
/static/2faf45e003e62c2c140c31ffb6a359e0/77647/header.png 1200w,
/static/2faf45e003e62c2c140c31ffb6a359e0/f8d4f/header.png 1600w,
/static/2faf45e003e62c2c140c31ffb6a359e0/4ce6a/header.png 1920w" src="/static/2faf45e003e62c2c140c31ffb6a359e0/90823/header.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><section class="post__StyledPost-h8gzap-6 cCerLd post"><p><a name="mHmmL"></a></p>
<h2 id="用户管理" style="position:relative;"><a href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86" aria-label="用户管理 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>用户管理</h2>
<p><a name="A0IK0"></a></p>
<h3 id="添加用户（需要在-root-用户下执行，其他普通用户无法创建用户）" style="position:relative;"><a href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%EF%BC%88%E9%9C%80%E8%A6%81%E5%9C%A8-root-%E7%94%A8%E6%88%B7%E4%B8%8B%E6%89%A7%E8%A1%8C%EF%BC%8C%E5%85%B6%E4%BB%96%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7%E6%97%A0%E6%B3%95%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%EF%BC%89" aria-label="添加用户（需要在 root 用户下执行，其他普通用户无法创建用户） permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>添加用户（需要在 root 用户下执行，其他普通用户无法创建用户）</h3>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># 不会创建用户目录、设定密码等</span>
<span class="token function">useradd</span> abc

<span class="token comment"># 会创建用户目录、设定密码等</span>
adduser abc</code></pre></div>
<p><a name="3ybAj"></a></p>
<h3 id="设置密码" style="position:relative;"><a href="#%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81" aria-label="设置密码 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>设置密码</h3>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">passwd</span> abc</code></pre></div>
<p><a name="DC9NT"></a></p>
<h3 id="查看某一个用户是否存在" style="position:relative;"><a href="#%E6%9F%A5%E7%9C%8B%E6%9F%90%E4%B8%80%E4%B8%AA%E7%94%A8%E6%88%B7%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8" aria-label="查看某一个用户是否存在 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>查看某一个用户是否存在</h3>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">id</span> abc
<span class="token comment"># uid=0(root) gid=0(root) groups=0(root),113(docker)</span></code></pre></div>
<p><a name="Zi2c2"></a></p>
<h3 id="添加用户会经过那些操作" style="position:relative;"><a href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E4%BC%9A%E7%BB%8F%E8%BF%87%E9%82%A3%E4%BA%9B%E6%93%8D%E4%BD%9C" aria-label="添加用户会经过那些操作 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>添加用户会经过那些操作</h3>
<ul>
<li>会在 /etc/passwd 中添加用户</li>
</ul>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">cat</span> /etc/passwd
<span class="token comment"># abc:x:1002:1002::/home/abc:/bin/sh</span></code></pre></div>
<ul>
<li>会在 /etc/shadow 中添加用户</li>
</ul>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">cat</span> /etc/shadow
<span class="token comment"># abc:!:18510:0:99999:7:::</span></code></pre></div>
<p><a name="13yTz"></a></p>
<h3 id="删除用户" style="position:relative;"><a href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7" aria-label="删除用户 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>删除用户</h3>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># 不会删除用户目录</span>
<span class="token function">userdel</span> abc

<span class="token comment"># 删除用户目录</span>
<span class="token function">userdel</span> -r abc</code></pre></div>
<p><a name="BBlpa"></a></p>
<h3 id="修改用户属性" style="position:relative;"><a href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%B1%9E%E6%80%A7" aria-label="修改用户属性 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>修改用户属性</h3>
<ul>
<li>修改用户目录</li>
</ul>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">usermod</span> -d /home/dd abc</code></pre></div>
<ul>
<li>修改用户所属的组</li>
</ul>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">usermod</span> -g group1 abc</code></pre></div>
<p><a name="Z0xtq"></a></p>
<h3 id="新建用户组" style="position:relative;"><a href="#%E6%96%B0%E5%BB%BA%E7%94%A8%E6%88%B7%E7%BB%84" aria-label="新建用户组 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>新建用户组</h3>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">groupadd</span> group1</code></pre></div>
<p><a name="3tSb1"></a></p>
<h3 id="切换用户" style="position:relative;"><a href="#%E5%88%87%E6%8D%A2%E7%94%A8%E6%88%B7" aria-label="切换用户 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>切换用户</h3>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># - 表示完全切换，会切换到该用户的目录下，如果没有 - 则还会在当前目录</span>
<span class="token function">su</span> - abc</code></pre></div>
<p><a name="C7SlJ"></a></p>
<h3 id="给特定用户执行某些命令的权限" style="position:relative;"><a href="#%E7%BB%99%E7%89%B9%E5%AE%9A%E7%94%A8%E6%88%B7%E6%89%A7%E8%A1%8C%E6%9F%90%E4%BA%9B%E5%91%BD%E4%BB%A4%E7%9A%84%E6%9D%83%E9%99%90" aria-label="给特定用户执行某些命令的权限 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>给特定用户执行某些命令的权限</h3>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">visudo
<span class="token comment"># 用上面的命令可以给某些用户赋予某些命令的权限</span></code></pre></div>
<p><a name="hg4uE"></a></p>
<h3 id="etcpasswd-文件解析" style="position:relative;"><a href="#etcpasswd-%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90" aria-label="etcpasswd 文件解析 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>/etc/passwd 文件解析</h3>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">root:x:0:0:root:/root:/bin/bash
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
bin:x:2:2:bin:/bin:/usr/sbin/nologin

<span class="token comment"># 用户名/用户是否需要密码进行验证/uid/gid/注释/用户目录/命令解释器</span>
<span class="token comment"># sbin/nologin 是不能被登录的</span></code></pre></div>
<blockquote>
<p>在新建用户时可以不用 adduser 命令，直接编辑该文件也可以起到新增用户的目的</p>
</blockquote>
<p><a name="hMaFO"></a></p>
<h3 id="etcshadow-文件解析（用来保存用户和密码的关系）" style="position:relative;"><a href="#etcshadow-%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90%EF%BC%88%E7%94%A8%E6%9D%A5%E4%BF%9D%E5%AD%98%E7%94%A8%E6%88%B7%E5%92%8C%E5%AF%86%E7%A0%81%E7%9A%84%E5%85%B3%E7%B3%BB%EF%BC%89" aria-label="etcshadow 文件解析（用来保存用户和密码的关系） permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>/etc/shadow 文件解析（用来保存用户和密码的关系）</h3>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">mysql:<span class="token operator">!</span>:18493424:0:99999:7:::
user1:<span class="token variable">$6</span><span class="token variable">$9JTohwDk</span><span class="token variable">$baTsdfsVJRRfSds6PCdF0xBQlqslTekjWK9xT7</span>/yIoTTUv45raWwtZRpwtMn5mNwjULCvL2XRJ9Nj3kFhekJBsjgBfq.:18511:0:99999:7:::

<span class="token comment"># 用户名/加密后的密码</span>

<span class="token comment"># 相同的密码加密后是不同的</span></code></pre></div>
<p><a name="gId4y"></a></p>
<h3 id="etcgroup-文件解析（用户组文件）" style="position:relative;"><a href="#etcgroup-%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90%EF%BC%88%E7%94%A8%E6%88%B7%E7%BB%84%E6%96%87%E4%BB%B6%EF%BC%89" aria-label="etcgroup 文件解析（用户组文件） permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>/etc/group 文件解析（用户组文件）</h3>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">mysql:x:116:
user1:x:1002:

<span class="token comment"># 用户组名称/是否需要密码/gid/其他组设置(一个用户可以属于多个组)</span></code></pre></div>
<hr>
<p><a name="sHutP"></a></p>
<h2 id="文件权限" style="position:relative;"><a href="#%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90" aria-label="文件权限 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>文件权限</h2>
<p><a name="Q67WC"></a></p>
<h3 id="文件权限格式" style="position:relative;"><a href="#%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E6%A0%BC%E5%BC%8F" aria-label="文件权限格式 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>文件权限格式</h3>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">ls</span> -l

-rwx------+   <span class="token number">8</span> xx  staff      <span class="token number">256</span> Mar  <span class="token number">6</span>  <span class="token number">2020</span> Movies
drwx------+  <span class="token number">10</span> xx  staff      <span class="token number">320</span> Mar  <span class="token number">6</span>  <span class="token number">2020</span> Music

<span class="token comment"># 第一位，表示文件类型</span>
<span class="token comment"># 后面接着的9位 rwx------ 表示权限，每三个字符为一组，分别表示用户对该文件的权限、该组对文件的权限和其他用户的权限</span>
<span class="token comment"># xx 用户</span>
<span class="token comment"># staff 用户组</span></code></pre></div>
<p><a name="GLJ84"></a></p>
<h3 id="文件类型" style="position:relative;"><a href="#%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B" aria-label="文件类型 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>文件类型</h3>
<p>-普通文件<br />d目录文件<br />b块特殊文件<br />c字符特殊文件<br />l符号链接<br />f命令管道<br />s套接字文件<br /></p>
<p><a name="tMZqh"></a></p>
<h3 id="文件权限的表示方法" style="position:relative;"><a href="#%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E7%9A%84%E8%A1%A8%E7%A4%BA%E6%96%B9%E6%B3%95" aria-label="文件权限的表示方法 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>文件权限的表示方法</h3>
<p>数字权限的表示方法</p>
<ul>
<li>r=4</li>
<li>w=2</li>
<li>x=1</li>
</ul>
<p><a name="YVMtM"></a></p>
<h3 id="目录权限的表示方法" style="position:relative;"><a href="#%E7%9B%AE%E5%BD%95%E6%9D%83%E9%99%90%E7%9A%84%E8%A1%A8%E7%A4%BA%E6%96%B9%E6%B3%95" aria-label="目录权限的表示方法 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>目录权限的表示方法</h3>
<p>x可以进入目录<br />rx显示目录内的文件名<br />wx修改目录内的文件名<br /></p>
<p><a name="qqZkU"></a></p>
<h3 id="修改文件属主和属组的方法" style="position:relative;"><a href="#%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E5%B1%9E%E4%B8%BB%E5%92%8C%E5%B1%9E%E7%BB%84%E7%9A%84%E6%96%B9%E6%B3%95" aria-label="修改文件属主和属组的方法 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>修改文件属主和属组的方法</h3>
<ul>
<li>修改属主</li>
</ul>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">chown</span> user1 /test</code></pre></div>
<ul>
<li>修改属组</li>
</ul>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">chgrp</span> :user1 /test</code></pre></div>
<p><a name="6WnKe"></a></p>
<h3 id="修改权限" style="position:relative;"><a href="#%E4%BF%AE%E6%94%B9%E6%9D%83%E9%99%90" aria-label="修改权限 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>修改权限</h3>
<p>u属主<br />g属组<br />o其他用户<br />a包括上述三种<br />+增加权限<br />-减少权限<br />=设置权限</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># 为test的属主设置w权限</span>
<span class="token function">chmod</span> u+w ./test

<span class="token comment"># 为属主、属组合其他用户设置只有wr权限</span>
<span class="token function">chmod</span> <span class="token assign-left variable">a</span><span class="token operator">=</span>wr ./test</code></pre></div>
<blockquote>
<p>linux 中默认的文件权限是 644, 是 666-umask (022)=644，既 rw-r--r--</p>
</blockquote>
<blockquote>
<p>如果属主权限和属组权限冲突，则以属主权限为主</p>
</blockquote>
<hr>
<p><a name="YcwFi"></a></p>
<h2 id="特殊权限" style="position:relative;"><a href="#%E7%89%B9%E6%AE%8A%E6%9D%83%E9%99%90" aria-label="特殊权限 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>特殊权限</h2>
<p>SUID用户可执行的二进制文件，执行命令时获取文件属主的权限</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">root@master:~<span class="token comment"># ls -l /usr/bin/passwd</span>
-rwsr-xr-x <span class="token number">1</span> root root <span class="token number">59640</span> Mar <span class="token number">23</span>  <span class="token number">2019</span> /usr/bin/passwd</code></pre></div>
<p>SGID用于目录，在该目录下新建的文件和目录，权限自动更改为该目录的属组，常用于共享文件<br />SBIT用户目录，在该目录下新建的文件和目录，只有 root 和自己可以删除</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">ls</span> -l /
drwxrwxrwt  <span class="token number">13</span> root root       <span class="token number">4096</span> Sep  <span class="token number">7</span> <span class="token number">18</span>:21 tmp</code></pre></div>
<hr>
<p><a name="mUdVW"></a></p>
<h2 id="网络管理" style="position:relative;"><a href="#%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86" aria-label="网络管理 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>网络管理</h2>
<p><a name="PH00x"></a></p>
<h3 id="网络状态查看工具" style="position:relative;"><a href="#%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81%E6%9F%A5%E7%9C%8B%E5%B7%A5%E5%85%B7" aria-label="网络状态查看工具 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>网络状态查看工具</h3>
<ul>
<li>
<p>net-tools (centos 7 之前推荐的工具)</p>
<ul>
<li>ifconfig-eth0 第一块网卡（根据网卡接入方式不同，名称也会不同）</li>
<li>route</li>
<li>netstat</li>
</ul>
</li>
<li>
<p>iproute2 (centos 7 之后推荐的工具)</p>
<ul>
<li>ip</li>
<li>ss
<a name="IeLiC"></a></li>
</ul>
</li>
</ul>
<h3 id="修改网卡名称为-eth0" style="position:relative;"><a href="#%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E5%90%8D%E7%A7%B0%E4%B8%BA-eth0" aria-label="修改网卡名称为 eth0 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>修改网卡名称为 eth0</h3>
<p>网卡命名规则受 biosdevname 和 net.ifnames 两个参数影响</p>
<ol>
<li>编辑 etc/default/grub 文件，增加 biosdevname=0 和 net.ifnames=0</li>
</ol>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token assign-left variable">GRUB_CMDLINE_LINUX</span><span class="token operator">=</span><span class="token string">"net.ifnames=0 biosdevname=0"</span></code></pre></div>
<ol start="2">
<li>更新 grub</li>
</ol>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">grub2-mkconfig -o /boot/grub2/grub.cfg</code></pre></div>
<ol start="3">
<li>重启 (reboot)</li>
</ol>
<p><a name="eOhvM"></a></p>
<h3 id="查看网卡物理连接情况" style="position:relative;"><a href="#%E6%9F%A5%E7%9C%8B%E7%BD%91%E5%8D%A1%E7%89%A9%E7%90%86%E8%BF%9E%E6%8E%A5%E6%83%85%E5%86%B5" aria-label="查看网卡物理连接情况 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>查看网卡物理连接情况</h3>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">mii-tool eth0</code></pre></div>
<p><a name="Iw9CY"></a></p>
<h3 id="查看网关" style="position:relative;"><a href="#%E6%9F%A5%E7%9C%8B%E7%BD%91%E5%85%B3" aria-label="查看网关 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>查看网关</h3>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># 使用 -n 参数不解析主机名</span>
route -n</code></pre></div>
<p><a name="I1qae"></a></p>
<h3 id="查看网卡" style="position:relative;"><a href="#%E6%9F%A5%E7%9C%8B%E7%BD%91%E5%8D%A1" aria-label="查看网卡 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>查看网卡</h3>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">ifconfig</span></code></pre></div>
<p><a name="c8FIO"></a></p>
<h3 id="网络故障排除命令" style="position:relative;"><a href="#%E7%BD%91%E7%BB%9C%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4%E5%91%BD%E4%BB%A4" aria-label="网络故障排除命令 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>网络故障排除命令</h3>
<p>ping网络主机是否畅通，ping 目标主机的域名或者 ip<br />traceroute如果网络通畅，但是还是访问不通，可以通过该命令查看路由信息，跟踪当前主机到目标主机的网络状态</p>
<ul>
<li>traceroute -w 1 目标主机 // -w 等待超时的时间</li>
<li>更详细、更丰富的的 traceroute 命令-> mtr 命令（推荐）</li>
</ul>
<p>mtr如果网络主机通畅，但是还是访问不通，可以查看是否有数据包丢失了<br />nslookup查看域名对应的 ip<br />telnet如果主机没有问题，可以查看端口是否开放(明文传输，已被 ssh 替代)</p>
<ul>
<li>telnet [主机][端口]</li>
</ul>
<p>nc:</p>
<ul>
<li>监听服务器端口 - 有客户端连接后，从客户端发送的数据将在终端显示。</li>
</ul>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">nc <span class="token operator">-</span>l <span class="token punctuation">[</span>端口<span class="token punctuation">]</span>
如
nc <span class="token operator">-</span>l <span class="token number">8800</span>
功能在本机上开启一个<span class="token constant">TCP</span>服务器端口<span class="token number">8800</span></code></pre></div>
<ul>
<li>端口扫描</li>
</ul>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">nc <span class="token operator">-</span>nvz <span class="token punctuation">[</span>服务器地址<span class="token punctuation">]</span> <span class="token punctuation">[</span>端口区间<span class="token punctuation">]</span>
如
nc <span class="token operator">-</span>nvz <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span> <span class="token number">500</span><span class="token operator">-</span><span class="token number">505</span>
功能扫描地址<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>上的<span class="token number">500</span><span class="token operator">-</span><span class="token number">505</span>端口</code></pre></div>
<ul>
<li>连接服务器端口 - 连接成功后，可以发送数据到服务端，也可接收来自服务端的数据。</li>
</ul>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">nc <span class="token punctuation">[</span>服务器地址<span class="token punctuation">]</span> <span class="token punctuation">[</span>端口<span class="token punctuation">]</span>
如
nc <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span> <span class="token number">502</span>
功能连接到<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token function">上的502端口</span><span class="token punctuation">(</span><span class="token constant">TCP</span><span class="token punctuation">)</span></code></pre></div>
<ul>
<li>发送文件 发送成功后会退出 nc。-</li>
</ul>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">nc <span class="token punctuation">[</span>服务器地址<span class="token punctuation">]</span> <span class="token punctuation">[</span>端口<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token punctuation">[</span>文件名<span class="token punctuation">]</span>
如
nc <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span> <span class="token number">502</span> <span class="token operator">&lt;</span> test
功能向<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token function">上的502端口</span><span class="token punctuation">(</span><span class="token constant">TCP</span><span class="token punctuation">)</span>发送test文件</code></pre></div>
<p>tcpdump如果主机和端口都 ok，则需要抓包进行分析，tcpdump -i any -n port 80</p>
<ul>
<li>-i 包的类型 tcp/udp</li>
<li>-n 如果是域名则解析成 ip</li>
<li>port 80 本机的 80 端口的包</li>
<li>host 10.0.0.1 本机到 10.0.0.1 的包</li>
<li>组合port 80 and host 10.0.0.1</li>
<li>-w [文件名]捕获下来并保存到某个文件</li>
</ul>
<p>netstat 和 ss检测服务监听的地址是否正确，查看本机对外服务的端口</p>
<ul>
<li>
<p>netstat -ntpl</p>
<ul>
<li>-p 打印出进程</li>
<li>-t 显示 tcp 协议</li>
<li>-l 状态是正在监听</li>
<li>-n 显示 ip 地址，不要显示域名</li>
</ul>
</li>
<li>ss -ntpl
<a name="YMpXF"></a></li>
</ul>
<h3 id="网络服务管理-centos" style="position:relative;"><a href="#%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86-centos" aria-label="网络服务管理 centos permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>网络服务管理 (centos)</h3>
<ul>
<li>可以分为两种SysV 和 systemd</li>
<li>网络配置文件ifcfg-eth0，会随着网卡的不同文件名也会不同</li>
<li>比如 /etc/sysconfig/network-scripts/ifcfg-ens3，在这个里面可以配置 dhcp，ip 等信息</li>
</ul>
<hr>
<p><a name="2VGNz"></a></p>
<h2 id="进程管理" style="position:relative;"><a href="#%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86" aria-label="进程管理 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>进程管理</h2>
<p><a name="QCo2v"></a></p>
<h3 id="调整优先级" style="position:relative;"><a href="#%E8%B0%83%E6%95%B4%E4%BC%98%E5%85%88%E7%BA%A7" aria-label="调整优先级 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>调整优先级</h3>
<p>nice范围从 - 20 到 19，值越小优先级越高，抢占的资源就越多<br />renice重新设置优先级</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># 在启动前设置某一个程序的优先级</span>
<span class="token function">nice</span> -n <span class="token number">10</span> ./a.sh

<span class="token comment"># 在程序启动后重新设置一个程序的优先级</span>
<span class="token function">renice</span> -n <span class="token number">15</span> pid</code></pre></div>
<p><a name="LiHs2"></a></p>
<h3 id="进程的作业控制" style="position:relative;"><a href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BD%9C%E4%B8%9A%E6%8E%A7%E5%88%B6" aria-label="进程的作业控制 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>进程的作业控制</h3>
<p>&#x26;将任务放到后台执行</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">./a.bash <span class="token operator">&amp;</span></code></pre></div>
<p>jobs: 查看后台任务，并获取编号</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">jobs</span></code></pre></div>
<p>ctrl + z:将前台任务停止并放到后台, 暂停进程<br />fg jobsID:将后台任务放到前台执行<br />bg jobsID:将前台任务放到后台执行<br /></p>
<p><a name="c90jT"></a></p>
<h3 id="" style="position:relative;"><a href="#" aria-label=" permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><a name="4O3cn"></a></p>
<h3 id="进程间通信" style="position:relative;"><a href="#%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1" aria-label="进程间通信 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>进程间通信</h3>
<ul>
<li>查看信号</li>
</ul>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token punctuation">[</span>root@848e7f64efd8 /<span class="token punctuation">]</span><span class="token comment"># kill -l</span>
 <span class="token number">1</span><span class="token punctuation">)</span> SIGHUP     <span class="token number">2</span><span class="token punctuation">)</span> SIGINT     <span class="token number">3</span><span class="token punctuation">)</span> SIGQUIT     <span class="token number">4</span><span class="token punctuation">)</span> SIGILL     <span class="token number">5</span><span class="token punctuation">)</span> SIGTRAP
 <span class="token number">6</span><span class="token punctuation">)</span> SIGABRT     <span class="token number">7</span><span class="token punctuation">)</span> SIGBUS     <span class="token number">8</span><span class="token punctuation">)</span> SIGFPE     <span class="token number">9</span><span class="token punctuation">)</span> SIGKILL    <span class="token number">10</span><span class="token punctuation">)</span> SIGUSR1
<span class="token number">11</span><span class="token punctuation">)</span> SIGSEGV    <span class="token number">12</span><span class="token punctuation">)</span> SIGUSR2    <span class="token number">13</span><span class="token punctuation">)</span> SIGPIPE    <span class="token number">14</span><span class="token punctuation">)</span> SIGALRM    <span class="token number">15</span><span class="token punctuation">)</span> SIGTERM
<span class="token number">16</span><span class="token punctuation">)</span> SIGSTKFLT    <span class="token number">17</span><span class="token punctuation">)</span> SIGCHLD    <span class="token number">18</span><span class="token punctuation">)</span> SIGCONT    <span class="token number">19</span><span class="token punctuation">)</span> SIGSTOP    <span class="token number">20</span><span class="token punctuation">)</span> SIGTSTP
<span class="token number">21</span><span class="token punctuation">)</span> SIGTTIN    <span class="token number">22</span><span class="token punctuation">)</span> SIGTTOU    <span class="token number">23</span><span class="token punctuation">)</span> SIGURG    <span class="token number">24</span><span class="token punctuation">)</span> SIGXCPU    <span class="token number">25</span><span class="token punctuation">)</span> SIGXFSZ
<span class="token number">26</span><span class="token punctuation">)</span> SIGVTALRM    <span class="token number">27</span><span class="token punctuation">)</span> SIGPROF    <span class="token number">28</span><span class="token punctuation">)</span> SIGWINCH    <span class="token number">29</span><span class="token punctuation">)</span> SIGIO    <span class="token number">30</span><span class="token punctuation">)</span> SIGPWR
<span class="token number">31</span><span class="token punctuation">)</span> SIGSYS    <span class="token number">34</span><span class="token punctuation">)</span> SIGRTMIN    <span class="token number">35</span><span class="token punctuation">)</span> SIGRTMIN+1    <span class="token number">36</span><span class="token punctuation">)</span> SIGRTMIN+2    <span class="token number">37</span><span class="token punctuation">)</span> SIGRTMIN+3
<span class="token number">38</span><span class="token punctuation">)</span> SIGRTMIN+4    <span class="token number">39</span><span class="token punctuation">)</span> SIGRTMIN+5    <span class="token number">40</span><span class="token punctuation">)</span> SIGRTMIN+6    <span class="token number">41</span><span class="token punctuation">)</span> SIGRTMIN+7    <span class="token number">42</span><span class="token punctuation">)</span> SIGRTMIN+8
<span class="token number">43</span><span class="token punctuation">)</span> SIGRTMIN+9    <span class="token number">44</span><span class="token punctuation">)</span> SIGRTMIN+10    <span class="token number">45</span><span class="token punctuation">)</span> SIGRTMIN+11    <span class="token number">46</span><span class="token punctuation">)</span> SIGRTMIN+12    <span class="token number">47</span><span class="token punctuation">)</span> SIGRTMIN+13
<span class="token number">48</span><span class="token punctuation">)</span> SIGRTMIN+14    <span class="token number">49</span><span class="token punctuation">)</span> SIGRTMIN+15    <span class="token number">50</span><span class="token punctuation">)</span> SIGRTMAX-14    <span class="token number">51</span><span class="token punctuation">)</span> SIGRTMAX-13    <span class="token number">52</span><span class="token punctuation">)</span> SIGRTMAX-12
<span class="token number">53</span><span class="token punctuation">)</span> SIGRTMAX-11    <span class="token number">54</span><span class="token punctuation">)</span> SIGRTMAX-10    <span class="token number">55</span><span class="token punctuation">)</span> SIGRTMAX-9    <span class="token number">56</span><span class="token punctuation">)</span> SIGRTMAX-8    <span class="token number">57</span><span class="token punctuation">)</span> SIGRTMAX-7
<span class="token number">58</span><span class="token punctuation">)</span> SIGRTMAX-6    <span class="token number">59</span><span class="token punctuation">)</span> SIGRTMAX-5    <span class="token number">60</span><span class="token punctuation">)</span> SIGRTMAX-4    <span class="token number">61</span><span class="token punctuation">)</span> SIGRTMAX-3    <span class="token number">62</span><span class="token punctuation">)</span> SIGRTMAX-2</code></pre></div>
<ul>
<li>常用信号</li>
</ul>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">ctrl + <span class="token operator">==</span> SIGINT

<span class="token comment"># 立即终止，不受阻塞，信号是SIGKILL</span>
<span class="token function">kill</span> -9 pid</code></pre></div>
<hr>
<p><a name="fsAWV"></a></p>
<h2 id="守护进程（daemon）" style="position:relative;"><a href="#%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B%EF%BC%88daemon%EF%BC%89" aria-label="守护进程（daemon） permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>守护进程（daemon）</h2>
<p><a name="nG4aV"></a></p>
<h3 id="守护进程和一般进程的区别" style="position:relative;"><a href="#%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B%E5%92%8C%E4%B8%80%E8%88%AC%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%8C%BA%E5%88%AB" aria-label="守护进程和一般进程的区别 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>守护进程和一般进程的区别</h3>
<ol>
<li>让程序脱离当前终端执行</li>
<li>随着系统启动而启动，不用用户手动的去执行</li>
<li>
<p>nohup</p>
<ul>
<li>nohup 命令会使进程忽略 hangup（挂起）信号</li>
<li>nohup 可以让一个命令脱离终端执行，但他不是守护进程</li>
</ul>
</li>
<li>
<p>screen 或者 tmux</p>
<ul>
<li>screen可以同时连接多个本地或远程的命令行会话，并在其间自由切换</li>
<li>screen 进入 screen 环境</li>
<li>ctrl + a d 退出(detached)screen 环境</li>
<li>screen -ls 查看 screen 会话</li>
<li>screen -r sessionid 恢复会话</li>
</ul>
</li>
</ol>
<br />
<br />每个进程的依赖的环境都在 /proc/pid 的文件夹中
```shell
cd /proc/123
<h1 id="进程执行的位置" style="position:relative;"><a href="#%E8%BF%9B%E7%A8%8B%E6%89%A7%E8%A1%8C%E7%9A%84%E4%BD%8D%E7%BD%AE" aria-label="进程执行的位置 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>进程执行的位置</h1>
<p>ls -l cwd</p>
<h1 id="out" style="position:relative;"><a href="#out" aria-label="out permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>out</h1>
<p>cwd -> /</p>
<h1 id="进程的输出" style="position:relative;"><a href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%BE%93%E5%87%BA" aria-label="进程的输出 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>进程的输出</h1>
<p>ls -l fd</p>
<h1 id="out-1" style="position:relative;"><a href="#out-1" aria-label="out 1 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>out</h1>
<p>lrwx------ 1 root root 64 Sep 14 05:15 0 -> /dev/pts/4
lrwx------ 1 root root 64 Sep 14 05:15 1 -> /dev/pts/4
lrwx------ 1 root root 64 Sep 14 05:15 2 -> /dev/pts/4
lrwx------ 1 root root 64 Sep 14 12:32 255 -> /dev/pts/4</p>
<h1 id="0-是标准输入" style="position:relative;"><a href="#0-%E6%98%AF%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5" aria-label="0 是标准输入 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>0 是标准输入</h1>
<h1 id="12-是标准输出" style="position:relative;"><a href="#12-%E6%98%AF%E6%A0%87%E5%87%86%E8%BE%93%E5%87%BA" aria-label="12 是标准输出 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1,2 是标准输出</h1>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">---

&lt;a name=&quot;tDHr2&quot;&gt;&lt;/a&gt;
## 服务管理工具 - systemctl

- 常用操作systemctl start|stop|restart|reload|enable|disable 服务名称
- 软件包安装的服务单元/usr/lib/systemd/system
   - service -&gt; /etc/init.d
   - systemctl -&gt; /usr/lib/systemd/system
   - cd /usr/lib/systemd/system
   - vim sshd.service --查看服务文件
   - cd /lib/systemd/system --服务文件目录
   - ls -l runlevel*.target --查看服务文件映射

---

&lt;a name=&quot;JWOl7&quot;&gt;&lt;/a&gt;
## SELinux
安全增强版本的 Linux，以前的 linux 是利用用户和文件的权限来进行安全控制既 DAC（自主访问控制）&lt;br /&gt;
&lt;br /&gt;MAC（强制访问控制）会给用户、进程和文件都打上标签，如果三者标签不一致则不允许执行&lt;br /&gt;
&lt;br /&gt;SElinux 是一个内核模块，也是 Linux 的一个安全子系统。SELinux 可是设置 DAC 或者是 MAC。需要注意的是开启 SELinux 会消耗服务器的性能，所以一般在生产环境下都是关闭的
```shell
# 查看SELinux状态
getenforce</code></pre></div>
<hr>
<p><a name="Hzpr9"></a></p>
<h2 id="内存和磁盘管理" style="position:relative;"><a href="#%E5%86%85%E5%AD%98%E5%92%8C%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86" aria-label="内存和磁盘管理 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>内存和磁盘管理</h2>
<p><a name="KoZsx"></a></p>
<h3 id="内存和磁盘使用率查看" style="position:relative;"><a href="#%E5%86%85%E5%AD%98%E5%92%8C%E7%A3%81%E7%9B%98%E4%BD%BF%E7%94%A8%E7%8E%87%E6%9F%A5%E7%9C%8B" aria-label="内存和磁盘使用率查看 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>内存和磁盘使用率查看</h3>
<ul>
<li>内存  free -m/-g/top</li>
</ul>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token punctuation">[</span>root@hadoop3 ~<span class="token punctuation">]</span><span class="token comment"># free -m</span>
              total        used        <span class="token function">free</span>      shared  buff/cache   available
Mem:          <span class="token number">64264</span>       <span class="token number">51686</span>        <span class="token number">2089</span>         <span class="token number">140</span>       <span class="token number">10488</span>       <span class="token number">11807</span>
Swap:             <span class="token number">0</span>           <span class="token number">0</span>           <span class="token number">0</span>
<span class="token punctuation">[</span>root@hadoop3 ~<span class="token punctuation">]</span><span class="token comment"># free -g</span>
              total        used        <span class="token function">free</span>      shared  buff/cache   available
Mem:             <span class="token number">62</span>          <span class="token number">50</span>           <span class="token number">2</span>           <span class="token number">0</span>          <span class="token number">10</span>          <span class="token number">11</span>
Swap:             <span class="token number">0</span>           <span class="token number">0</span>           <span class="token number">0</span></code></pre></div>
<ul>
<li>磁盘</li>
</ul>
<p>fdisk</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token punctuation">[</span>root@hadoop3 ~<span class="token punctuation">]</span><span class="token comment"># fdisk -l</span>

Disk /dev/vda: <span class="token number">53.7</span> GB, <span class="token number">53687091200</span> bytes, <span class="token number">104857600</span> sectors
Units <span class="token operator">=</span> sectors of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
Sector size <span class="token punctuation">(</span>logical/physical<span class="token punctuation">)</span>: <span class="token number">512</span> bytes / <span class="token number">512</span> bytes
I/O size <span class="token punctuation">(</span>minimum/optimal<span class="token punctuation">)</span>: <span class="token number">512</span> bytes / <span class="token number">512</span> bytes
Disk label type: dos
Disk identifier: 0x0009ac89

   Device Boot      Start         End      Blocks   Id  System
/dev/vda1   *        <span class="token number">2048</span>   <span class="token number">104857566</span>    <span class="token number">52427759</span>+  <span class="token number">83</span>  Linux

Disk /dev/vdb: <span class="token number">214.7</span> GB, <span class="token number">214748364800</span> bytes, <span class="token number">419430400</span> sectors
Units <span class="token operator">=</span> sectors of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
Sector size <span class="token punctuation">(</span>logical/physical<span class="token punctuation">)</span>: <span class="token number">512</span> bytes / <span class="token number">512</span> bytes
I/O size <span class="token punctuation">(</span>minimum/optimal<span class="token punctuation">)</span>: <span class="token number">512</span> bytes / <span class="token number">512</span> bytes</code></pre></div>
<p>如上图所示，共有两个磁盘/dev/vda、/dev/vdb<br />其中 /dev/vda 是分区了，因为有 /dev/vda1<br />
<br />df 常常用来查看磁盘是否满了</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">df</span> -h

Filesystem      Size  Used Avail Use% Mounted on
/dev/vda1        50G   16G   32G  <span class="token number">34</span>% /
devtmpfs         32G     <span class="token number">0</span>   32G   <span class="token number">0</span>% /dev
tmpfs            32G   24K   32G   <span class="token number">1</span>% /dev/shm
tmpfs            32G  <span class="token number">1</span>.5M   32G   <span class="token number">1</span>% /run
tmpfs            32G     <span class="token number">0</span>   32G   <span class="token number">0</span>% /sys/fs/cgroup
/dev/vdb        197G   55G  134G  <span class="token number">29</span>% /data
tmpfs           <span class="token number">6</span>.3G     <span class="token number">0</span>  <span class="token number">6</span>.3G   <span class="token number">0</span>% /run/user/0</code></pre></div>
<p>du</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token punctuation">[</span>root@hadoop3 elasticsearch<span class="token punctuation">]</span><span class="token comment"># du -h docker-compose.yaml</span>
<span class="token number">4</span>.0K    docker-compose.yaml</code></pre></div>
<p>du -h 和 ls -lh 区别是，du 是实际占用的空间，而 ls -lh 是包含空洞空间的，其中磁盘有些位置是空的，只是声明了文件存储的位置，并没有实际存储数据<br /></p>
<hr>
<p><a name="CEe83"></a></p>
<h2 id="linux-文件系统管理" style="position:relative;"><a href="#linux-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86" aria-label="linux 文件系统管理 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Linux 文件系统管理</h2>
<p><a name="dbpPh"></a></p>
<h3 id="linux-常见的文件系统" style="position:relative;"><a href="#linux-%E5%B8%B8%E8%A7%81%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F" aria-label="linux 常见的文件系统 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Linux 常见的文件系统</h3>
<ul>
<li>ext4</li>
<li>xfs</li>
<li>NTFS（需要安全额外的软件）
<a name="y5ziw"></a></li>
</ul>
<h3 id="硬链接" style="position:relative;"><a href="#%E7%A1%AC%E9%93%BE%E6%8E%A5" aria-label="硬链接 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>硬链接</h3>
<ul>
<li>多个文件其实都是链接到同一个数据块，修改一个文件，其余的文件都会同步变化。</li>
<li>硬链接是不允许跨文件系统的。</li>
<li>创建硬链接的方式ln afile bfile</li>
</ul>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token punctuation">[</span>root@VM-0-16-centos test<span class="token punctuation">]</span><span class="token comment"># cat base</span>
aaaa
<span class="token punctuation">[</span>root@VM-0-16-centos test<span class="token punctuation">]</span><span class="token comment"># ln base yin</span>
<span class="token punctuation">[</span>root@VM-0-16-centos test<span class="token punctuation">]</span><span class="token comment"># ls -li</span>
<span class="token comment"># inode号是相同的，他们指向同一个inode块</span>
<span class="token number">131106</span> -rw-r--r-- <span class="token number">2</span> root root <span class="token number">5</span> Nov <span class="token number">25</span> 09:56 base
<span class="token number">131106</span> -rw-r--r-- <span class="token number">2</span> root root <span class="token number">5</span> Nov <span class="token number">25</span> 09:56 yin
<span class="token punctuation">[</span>root@VM-0-16-centos test<span class="token punctuation">]</span><span class="token comment"># rm base</span>
rm: remove regular <span class="token function">file</span> ‘base’? y
<span class="token punctuation">[</span>root@VM-0-16-centos test<span class="token punctuation">]</span><span class="token comment"># cat yin</span>
aaaa</code></pre></div>
<p><a name="yYaKq"></a></p>
<h3 id="软链接" style="position:relative;"><a href="#%E8%BD%AF%E9%93%BE%E6%8E%A5" aria-label="软链接 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>软链接</h3>
<ul>
<li>克服了硬链接不能跨文件系统的问题。</li>
<li>但是实现上是不同的，软链接是创建了完全不同的一个文件，当系统读取这个文件时会发现这个文件是个链接文件，所以就会读取它链接的那个原文件</li>
<li>对软链接文件设置权限并不会改变该文件的权限，而是改变的是原文件。</li>
<li>创建软链接的方式ln -s afile bfile</li>
</ul>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token punctuation">[</span>root@VM-0-16-centos test<span class="token punctuation">]</span><span class="token comment"># cat base</span>
aaaa
<span class="token punctuation">[</span>root@VM-0-16-centos test<span class="token punctuation">]</span><span class="token comment"># ln -s base ruan</span>
<span class="token punctuation">[</span>root@VM-0-16-centos test<span class="token punctuation">]</span><span class="token comment"># ls -li</span>
<span class="token comment"># inode号不同</span>
<span class="token number">131103</span> -rw-r--r-- <span class="token number">1</span> root root <span class="token number">5</span> Nov <span class="token number">25</span> 09:59 base
<span class="token number">131104</span> lrwxrwxrwx <span class="token number">1</span> root root <span class="token number">4</span> Nov <span class="token number">25</span> <span class="token number">10</span>:00 ruan -<span class="token operator">></span> base
<span class="token punctuation">[</span>root@VM-0-16-centos test<span class="token punctuation">]</span><span class="token comment"># cat ruan</span>
aaaa
<span class="token punctuation">[</span>root@VM-0-16-centos test<span class="token punctuation">]</span><span class="token comment"># rm base</span>
<span class="token punctuation">[</span>root@VM-0-16-centos test<span class="token punctuation">]</span><span class="token comment"># ls -li</span>
total <span class="token number">0</span>
<span class="token number">131104</span> lrwxrwxrwx <span class="token number">1</span> root root <span class="token number">4</span> Nov <span class="token number">25</span> <span class="token number">10</span>:00 ruan -<span class="token operator">></span> base
<span class="token punctuation">[</span>root@VM-0-16-centos test<span class="token punctuation">]</span><span class="token comment"># cat ruan</span>
<span class="token comment"># 当删除了原始文件，因为软连接是指向的原始文件，并没有指向inode号，所以访问不到原始文件</span>
cat: ruan: No such <span class="token function">file</span> or directory
<span class="token punctuation">[</span>root@VM-0-16-centos test<span class="token punctuation">]</span><span class="token comment"># echo dddd >> ruan</span>
<span class="token punctuation">[</span>root@VM-0-16-centos test<span class="token punctuation">]</span><span class="token comment"># ls -li</span>
<span class="token comment"># 向软连接里写内容，就相当于在原始文件里写内容，所以原始文件就重新出现了</span>
<span class="token number">131103</span> -rw-r--r-- <span class="token number">1</span> root root <span class="token number">5</span> Nov <span class="token number">25</span> <span class="token number">10</span>:00 base
<span class="token number">131104</span> lrwxrwxrwx <span class="token number">1</span> root root <span class="token number">4</span> Nov <span class="token number">25</span> <span class="token number">10</span>:00 ruan -<span class="token operator">></span> base
<span class="token punctuation">[</span>root@VM-0-16-centos test<span class="token punctuation">]</span><span class="token comment"># cat base</span>
dddd</code></pre></div>
<hr>
<p><a name="1hXit"></a></p>
<h2 id="硬盘分区与挂载" style="position:relative;"><a href="#%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA%E4%B8%8E%E6%8C%82%E8%BD%BD" aria-label="硬盘分区与挂载 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>硬盘分区与挂载</h2>
<ul>
<li>硬盘分区fdisk /dev/vdb，如果是 2T 以上的硬盘需要用 parted 命令</li>
<li>格式化设置分区文件系统mkfs.文件系统 /dev/vdb</li>
<li>分区挂载到目录下mount /dev/vdb /xx</li>
<li>这样挂载只是将数据写到了内存中，如果想要重启后还是挂载到该目录，需要修改文件 /etc/fstab</li>
</ul>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">root@max-master:~<span class="token comment"># cat /etc/fstab</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>e1d5f0dc-9df2-421e-a87b-f761f5db8947 / ext4 defaults <span class="token number">0</span> <span class="token number">0</span>
<span class="token comment">##/swap.img    none    swap    sw    0    0</span>
max-master:gfs-configs    /var/cache/zoomeye-max    glusterfs    defaults,_netdev    <span class="token number">0</span>    <span class="token number">0</span>
/dev/vdb1 /xx ext4 defaults <span class="token number">0</span> <span class="token number">0</span></code></pre></div>
<hr>
<p><a name="NxCQD"></a></p>
<h2 id="系统日志" style="position:relative;"><a href="#%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97" aria-label="系统日志 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>系统日志</h2>
<p>/var/log 查看日志</p>
<ul>
<li>tail -f cron -- 查看定时任务</li>
<li>tail -f messages -- 查看常规信息</li>
<li>tail -f dmesg --查看内核启动日志</li>
<li>tail -f secure -- 查看安全相关的日志</li>
<li>
<br />
</li>
</ul></section><footer class="post__PostFooter-h8gzap-9 bVnRow"><p>Published under <span><a class="post__FooterTagLink-h8gzap-10 jqxPBx" href="/tag/linux">Linux</a></span> on <time dateTime="2021-04-11T00:00:00.000Z">11 April, 2021</time>.</p></footer></article></div></div><section class="post__PostAddition-h8gzap-11 bYZhdV"><div class="common__Container-sc-1d5kp8-0 post__PostAdditionContent-h8gzap-12 iKTLAq"><div class="post__BioWrapper-h8gzap-13 gTfYTh"><section class="bio__StyledBio-sc-19adui4-0 iHGPyz"><div class="avatar__StyledAvatar-sc-1v6bq9n-0 kXzLbm gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:55px;height:55px"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAMEBQL/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQP/2gAMAwEAAhADEAAAAeY5rjFYKVdEzeaKf//EABwQAAICAgMAAAAAAAAAAAAAAAEDAAIREjEzQf/aAAgBAQABBQJg0qu24mRaBa9ciU59b2//xAAWEQEBAQAAAAAAAAAAAAAAAAARABD/2gAIAQMBAT8BI3//xAAWEQEBAQAAAAAAAAAAAAAAAAARABD/2gAIAQIBAT8BZ3//xAAZEAADAAMAAAAAAAAAAAAAAAAAARECEDH/2gAIAQEABj8CvSyaj4xYraMj/8QAHRABAAICAgMAAAAAAAAAAAAAAQARIVExQWFx8P/aAAgBAQABPyG2OBqedFQ4gW7ZAWImBlbS5IcnuH36jqjc/9oADAMBAAIAAwAAABCvB4P/xAAZEQEAAgMAAAAAAAAAAAAAAAABADEQESH/2gAIAQMBAT8Q0TmBUbn/xAAXEQEAAwAAAAAAAAAAAAAAAAARABAh/9oACAECAQE/EG7Bf//EABwQAQADAAIDAAAAAAAAAAAAAAEAESEQYTFB0f/aAAgBAQABPxAqOffZYytIw4Bb3AVSEpAyy33sWjiIncLHitjrt+op/Dc//9k=" alt="pipihua" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/72e8008a1ad86357775e2878c278a5b7/36742/profile-pic.jpg 1x,
/static/72e8008a1ad86357775e2878c278a5b7/aa6d7/profile-pic.jpg 1.5x,
/static/72e8008a1ad86357775e2878c278a5b7/05b67/profile-pic.jpg 2x" /><img loading="lazy" width="55" height="55" srcset="/static/72e8008a1ad86357775e2878c278a5b7/36742/profile-pic.jpg 1x,
/static/72e8008a1ad86357775e2878c278a5b7/aa6d7/profile-pic.jpg 1.5x,
/static/72e8008a1ad86357775e2878c278a5b7/05b67/profile-pic.jpg 2x" src="/static/72e8008a1ad86357775e2878c278a5b7/36742/profile-pic.jpg" alt="pipihua" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><h3 class="bio__AuthorName-sc-19adui4-2 lfACiL">pipihua</h3><p class="bio__AuthorDescription-sc-19adui4-1 lbetsi">I'm <strong>pipihua</strong>, The best way to deal with anxiety is to get started right now.
        If you like what you see feel free to give a 
        <a href="https://github.com/pipihua666" rel="noopener" target="_blank">star on GitHub!</a></p><ul class="social-channel-list__StyledSocialChannels-sc-16w9pwh-0 YZAaE"><li class="social-channel-list__StyledSocialChannel-sc-16w9pwh-1 hLhzMS"><a href="https://github.com/pipihua666" target="_blank" rel="noopener" aria-label="github"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li></ul></section></div></div></section></main><footer class="style__StyledFooter-sc-1oqvjzu-0 gpDhwt"><div class="common__Container-sc-1d5kp8-0 style__FooterContainer-sc-1oqvjzu-1 ctpkkx"><nav class="style__StyledNav-sc-1oqvjzu-4 etXHUJ"><ul><li><a href="https://www.cnblogs.com/yahuian/" target="_blank" class="style__FooterMenuLink-sc-1oqvjzu-6 dLTgSL">推荐一个Golang工程师</a></li></ul></nav><div><p class="style__Copyright-sc-1oqvjzu-2 cXOFUh"><strong>pipihua&#x27;s blog</strong> © <!-- -->2021</p><p class="style__DesignBy-sc-1oqvjzu-3 bqPxdl">Theme by<!-- --> <a href="https://nehalist.io" target="_blank" rel="noopener">nehalist.io</a></p></div></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/linux-system";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-25cf05b7fad03f114865.js"],"app":["/app-6124a287738eddf542a4.js"],"component---theme-src-pages-404-tsx":["/component---theme-src-pages-404-tsx-8164ccd1f47bf761fa52.js"],"component---theme-src-pages-archive-tsx":["/component---theme-src-pages-archive-tsx-bea44c6f4fba5c2e6e3a.js"],"component---theme-src-pages-tags-tsx":["/component---theme-src-pages-tags-tsx-43a7c6667512c3c1c411.js"],"component---theme-src-templates-page-tsx":["/component---theme-src-templates-page-tsx-d8ba7e74bef2b20f7182.js"],"component---theme-src-templates-post-tsx":["/component---theme-src-templates-post-tsx-0578bc3901073525e650.js"],"component---theme-src-templates-posts-tsx":["/component---theme-src-templates-posts-tsx-bdc73af120c880ed05df.js"],"component---theme-src-templates-tag-tsx":["/component---theme-src-templates-tag-tsx-538acdd95d17278693dd.js"]};/*]]>*/</script><script src="/polyfill-25cf05b7fad03f114865.js" nomodule=""></script><script src="/component---theme-src-templates-post-tsx-0578bc3901073525e650.js" async=""></script><script src="/commons-f9f6a650dbf2a6231e53.js" async=""></script><script src="/fa5f8105-9880536ad98180a733c3.js" async=""></script><script src="/styles-7d4153d260c0197f0043.js" async=""></script><script src="/app-6124a287738eddf542a4.js" async=""></script><script src="/framework-5dc1caea2c5fd4bcd10a.js" async=""></script><script src="/webpack-runtime-3f32ef2c5f8029f8d8b2.js" async=""></script></body></html>