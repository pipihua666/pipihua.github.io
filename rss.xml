<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[皮皮花的博客]]></title><description><![CDATA[如果觉得文章还不错，欢迎到github点击小爱心]]></description><link>https://www.pipihua666.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Sat, 20 Feb 2021 14:20:17 GMT</lastBuildDate><item><title><![CDATA[react使用websocket通信]]></title><description><![CDATA[浏览器自带的 api：（如果是 https 则采用 wss）  开发环境配置：  生产环境配置： 我的 nginx 配置： 扩展：
nodejs 后端非常好用的 websocket 通信包：https://socket.io/基于 socket.io…]]></description><link>https://www.pipihua666.github.io/websocket/</link><guid isPermaLink="false">https://www.pipihua666.github.io/websocket/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;h4&gt;浏览器自带的 api：（如果是 https 则采用 wss）&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 这里的转发标识为/ws&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; wsPath &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ws://&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;location&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;host&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/ws/system&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; socket &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WebSocket&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wsPath&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
socket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;open&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// send可以传递字符串或者二进制&lt;/span&gt;
  socket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; page&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; size&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
socket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;handleMessage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
socket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;close&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  socket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;handleMessage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  socket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;0BRMq&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;开发环境配置：&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;devServer&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      proxy&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 普通http请求&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;/api&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            target&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;http://localhost:8099/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            changeOrigin&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            secure&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// websocket请求配置&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;/ws&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          target&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;ws://localhost:8099/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;// 可以写http或者ws开头&lt;/span&gt;
          ws&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 代理使用websokcet协议&lt;/span&gt;
          secure&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          changeOrigin&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;br /&gt;
&lt;p&gt;&lt;a name=&quot;UDtcL&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;生产环境配置：&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nginx&quot;&gt;&lt;pre class=&quot;language-nginx&quot;&gt;&lt;code class=&quot;language-nginx&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; 这里是websocket相关的配置
&lt;span class=&quot;token keyword&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;api&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ws &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;proxy_pass&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;192.168&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;.233&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;.238&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8090&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;proxy_next_upstream&lt;/span&gt; error &lt;span class=&quot;token keyword&quot;&gt;timeout&lt;/span&gt; invalid_header http_500 http_502 http_503&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;proxy_set_header&lt;/span&gt; Host &lt;span class=&quot;token variable&quot;&gt;$host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;proxy_http_version&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;proxy_set_header&lt;/span&gt; X&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Real&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;IP &lt;span class=&quot;token variable&quot;&gt;$remote_addr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;proxy_set_header&lt;/span&gt; X&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Forwarded&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;For &lt;span class=&quot;token variable&quot;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;proxy_set_header&lt;/span&gt; X&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Forwarded&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;Proto &lt;span class=&quot;token keyword&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;proxy_set_header&lt;/span&gt; Upgrade &lt;span class=&quot;token variable&quot;&gt;$http_upgrade&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;proxy_set_header&lt;/span&gt; Connection &lt;span class=&quot;token string&quot;&gt;&quot;upgrade&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;proxy_set_header&lt;/span&gt; Origin &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;proxy_redirect&lt;/span&gt; off&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;br /&gt;
&lt;h4&gt;我的 nginx 配置：&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nginx&quot;&gt;&lt;pre class=&quot;language-nginx&quot;&gt;&lt;code class=&quot;language-nginx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ws&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ws&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;api&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;v1&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;$&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;proxy_pass&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ginapp&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;service&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8686&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;proxy_http_version&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;proxy_set_header&lt;/span&gt; Upgrade &lt;span class=&quot;token variable&quot;&gt;$http_upgrade&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;proxy_set_header&lt;/span&gt; Connection &lt;span class=&quot;token string&quot;&gt;&quot;upgrade&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;扩展：&lt;br /&gt;
nodejs 后端非常好用的 websocket 通信包：&lt;a href=&quot;https://socket.io/&quot;&gt;https://socket.io/&lt;/a&gt;&lt;br /&gt;基于 socket.io 衍生出的前端 websocket 通信工具：&lt;a href=&quot;https://socket.io/docs/client-api/&quot;&gt;https://socket.io/docs/client-api/&lt;/a&gt;&lt;br /&gt;注意：socket.io.client 必须与 socker.io 配合使用&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[wireshark过滤器表达式]]></title><description><![CDATA[过滤器表达式 协议过滤 IP 地址过滤 端口过滤 HTTP 模式过滤 逻辑运算]]></description><link>https://www.pipihua666.github.io/wireshark/</link><guid isPermaLink="false">https://www.pipihua666.github.io/wireshark/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;h4&gt;过滤器表达式&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;协议过滤&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;tcp,只显示 tcp 协议&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;IP 地址过滤&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; ip.src == 192.168.1.1 源地址
 ip.dst == 192.168.1.2 目的地址&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;端口过滤&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; tcp.port == 80，只显示 tcp 端口为 80
 tcp.srcport == 80，只显示 tcp 协议源端口为 80&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;4&quot;&gt;
&lt;li&gt;HTTP 模式过滤&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; http.request.method == &amp;#39;GET&amp;#39;,只显示 HTTP GET 方法&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;5&quot;&gt;
&lt;li&gt;逻辑运算&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; ip.src == 192.168.1.1 or ip.src == 193.168.1.2&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[webpack中五个容易混淆的知识点]]></title><description><![CDATA[1.webpack 中，， 和  的区别是什么？ 1604373359405.jpg看这个图就很明白了： 对于一份同逻辑的代码，当我们手写下一个一个的文件，它们无论是 ESM 还是 commonJS 或是 AMD，他们都是 module ； 当我们写的 module…]]></description><link>https://www.pipihua666.github.io/webpack/</link><guid isPermaLink="false">https://www.pipihua666.github.io/webpack/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a name=&quot;fPK71&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;1.webpack 中，&lt;code class=&quot;language-text&quot;&gt;module&lt;/code&gt;，&lt;code class=&quot;language-text&quot;&gt;chunk&lt;/code&gt; 和 &lt;code class=&quot;language-text&quot;&gt;bundle&lt;/code&gt; 的区别是什么？&lt;/h4&gt;
&lt;p&gt;&lt;br /&gt;&lt;img src=&quot;https://cdn.nlark.com/yuque/0/2020/jpeg/1683395/1604373377394-bbca646b-517a-4f66-8086-458c666e7468.jpeg#align=left&amp;#x26;display=inline&amp;#x26;height=372&amp;#x26;margin=%5Bobject%20Object%5D&amp;#x26;name=1604373359405.jpg&amp;#x26;originHeight=372&amp;#x26;originWidth=657&amp;#x26;size=48412&amp;#x26;status=done&amp;#x26;style=none&amp;#x26;width=657&quot; alt=&quot;1604373359405.jpg&quot;&gt;&lt;br /&gt;看这个图就很明白了：&lt;br /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;对于一份同逻辑的代码，当我们手写下一个一个的文件，它们无论是 ESM 还是 commonJS 或是 AMD，他们都是 module ；&lt;/li&gt;
&lt;li&gt;当我们写的 module 源文件传到 webpack 进行打包时，webpack 会根据文件引用关系生成 chunk 文件，webpack 会对这个 chunk 文件进行一些操作；&lt;/li&gt;
&lt;li&gt;webpack 处理好 chunk 文件后，最后会输出 bundle 文件，这个 bundle 文件包含了经过加载和编译的最终源文件，所以它可以直接在浏览器中运行。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;br /&gt;一般来说一个 chunk 对应一个 bundle，比如上图中的 utils.js -&gt; chunks 1 -&gt; utils.bundle.js；但也有例外，比如说上图中，我就用 MiniCssExtractPlugin 从 chunks 0 中抽离出了 index.bundle.css 文件。&lt;br /&gt;&lt;code class=&quot;language-text&quot;&gt;module&lt;/code&gt;，&lt;code class=&quot;language-text&quot;&gt;chunk&lt;/code&gt; 和 &lt;code class=&quot;language-text&quot;&gt;bundle&lt;/code&gt; 其实就是同一份逻辑代码在不同转换场景下的取了三个名字：&lt;br /&gt;我们直接写出来的是 module，webpack 处理时是 chunk，最后生成浏览器可以直接运行的 bundle。&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;wcxyI&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;2.&lt;code class=&quot;language-text&quot;&gt;filename&lt;/code&gt; 和 &lt;code class=&quot;language-text&quot;&gt;chunkFilename&lt;/code&gt; 的区别&lt;/h4&gt;
&lt;p&gt;&lt;br /&gt;&lt;code class=&quot;language-text&quot;&gt;filename&lt;/code&gt; 指&lt;strong&gt;列在&lt;/strong&gt; &lt;code class=&quot;language-text&quot;&gt;entry&lt;/code&gt; 中，打包后输出的文件的名称。&lt;br /&gt;&lt;code class=&quot;language-text&quot;&gt;chunkFilename&lt;/code&gt; 指&lt;strong&gt;未列在&lt;/strong&gt; &lt;code class=&quot;language-text&quot;&gt;entry&lt;/code&gt; 中，却又需要被打包出来的文件（如懒加载的文件）的名称。&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;jwkVB&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;3.&lt;code class=&quot;language-text&quot;&gt;webpackPrefetch&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;webpackPreload&lt;/code&gt; 和 &lt;code class=&quot;language-text&quot;&gt;webpackChunkName&lt;/code&gt; 到底是干什么的？&lt;/h4&gt;
&lt;p&gt;&lt;br /&gt;&lt;code class=&quot;language-text&quot;&gt;webpackChunkName&lt;/code&gt; 是为预加载的文件取别名，&lt;code class=&quot;language-text&quot;&gt;webpackPrefetch&lt;/code&gt; 会在浏览器闲置下载文件，&lt;code class=&quot;language-text&quot;&gt;webpackPreload&lt;/code&gt; 会在父 chunk 加载时并行下载文件。&lt;br /&gt;
&lt;br /&gt;&lt;code class=&quot;language-text&quot;&gt;webpackChunkName&lt;/code&gt;打包出来的 bundle 会有 vendors~这种前缀&lt;br /&gt;原因是其实 webpack 懒加载是用内置的一个插件 &lt;strong&gt;SplitChunksPlugin&lt;/strong&gt; 实现的，这个插件里面有些&lt;strong&gt;默认配置项&lt;/strong&gt;，比如说 &lt;code class=&quot;language-text&quot;&gt;automaticNameDelimiter&lt;/code&gt;，默认的分割符就是 &lt;code class=&quot;language-text&quot;&gt;~&lt;/code&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;5rfUT&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;4.&lt;code class=&quot;language-text&quot;&gt;hash&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;chunkhash&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;contenthash&lt;/code&gt; 有什么不同？&lt;/h4&gt;
&lt;p&gt;&lt;br /&gt;hash 计算与整个项目的构建相关；&lt;br /&gt;chunkhash 计算与同一 chunk 内容相关；&lt;br /&gt;contenthash 计算与文件内容本身相关。&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;zQZjK&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;5.&lt;code class=&quot;language-text&quot;&gt;sourse-map&lt;/code&gt; 中 &lt;code class=&quot;language-text&quot;&gt;eval&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;cheap&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;inline&lt;/code&gt; 和 &lt;code class=&quot;language-text&quot;&gt;module&lt;/code&gt; 各是什么意思？&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;left&quot;&gt;参数&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;参数解释&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;eval&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;打包后的模块都使用 &lt;code class=&quot;language-text&quot;&gt;eval()&lt;/code&gt;执行，行映射可能不准；不产生独立的 map 文件，速度很快(不需要复杂转换和打包)，不能映射到原始代码（没有从 loader 中获取 source map）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;cheap&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;map 映射只显示行不显示列（只看得到哪行错了），忽略源自 loader 的 source map,即没有源码的映射&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;inline&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;映射文件以 base64 格式编码，加在 bundle 文件最后，不产生独立的 map 文件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;module&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;增加对 loader source map 和第三方模块的映射，即源码的映射&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;hidden&lt;/code&gt;&lt;br /&gt;&lt;code class=&quot;language-text&quot;&gt;nosources-source-map&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;和&lt;code class=&quot;language-text&quot;&gt;source-map&lt;/code&gt;基本相同，但是不会有&lt;code class=&quot;language-text&quot;&gt;sourceMappingURL&lt;/code&gt;注释，这样你就无法定位到源文件，这样你在开发环境能看到具体的目录结构，基本上就是生产环境能用，开发环境不能用，&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;br /&gt;
&lt;br /&gt;[原文链接](https://mp.weixin.qq.com/s/H5KeOIKoJ1r3K8-EbKmdLA)&lt;br /&gt;</content:encoded></item><item><title><![CDATA[深入浅出防抖和节流]]></title><description><![CDATA[—连续尝试进行过多的 DOM…]]></description><link>https://www.pipihua666.github.io/throttle/</link><guid isPermaLink="false">https://www.pipihua666.github.io/throttle/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a name=&quot;29e7c796&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;—连续尝试进行过多的 DOM 相关操作时，这很可能会导致浏览器挂起，有时候甚至崩溃&lt;/h4&gt;
&lt;p&gt;&lt;a name=&quot;1776e45a&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;—此时，就需要节流和防抖来使某些代码不可以在没有间断的情况下连续重复的执行。&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;节流&lt;/strong&gt;：让事务在一段时间间隔内周期性的执行（举个栗子：就好像不让水龙头一直不停的流，而是把水龙头揪紧一丢丢，让它一滴一滴周期性的流下去，以此达到节流的效果）
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f3e802c8fe48caf53a3ad297851151c8/e51a6/throttle.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 34.177215189873415%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABBElEQVQoz12RaQqDMBCFvf+l1BP4Q6lYEMTWfV9wj9O8oZHagYfxy6wZ7TxPgmBCiEtgQhy0LAvN80zrun2ZYDZNE0v5Kmn0tW3bKE1Ter1CqpuG2bHvF6uqWrnKc0VR9KY4junfNFTP85z6vqe6rqkoCirLksIw5MC2bVlgvu+zL86NLJokCfshMc7HcZCG9l3XlRUjvsiyjLtyHIe/EBgEhiIqoed5FAQBjeNIXdfx+BoudF2/tQ1mGMaNoft/ZlkWJ72NjOymaXInV0IZbNs2P7pa2DAM5D4e1MuvYkjmPZ88KuxaCsC6rldCPAMKLT8MSwPDm8tIjuFty/9dLg/jgn0AO2MYJklAzCUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;throttle&quot;
        title=&quot;throttle&quot;
        src=&quot;/static/f3e802c8fe48caf53a3ad297851151c8/f058b/throttle.png&quot;
        srcset=&quot;/static/f3e802c8fe48caf53a3ad297851151c8/c26ae/throttle.png 158w,
/static/f3e802c8fe48caf53a3ad297851151c8/6bdcf/throttle.png 315w,
/static/f3e802c8fe48caf53a3ad297851151c8/f058b/throttle.png 630w,
/static/f3e802c8fe48caf53a3ad297851151c8/e51a6/throttle.png 783w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;function throttle(func,wait){
    let timeoutID;                                //初始化定时器
    return function(){                            //调用throttle则返回此闭包
        let args=arguments;                       //保存传给闭包的参数(比如：event对象)
        let context=this;                         //保存闭包的执行环境
        if(!timeoutID){                             //如果定时器不存在
            timeoutID=setTimeout(function(){        //则创建一个新的定时器
                func.apply(context,args);            //绑定func的执行环境为调用闭包的this环境，传入func的参数为调用闭包的参数
                timeoutID=null;                     //执行完func重置timeout
            },wait);                             //在wait时间后将匿名函数插入执行队列
        }
    };
}
1.函数的目的是：定义一个定时器，如果定时器不存在，则创建一个新的定时器，并执行函数func；
2.函数返回闭包的原因：为了保持timeoutID变量一直在内存中,调用throttle函数返回的都是**执行过后**的闭包函数来访问timeoutID,通过timeoutID来判断调用throttle时是否存在定时器;
3.注意：apply和call不仅会绑定函数的执行环境和传入参数，还会立即执行函数&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;持续防抖&lt;/strong&gt;：如果持续触发事务，则不执行，在停止持续触发事务一段时间后，再执行事务（举个栗子：坐电梯时，如果在电梯内持续有人按电梯的楼层号，那么电梯是不会启运行的，当没人按楼层号时，电梯会在一小段时间间隔之后才会运行.以此达到持续防抖的效果）
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 545px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4cda95ff862e24da35e4bc7a2c4670cf/3ddad/allthetime.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.53164556962025%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbUlEQVQoz51SXY+CMBDk//8fH/zCF/yIUVQwnmfBmDui5FTUk4IoONdtrqQ59eU2WVim7bCdWeN+v+O/8eysQY88z+H7PlzXxftiAcd1wJgnMZ4kuF4zWTOx9jafwx6NcLvdSlI9DcUcRRHW6zV2ux222y/s93scDhHyopDrPOY4n78Rx7HAjy+7Ni6XC1arFbIsQyK6SRIu35xzpGmKMAxld1QTTj8MgkASn06nh5QdVioVmKaJ2WyGyWQCx3FkTqdTDAYD9Ho9WRNm2zb6/X75TTLpaVBnRDgcDp9egQhHQjMVjDEsl8vXVyZD6vV6SUhiF0I3wilqtRoajUZ5oFqtyv36Xj0NAs1mE1a7LXS8ls4Vv2YQmSKgIGlarZasac+Dy6kQOvj8APM8HIWoaiNFuNlgPB6j0+kIQ1KJWZaFbrcLNW5P5/DVsOq1Oux5TJpHDZDTfzs11PUUqA+rHkRISSbSCFGSXApXev4Anh9EcChyt3EAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;allthetime&quot;
        title=&quot;allthetime&quot;
        src=&quot;/static/4cda95ff862e24da35e4bc7a2c4670cf/3ddad/allthetime.png&quot;
        srcset=&quot;/static/4cda95ff862e24da35e4bc7a2c4670cf/c26ae/allthetime.png 158w,
/static/4cda95ff862e24da35e4bc7a2c4670cf/6bdcf/allthetime.png 315w,
/static/4cda95ff862e24da35e4bc7a2c4670cf/3ddad/allthetime.png 545w&quot;
        sizes=&quot;(max-width: 545px) 100vw, 545px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;function debounce(func,wait){
    let timeoutID;
    return function(){
        let context=this;
        let args=arguments;
        if(timeoutID!==null)clearTimeout(timeoutID);         //如果存在定时器，则将清除定时器
        timeoutID=setTimeout(function(){            //再次创建新的定时器
            func.apply(context,args);
        },wait);
    };
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;立即防抖&lt;/strong&gt;：让事务开始触发时立即执行，然后持续触发事务时不执行，当停止触发事务一段时间后再将事务插入任务队列。（再举个栗子：一直按住弹簧，它不会弹起来，如果突然松手之后，它就会立刻弹起，如果在弹起的过程中又持续按住了弹簧，又突然松手，它就会在一段微小的时间间隔之内再次弹起。以此达到立即防抖的效果。）
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/66cf8900150119788e4a359330310bb9/e9beb/rightnow.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 44.30379746835443%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABCElEQVQoz3VSyaqFMAz1/79Id36ALkTsQsER6zwhvD5EzW1yqahXA4c0AzkZqu37DgpP8hQ72/eYdnZWVQmMeeD7PgRBAPM8H4l1XUMYhjKnuhDdod0Ztm2DTfpQnwULcp6THsYB3oQ6ROaiKAhlWR5Am3MOnufRO89zshljkGXZEVexpmm+BTEBHcMwQNd1F4zjCI7jQBzHME0TdH0HrusSYd/3R17btpRLBQ3DoGJvous6EZ7tZVneR7Ysi9jvl1R7tG2bxlI7Nk2TGljX9fcoyIQXjaIIUrmXJE0hlVCnQiLcF+1ZjomCu0qS5GjiUhAZhRAg/sVXiz/ST3/s6Q/Sr5DAblF/AElktFB1Q5NcAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;rightnow&quot;
        title=&quot;rightnow&quot;
        src=&quot;/static/66cf8900150119788e4a359330310bb9/f058b/rightnow.png&quot;
        srcset=&quot;/static/66cf8900150119788e4a359330310bb9/c26ae/rightnow.png 158w,
/static/66cf8900150119788e4a359330310bb9/6bdcf/rightnow.png 315w,
/static/66cf8900150119788e4a359330310bb9/f058b/rightnow.png 630w,
/static/66cf8900150119788e4a359330310bb9/e9beb/rightnow.png 730w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;function debounce(func,wait){
    let timeoutID;
    return function(){
        let context=this;
        let args=arguments;
        if(timeoutID!==null)clearTimeout(timeoutID);          //如果存在定时器，则清除定时器

        timeoutID=setTimeout(function(){
            timeoutID=null;                                       //定时器在wait时间后清零
        },wait)

        if(timeoutID===null) {                              //如果不存在定时器(timeout=null)，则执行函数
            func.apply(context,args);
        }
    };
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;因此个人认为，防抖和节流的共同作用都是让浏览器节约成本的操作，区别是实现和节约成本的方式不同。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br /&gt;参考博客：&lt;a href=&quot;http://blog.poetries.top/2018/12/21/js-debounce/#at?hmsr=toutiao.io&amp;#x26;utm_medium=toutiao.io&amp;#x26;utm_source=toutiao.io&quot;&gt;附上一个写的很好的博客&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[TCP服务端和浏览器端的三次握手和四次分手]]></title><description><![CDATA[有图可知，由于 HTTP 只有请求和响应的概念，信道连接需要通过 TCP 来完成的，因此让我们先来谈谈 TCP 的三次握手和四次分手吧  客户端首先要 SYN=1,表示要创建连接 服务端接收到后，要告诉客户端：我接受到了！所以加个 ACK=…]]></description><link>https://www.pipihua666.github.io/tcp/</link><guid isPermaLink="false">https://www.pipihua666.github.io/tcp/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6b51daad90009cb69b9edc04b133994d/23592/tcp.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 29.11392405063291%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlklEQVQY042QSw4DIQxDuf9Zp6IzfJMw0KemYtFFVWEEcbBjEe55/4kuvbbqKLW03gI7PuNcC/wW55Jt2LgHdzWlDGzErdeUk5jup3NNx2aYRsn78zq5UAbCcIjJ8ThEFRZvgLewTL0ELiYzevcKn5kq+G0BgIxnTDnrMGeudH3H5sAMyhve89iLj5i6k78/rDAQoET1AsSWX4lcrCKoAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;tcp&quot;
        title=&quot;tcp&quot;
        src=&quot;/static/6b51daad90009cb69b9edc04b133994d/f058b/tcp.png&quot;
        srcset=&quot;/static/6b51daad90009cb69b9edc04b133994d/c26ae/tcp.png 158w,
/static/6b51daad90009cb69b9edc04b133994d/6bdcf/tcp.png 315w,
/static/6b51daad90009cb69b9edc04b133994d/f058b/tcp.png 630w,
/static/6b51daad90009cb69b9edc04b133994d/40601/tcp.png 945w,
/static/6b51daad90009cb69b9edc04b133994d/23592/tcp.png 1031w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;有图可知，由于 HTTP 只有请求和响应的概念，信道连接需要通过 TCP 来完成的，因此让我们先来谈谈 TCP 的三次握手和四次分手吧&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br /&gt;&lt;img src=&quot;https://cdn.nlark.com/yuque/0/2020/jpeg/1683395/1596260869248-96196e24-352e-441e-a8ac-f23db2f311df.jpeg#align=left&amp;#x26;display=inline&amp;#x26;height=385&amp;#x26;margin=%5Bobject%20Object%5D&amp;#x26;originHeight=385&amp;#x26;originWidth=543&amp;#x26;size=0&amp;#x26;status=done&amp;#x26;style=none&amp;#x26;width=543&quot;&gt;&lt;br /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;客户端首先要 SYN=1,表示要创建连接&lt;/li&gt;
&lt;li&gt;服务端接收到后，要告诉客户端：我接受到了！所以加个 ACK=1 表示确认跟客户端创建连接，因为 TCP 连接是双向的，然后还需要发送 SYN=1 表示我也想跟你连接&lt;/li&gt;
&lt;li&gt;理论上这时就创建连接成功（也就是半连接状态）了，但是要防止一个意外(也就是下面的为什么需要三次握手)，所以客户端要再发一个消息给服务端确认一下，这时只需要 ACK=1 就行了&lt;/li&gt;
&lt;li&gt;三次握手完成&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;SYN：代表请求创建连接，所以在三次握手中前两次要 SYN=1，表示这两次用于建立连接；&lt;/li&gt;
&lt;li&gt;ACK：代表确认接受，不管是三次握手还是四次分手，在回应的时候都会加上 ACK=1，表示消息接收到了，并且在建立连接以后的发送数据时，都需加上 ACK=1,来表示数据接收成功；&lt;/li&gt;
&lt;li&gt;seq：序列号，什么意思呢？当发送一个数据时，数据是被拆成多个数据包来发送，序列号就是对每个数据包进行编号，这样接受方才能对数据包进行再次拼接。初始序列号是随机生成的，这样不一样的数据拆包解包就不会连接错了。（例如：两个数据都被拆成 1，2，3 和一个数据是 1，2，3 一个是 101，102，103，很明显后者不会连接错误）&lt;/li&gt;
&lt;li&gt;ack:这个代表下一个数据包的编号，这也就是为什么第二请求时，ack 是 seq+1，&lt;/li&gt;
&lt;li&gt;为什么需要三次握手？---------------如果一个连接请求在网络中跑的慢，超时了，这时客户端会重发请求，但是这个跑的慢的请求最后还是跑到了，然后服务端就接收了两个连接请求，然后全部回应就会创建两个连接，浪费资源！如果加了第三次客户端确认，服务端在接受到一个客户端连接确认请求后，后面再接收到的连接确认请求就可以抛弃不管了。&lt;br /&gt;-------------- 还有一个原因是：因为 TCP 连接时双向的，所以不仅需要连接客户端和服务端的单向连接，还需要连接服务端和客户端的单向连接，在第二次服务端发送了 SYN=1 请求连接的时候还需要客户端发送 ACK=1 来确认连接才能成功双向连接。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br /&gt;&lt;img src=&quot;https://cdn.nlark.com/yuque/0/2020/jpeg/1683395/1596260868928-d7368474-33de-401f-9be8-b080be617339.jpeg#align=left&amp;#x26;display=inline&amp;#x26;height=438&amp;#x26;margin=%5Bobject%20Object%5D&amp;#x26;originHeight=438&amp;#x26;originWidth=564&amp;#x26;size=0&amp;#x26;status=done&amp;#x26;style=none&amp;#x26;width=564&quot;&gt;&lt;br /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;首先客户端请求关闭客户端到服务端方向的连接，这时客户端就要发送一个 FIN=1，表示要关闭一个方向的连接（见上面四次分手的图）&lt;/li&gt;
&lt;li&gt;服务端接收到后是需要确认一下的，所以返回了一个 ACK=1,现在处于半关闭状态，服务端还可以发送数据给客户端（关闭了客户端向服务端发送数据的信道，但 TCB 还未销毁，仍可发送 ACK）&lt;/li&gt;
&lt;li&gt;这时只关闭了 TCP 一个方向，另一个方向也需要关闭,如果服务端没有数据发送给客户端了，服务端也向客户端发了一个 FIN=1 ,ACK=1，当然也要有 seq 和 ack&lt;/li&gt;
&lt;li&gt;客户端接收到后发送 ACK=1，表示接受成功&lt;/li&gt;
&lt;li&gt;服务端接收到客户端发来的 ACK=1 后关闭 TCP 连接，销毁 TCB（什么是 TCB 见下）&lt;/li&gt;
&lt;li&gt;客户端等到 2MSL 后再销毁 TCB（什么是 2MSL 见下）&lt;/li&gt;
&lt;li&gt;四次分手完成！&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;FIN：表示请求关闭连接，在四次分手时，我们发现 FIN 发了两遍。这是因为 TCP 的连接是双向的，所以一次 FIN 只能关闭一个方向。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意&lt;/strong&gt;：TCB 传输控制块是客户端和服务端在请求连接和关闭连接时都会生成的，在请求连接成功和关闭连接成功时销毁，ACK，ack，FIN，seq 等通过 TCB 发送给对方。&lt;/li&gt;
&lt;li&gt;为什么客户端需要等到 2MSL 后才能关闭？---------------服务端在要分手的时候，如果由于某些网络原因没有收到客户端说的确认，那么它会再说一次分手，也就是重发 FIN，如果客户端在说完确认之后就关闭了 TCP 连接，那么服务端是不知道客户端到底能不能和它和平分手的，那么它的端口就一直不能关闭，所以需要客户端等待 2MSL 再关闭 TCP 连接。&lt;/li&gt;
&lt;li&gt;为什么需要四次分手？--------------TCP 是双向的，所以需要在两个方向分别关闭，每个方向的关闭又需要请求和确认，所以一共就 4 次。&lt;/li&gt;
&lt;li&gt;为什么服务端不一起发送 FIN 和 ACK 呢？这样才三次握手-----------------------在客户端说了分手之后，它还是可以接受数据的，只是不能发送而已，如果只有三次握手，服务端在没有发完数据的情况下就关闭了 TCP，那么客户端得到的数据是不完整的，所以服务端需要在客户端请求关闭连接的时候第一次就发送 ACK 说我收到了，但是你再等等，我还有数据没有发完给你，等发完之后，才发送 FIN 关闭 TCP 连接。&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br /&gt;此文章参考链接：&lt;a href=&quot;https://baijiahao.baidu.com/s?id=1593714120815701015&amp;#x26;wfr=spider&amp;#x26;for=pc&quot;&gt;TCP 的三次握手和四次分手&lt;/a&gt;&lt;br /&gt;2MSL 解释：&lt;a href=&quot;https://blog.csdn.net/zxx2096/article/details/80286577&quot;&gt;2MSL 是什么？&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[计算机网络-子网划分]]></title><description><![CDATA[网络部分：划分子网  主机部分：可以分配给 pc 的 ip 地址   掩码的作用主要是划分子网：      IP 地址的类型：   如何进行划分子网：向主机位借位   私有 IP 地址：]]></description><link>https://www.pipihua666.github.io/subnetting/</link><guid isPermaLink="false">https://www.pipihua666.github.io/subnetting/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a name=&quot;M4rZJ&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;网络部分：划分子网&lt;/h4&gt;
&lt;p&gt;&lt;a name=&quot;Nh8DI&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;主机部分：可以分配给 pc 的 ip 地址&lt;/h4&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/215ccbbc8fb7c5b1779799a7ec27f210/f8915/net1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.12658227848101%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACI0lEQVQoz41T227TQBDNxyI+hE9AAoknnnmJeKmohIpI47QpIaU0pY3jxIlvqRO7ie+XtXcPY+fWhhdGOt6xvHM8c2amIY9GCJdLqG0JU+kC6vdzTM6+YdruQLvqQev+gNqS6jPwPIRRhCRJkKYZ4jhBGIYv0DAMA5WxMEK+WoMFAZjvEwIUcYzc2/iMLu/MpQQsiqt+cGwNXdNqR+D/LExy9NUlrmcuRk6CmS+g+SVYyWuWhq7r9UVelhCcQwixARd7f//DosDHpoS3n/v4+QScDFe4WQG/XI6s4NsMt4TPbUeys5L0ytceRBRipDu4MFM0bx7x+v0phqTE3UocCCsNheDQplOYho40juoPSZqDkeiMiFgQglN2NTmhM/Nxcq3hXHbRm2fo2/mB0CTCkO7e2SFu5z4Uj+G3FeHNhy/o9eWNHLuSSZKMGCXFwdlAR+t+jo7i4nLiIi/FllDX4FFEc+Cg+1hgQI27WpT4+meBIM5w3DGxBd+iIK0LftC6YVGZ1CS8endKuswxjoFbIjXSg56MsT1Kal6WZeTnyPP8H+0bc9OAHXF8koZoXspoyw5aqod7dxOg6waUkYLxeAJ5KEOdqBgrY5imVfvV6dE87sjrDNeMyiSh+0aAnu6jS766LuqMHu4f6sA4iuHTgPs06DENfLUt1VltR5qkdeYvxqYkHfhzjehREVqWhTVtkE/b4ywd2LaNJW3Kwl7U78cl/wXXmY1J9kutRAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;image.png&quot;
        title=&quot;image.png&quot;
        src=&quot;/static/215ccbbc8fb7c5b1779799a7ec27f210/f058b/net1.png&quot;
        srcset=&quot;/static/215ccbbc8fb7c5b1779799a7ec27f210/c26ae/net1.png 158w,
/static/215ccbbc8fb7c5b1779799a7ec27f210/6bdcf/net1.png 315w,
/static/215ccbbc8fb7c5b1779799a7ec27f210/f058b/net1.png 630w,
/static/215ccbbc8fb7c5b1779799a7ec27f210/f8915/net1.png 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;lNg98&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;掩码的作用主要是划分子网：&lt;/h4&gt;
&lt;p&gt;&lt;a name=&quot;E3IS8&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;例如：192.168.1.1 的子网掩码是：255.255.255.0

子网缺省表示：192.168.1.1/24(24 表示有 24 位网络位，如果划分了子网，该 c 类地址的网络位不为 24)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;br /&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3f856c9a2c6ca3004d17aba275333e21/f8915/net2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.82278481012659%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/ElEQVQ4y41TiW7aUBDk//+nUqVKrao2PYBADC0x+MQX2MjG2H42Pqe7D0KlKG3ypGHN4je7M7uMYs+HO7mHP3tAoCxhfPgI7d172F++ocgLiFJAiAuKongVo6FtUaUnQoqaElWcoDocICh2XSfRX+NbzqgrS1i2jfvZHLphwAsC7KIImq5DfVShKAtoGw2e6+F8PqOqKjRN8yLZMAwYNVkOyzAxI0K+uFbXWEiSDQwqsFlvsFws4ZM1yoOCyXiC1Wol5bWsjgpkWXZTQB1W+LVcYjqZyo6YbE7k459j3H29kwVUVYWzdeC6LhzHkbBMC0mSwPM82QgXkIT8IQqB4/F4qxbH8Q0H8pOlvuVIyUwSkWcpDeV0OiHwA4n9bo8wDBHuQyl3a29hmqaM7KelG7DJKtdxYVs2dsHu0iGvg+/7iMJISuALDJbIRByfwDL5MpNYugmbsL3mb4Q2TdikSjpNNacB8e6lxxQl2dDUDfJTJvMVeX0m5FmBkiwQuUByiJHQuwmtGNt28/D56foew3N/rrEmT+NPn1FsXeSajuP3H2hF+ddDubTkY0dVu3Mtn3t+pm46evGSo+91jZ7WpKcdbOiPwCS8ci0pGK4rIwlbWuycDBbkS2E7yNQNMs1A9vsR6XQOQbmCvBKujyo8/HfC/5T82mq8hKff/gD2ztt/biv08AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;image.png&quot;
        title=&quot;image.png&quot;
        src=&quot;/static/3f856c9a2c6ca3004d17aba275333e21/f058b/net2.png&quot;
        srcset=&quot;/static/3f856c9a2c6ca3004d17aba275333e21/c26ae/net2.png 158w,
/static/3f856c9a2c6ca3004d17aba275333e21/6bdcf/net2.png 315w,
/static/3f856c9a2c6ca3004d17aba275333e21/f058b/net2.png 630w,
/static/3f856c9a2c6ca3004d17aba275333e21/f8915/net2.png 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;FN3Xs&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;单播：点对点通信，一个发送者，一个接收者。

&amp;lt;a name=&amp;quot;Qr4R3&amp;quot;&amp;gt;&amp;lt;/a&amp;gt;

广播：路由器隔绝广播的传播。接收到的包的 mac 地址全是 f,ip 地址全是 1 的为广播通信。全网广播

&amp;lt;a name=&amp;quot;aE4RA&amp;quot;&amp;gt;&amp;lt;/a&amp;gt;

组播：一个组播源，多个组播接受者，组播的包只会发送到组播接受者去。充分利用了带宽。iptv&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c056dbc19313c4ac6aa0a5300e25b6fa/f8915/net3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.92405063291139%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1UlEQVQ4y51T32+TUBjlX/fBxFcT3/TBqA8mLnN7WVysRru17lcnKe3KbEthTu4tAaSDwuVy6RHawIDuQb3JlxDO9517ON9B0r7LUNvHUL+0cX3cgXrUgdZXMLcsEEJAKf2nkmLHxVI34PQHcAdXcJUhlibB/x4p8n1oug7RAFar1YP10Kni0tJ2cDWZIgiCNZim6QZsNObvC5zzBKkQCFmMGXVrpFL4ywRtfQb3gxLI2Qo1TWUv9zrYOTxHyiOMtFs8ftOqKZVExMAzz9Ik2VJVJfv0bYTL/hgs5oi4KAkCz8WqSvg3RoeOg/3WOWT5Go45x+IuRBKG8Lw79CakrhC5iswXY/4bUeajv/BB7QVYsESUDdmWCzrTy6G3B2d4/+EUzKJQRxM82+sWbPcKozjBo1ct3Iw1GGMdL959BdF0TNQpnjw/wK1hrmdEvpBEZLVZUJ5V+eKiXGhJyDnHUBmAZ5vLbyLTWamIZcPWzU8wx22GBTzzM45jCCHqhHkUPG+xbpoRB0932puGIipZ4+vdI3RPFAibYvfjGQ570+JL79ORB7sZVjfzsDccl7krcPmHCcO0188nl0N0e8pWrEqF239CpalCWqi1KMGcmGCM1S7Nzx/lFOPCF8LACAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;image.png&quot;
        title=&quot;image.png&quot;
        src=&quot;/static/c056dbc19313c4ac6aa0a5300e25b6fa/f058b/net3.png&quot;
        srcset=&quot;/static/c056dbc19313c4ac6aa0a5300e25b6fa/c26ae/net3.png 158w,
/static/c056dbc19313c4ac6aa0a5300e25b6fa/6bdcf/net3.png 315w,
/static/c056dbc19313c4ac6aa0a5300e25b6fa/f058b/net3.png 630w,
/static/c056dbc19313c4ac6aa0a5300e25b6fa/f8915/net3.png 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;M3wO9&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;IP 地址的类型：&lt;/h4&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ad1493ce9aa03715447a9fcd663601e7/f8915/net4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.55696202531645%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEElEQVQ4y6VTi27aQBDk/z+pUdUicABTGmwKIdjYGPw6P84GAsYYe7J3IW1plEpVTxr2nuOZ3aXF0xTOtxGMdgfL7j2WSg9Zlv0VeZ5/eNYCjWr/jIMX4BgyFFGE/xmtpqqQxwmy/R4xqQ2JMCL4no/F0wK6pkPXdUynU2y3W7k2DEOeGQsDs+kM7saVZE3TvCo8lyVSIjscDjgej1L6+XxGXde4XC4SYi4eVLQv90hIdYU4uyHc7XZQugrW6zUsy8agr4LznC7XKMszoZKxrpsPrQoyaVn8MMqdOlAxouJY5hOS2EfEPNjWguzYci5iwkLw/gAZWc3HGnbaBBW5koRXlZJQ2J3oE8znTzDNHjZuD56vSvj+EJ6nYuV06UNrMGcD13GwZRHq4vROpSTkKZfJFgm2LQdhECHwGRUmJDC5djcB8ozSwBhKcnTmGQrbRuF5Mpac/1Lo+z7aX9tke4gg0JAk30nNA2EsI0812lcRRyus+kMYyj0iw8SS3piUglWni5I65SehqCyjLwuEoUtFiqlFYmQ8pCaOsJPzAEVxuLF4IYsXivWflj3Xw92nOygdhSzPaD0n1QuMRm3qtwdSZ8JaamBRAJ/uuFRA5/MXZMMR5bF4XxTRsKZpYmU7RPQDSTolzMCzR6R8RkV7JOVjusewf37t05ze1NdWaX6LrbfF2zidqn/4ozU3ZGK8AA8+1pmpYnvmAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;image.png&quot;
        title=&quot;image.png&quot;
        src=&quot;/static/ad1493ce9aa03715447a9fcd663601e7/f058b/net4.png&quot;
        srcset=&quot;/static/ad1493ce9aa03715447a9fcd663601e7/c26ae/net4.png 158w,
/static/ad1493ce9aa03715447a9fcd663601e7/6bdcf/net4.png 315w,
/static/ad1493ce9aa03715447a9fcd663601e7/f058b/net4.png 630w,
/static/ad1493ce9aa03715447a9fcd663601e7/f8915/net4.png 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;4O3qn&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;如何进行划分子网：向主机位借位&lt;/h4&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/34bb128a794908b4110562fbdbf8b9d2/f8915/net5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.22784810126582%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB7klEQVQoz52SDW+aUBSG/f+/ZkuWZUmna+PatSoitlWr8ilYKehAQBDQZ9fbbEu6Jt12kif3HMh9733vOQ3zoo1+1sK6vMJTNZE3Mb9eEQUBuzwny7J/olGlGWWSUKUpdV5Q7XbUu5z/jcbLD6UQ3scxpThNxvH4i+Nf0Die9gjqLCWZTHA+fMR5955ls0V9OHAQ/37yMl4V7Og+HT3EsCfMjRmak6DZ3xkYa4bulttlimpHqM4WP0rJxc3ruqYsy1cPaJx9/kL7/AJDH2OZCo6lMhldShb2AMtQuNNa6NYd/fspg77KeDSm2+nieZ4U3u/3EvmGivmEakXYj3foXlfcxGC4mD/j6gzsGbfunNHTkuVmS5ps2aw3hGFIFEWsw7WsT0jBGzvm2kywVzpW6KOuQHELuosCzT8y9E91SU+wijKKfCetVVUl1z+63Gydc9luY1lTQQ93MUBTmyi9T3iuhm0p3A+FZefZsiYsT0Tzbq5vmD5MpXAhxi0XM3t620Z3vkTRA6zlLXO3I+wLq85MWBY4U1RzLJr0wP3KxVvHJGKkTvZ835eW4ygmDEJZF0Uhuty3+TZ4xDD7zIwRSgTqWrB5Xrt9j940pifyqDi8PdhBlBPEe7bphjiNCLKaMCt/E+eESSHzoqrfHPAfFjOHxWbtQX0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;image.png&quot;
        title=&quot;image.png&quot;
        src=&quot;/static/34bb128a794908b4110562fbdbf8b9d2/f058b/net5.png&quot;
        srcset=&quot;/static/34bb128a794908b4110562fbdbf8b9d2/c26ae/net5.png 158w,
/static/34bb128a794908b4110562fbdbf8b9d2/6bdcf/net5.png 315w,
/static/34bb128a794908b4110562fbdbf8b9d2/f058b/net5.png 630w,
/static/34bb128a794908b4110562fbdbf8b9d2/f8915/net5.png 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 485px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7409c8b4318879dd58a2531833213ad8/44c61/net6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.88607594936708%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxUlEQVQ4y52TbU/iQBSF+f8/Qr9pyC6igrUYEUSaAglCqwlgtesq4mLbbF/se6fHmTESFd3ATnLbSef2zJNzZgqu58GcPuCmdYbrxin0loRxRYDWPMXv/jlupQ60owa0eh3XrTZ0ScbdQIVt23AcZ6kKoCM0LfyqHECvCrgVjzHZKuK+2cK8P4ChXuKh2cbVjxK0nyW+/tjrg2QZ+xV5nn+oAnv87/gstiSY0V2jKEIcx0jTlBfJCMIg5N/fer8SWgiyhvjZR56kGI1GKJfKqB2K2N/bR0fuQGpLKG4XURNrfMM3wW8JFwsk5xTGkwHTNDH/M+fGu46L6f0Us9nsg9B34zUU20VCKRlhtVLFbnkXO6UdnNOUe90elKGCxkkDSZKsJpjRxpx6xWI3DAOWZUHXdU7J5sxTz/VACFlNMPaeKWEARVEgHAi4UC/Q7XQhCiLGo/FSsv8aXJCkGfWQwHVdTuX7PqIw4l6y+fsAViN0PKSUcEi9EoXDRbr14zpURV0SXI2QHgmPXkOWsmM7vJ7YnPq6tmD416GEPgbDIT9/2pUGWZaxubGJyWTCG1kgaxESeiuCIIBF7zV7M++Yh8zLdQhfAEvVKmsELF0zAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;image.png&quot;
        title=&quot;image.png&quot;
        src=&quot;/static/7409c8b4318879dd58a2531833213ad8/44c61/net6.png&quot;
        srcset=&quot;/static/7409c8b4318879dd58a2531833213ad8/c26ae/net6.png 158w,
/static/7409c8b4318879dd58a2531833213ad8/6bdcf/net6.png 315w,
/static/7409c8b4318879dd58a2531833213ad8/44c61/net6.png 485w&quot;
        sizes=&quot;(max-width: 485px) 100vw, 485px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/47984ba61d2bc1a635cae0cdf992b15d/f8915/net7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.65822784810127%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1UlEQVQ4y51Ti27aMBTl/39kWrdvmFgZlNFq2kahARqaF6E8EpOHY+d5du0CAoFUrZaOfJ3rXB+fc93azEx4/QGYt0DR1JB5TpCQQkBK+d9olZxDhgxFkqISEmrdVBU+OlrZeoOQWIZTE9HcwnZsQO4inWya5iqujUOudfxwmnyHhfqxruszHA5qQSXLEikXWP8Zwv50A2a5WLsLOLYL+8XWcC0HNsFxXLCAIY1TJFFynIui2BekUZNmmSyw/fUbO7q+WG1gjcbo9froEwZk2v3Pewzat3j41sZqsYTIJHjCNVLS/6ygoivI1fXrCvZkBns8QUJGXbkrUNWo6EZ5XugiB6hr64KnIpfkcp5lyHmGijZdGPKOvkdTVKB6iAchRJxAZkIzKIsShWKyh1rnMj/Gh7Wg/dW+1bQp6lTm+TA/f8GStLJuvuJlOEL3Rw/dThd33Tv0KFaz0vO23UHn+xumxhSCvz2CMw05MYuIoUKw8PHqL+G5HnyKfTpMzaHKU48G2wAb6l+FHdtphiXpelZQUXYcB4+PI8yeTTyNn2AYBibGBMO/Q8zNuS6WJAnJkV9od6GhcimlzWEYIiNj1BXiONYMoigCpyfJGNOx6ojT13Fa9B8V/+WonK8/GAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;image.png&quot;
        title=&quot;image.png&quot;
        src=&quot;/static/47984ba61d2bc1a635cae0cdf992b15d/f058b/net7.png&quot;
        srcset=&quot;/static/47984ba61d2bc1a635cae0cdf992b15d/c26ae/net7.png 158w,
/static/47984ba61d2bc1a635cae0cdf992b15d/6bdcf/net7.png 315w,
/static/47984ba61d2bc1a635cae0cdf992b15d/f058b/net7.png 630w,
/static/47984ba61d2bc1a635cae0cdf992b15d/f8915/net7.png 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;p36om&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;私有 IP 地址：&lt;/h4&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2bb98d87e8c495d1dc60ad4be131cbf5/f8915/net8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.89873417721519%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABUUlEQVQoz51S226CQBD1/z+rTVq8IHJZraCCEusiNLZahIXo6c4YDLbxwU4ymZ3Lnp05sx1oqQ7fyLcpjtkHjtqWn1/4r3RwPiPf7TBbhJiHIYL5AokGJTnrHOnpdGLblt9+E+s0iW2yxViM8TaeYBlF8H0fnuvBHtl4fnrGyBoh8AN0jS4c24HwBIQQnJ8FM+z3+0uHDWAiE1hDC8arAc/zEK9iBiTg6dTnSwTkOA4Wegq5kZjox6kmCAJkWXYLWJYlpJScSPXISqmH+eOR23yQjcII63iN/JBjs97wmEQFdUPnRuW7hCoU6qq+cn3tsHGKooBru7AtWwMvsYpWEK6A2TdhvBgcp7w5MJnDNElvmrlsueXQ2ER+v9tnoHipeXQ89ntGD0PTYtBBb8DLoBpVqvuAZCtVMX9VVaGua7bkt5Vqmjh9qT+A9/7VI8to5AdLx/hFIWLurwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;image.png&quot;
        title=&quot;image.png&quot;
        src=&quot;/static/2bb98d87e8c495d1dc60ad4be131cbf5/f058b/net8.png&quot;
        srcset=&quot;/static/2bb98d87e8c495d1dc60ad4be131cbf5/c26ae/net8.png 158w,
/static/2bb98d87e8c495d1dc60ad4be131cbf5/6bdcf/net8.png 315w,
/static/2bb98d87e8c495d1dc60ad4be131cbf5/f058b/net8.png 630w,
/static/2bb98d87e8c495d1dc60ad4be131cbf5/f8915/net8.png 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 485px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7409c8b4318879dd58a2531833213ad8/44c61/net9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.88607594936708%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxUlEQVQ4y52TbU/iQBSF+f8/Qr9pyC6igrUYEUSaAglCqwlgtesq4mLbbF/se6fHmTESFd3ATnLbSef2zJNzZgqu58GcPuCmdYbrxin0loRxRYDWPMXv/jlupQ60owa0eh3XrTZ0ScbdQIVt23AcZ6kKoCM0LfyqHECvCrgVjzHZKuK+2cK8P4ChXuKh2cbVjxK0nyW+/tjrg2QZ+xV5nn+oAnv87/gstiSY0V2jKEIcx0jTlBfJCMIg5N/fer8SWgiyhvjZR56kGI1GKJfKqB2K2N/bR0fuQGpLKG4XURNrfMM3wW8JFwsk5xTGkwHTNDH/M+fGu46L6f0Us9nsg9B34zUU20VCKRlhtVLFbnkXO6UdnNOUe90elKGCxkkDSZKsJpjRxpx6xWI3DAOWZUHXdU7J5sxTz/VACFlNMPaeKWEARVEgHAi4UC/Q7XQhCiLGo/FSsv8aXJCkGfWQwHVdTuX7PqIw4l6y+fsAViN0PKSUcEi9EoXDRbr14zpURV0SXI2QHgmPXkOWsmM7vJ7YnPq6tmD416GEPgbDIT9/2pUGWZaxubGJyWTCG1kgaxESeiuCIIBF7zV7M++Yh8zLdQhfAEvVKmsELF0zAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;image.png&quot;
        title=&quot;image.png&quot;
        src=&quot;/static/7409c8b4318879dd58a2531833213ad8/44c61/net9.png&quot;
        srcset=&quot;/static/7409c8b4318879dd58a2531833213ad8/c26ae/net9.png 158w,
/static/7409c8b4318879dd58a2531833213ad8/6bdcf/net9.png 315w,
/static/7409c8b4318879dd58a2531833213ad8/44c61/net9.png 485w&quot;
        sizes=&quot;(max-width: 485px) 100vw, 485px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[sass常用指令和常用函数]]></title><description><![CDATA[scss 常用指令（注意：scss 与 sass 的区别） sass 官方文档 混合样式： 取用混合样式： 继承样式： 导入 scss 样式： 条件控制指令： 循环控制指令： 循环 List 项目的控制指令： 条件判断循环： 用户自定义的函数： 警告和错误的提示：  scss…]]></description><link>https://www.pipihua666.github.io/sass/</link><guid isPermaLink="false">https://www.pipihua666.github.io/sass/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a name=&quot;3e525057&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;scss 常用指令（注意：scss 与 sass 的区别）&lt;/h4&gt;
&lt;p&gt;&lt;br /&gt;&lt;a href=&quot;https://www.sass.hk/docs/&quot;&gt;sass 官方文档&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;混合样式：&lt;code class=&quot;language-text&quot;&gt;@mixin 名字(参数1，参数2...){...}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;取用混合样式：&lt;code class=&quot;language-text&quot;&gt;@include 名字（@mixin的名字）&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;继承样式：&lt;code class=&quot;language-text&quot;&gt;@extend 需要继承的类、ID名、自定义的混合样式等的名字&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;导入 scss 样式：&lt;code class=&quot;language-text&quot;&gt;@import &amp;quot;scss文件名&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;条件控制指令：&lt;code class=&quot;language-text&quot;&gt;@if 条件{...}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;循环控制指令：&lt;br /&gt;&lt;code class=&quot;language-text&quot;&gt;@for $var from &amp;lt;开始值&amp;gt; through &amp;lt;结束值&amp;gt; -----------包括结束值&lt;/code&gt;&lt;br /&gt;&lt;code class=&quot;language-text&quot;&gt;@for $var from &amp;lt;开始值&amp;gt; to &amp;lt;结束值&amp;gt; ------------不包括结束值&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;循环 List 项目的控制指令：&lt;code class=&quot;language-text&quot;&gt;@each $var in $List{}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;条件判断循环：&lt;code class=&quot;language-text&quot;&gt;@while 条件{...}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;用户自定义的函数：&lt;code class=&quot;language-text&quot;&gt;@function 名称(参数1，参数2...){...}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;警告和错误的提示：&lt;br /&gt;&lt;code class=&quot;language-text&quot;&gt;@warn &amp;quot;...&amp;quot;------------------------在终端输出警告&lt;/code&gt;&lt;br /&gt;&lt;code class=&quot;language-text&quot;&gt;@error &amp;quot;...&amp;quot;----------------在.css文件和终端输出错误&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;b468e5e2&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;scss 常用函数&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;数字函数 ：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$theNumber:4.5;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  percentage($theNumber)：将一个不带单位的数转换成百分比值；  //450%

  round($theNumber)：将数值四舍五入，转换成一个最接近的整数；  //5

  ceil($theNumber)：将大于自己的小数转换成下一位整数；   //5

  floor($theNumber)：将一个数去除他的小数部分；  //4

  abs($theNumber)：返回一个数的绝对值；//4.5

  min($numbers…)：找出几个数值之间的最小值； //min(1,2,3) =1

  max($numbers…)：找出几个数值之间的最大值； //max(1,2,3)=3

  random(): 获取随机数   //随机数&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;字符串函数：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$theString:&amp;quot;Hello World&amp;quot;;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;to-upper-case($theString)：输出$theString的大写                 //HELLO WORLD

to-lower-case($theString)：输出$theString的小写                 //hello world

str-length($theString):输出$theString的长度                     //11

str-index($theString,&amp;quot;Hello&amp;quot;):输出$theString第二个参数的开始索引          //1

str-insert($theString,&amp;quot;.com&amp;quot;,12):在索引为12的地方为$theString插入&amp;quot;.com&amp;quot; //&amp;quot;Hello World.com&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;颜色函数&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;gt; 调整色相h的值

$base-color-hsl:hsl(0,100,50%);  //	red
$base-color:#ff0000;  //red

adjust-hue($base-color-hsl,137deg);        //#00ff48
adjust-hue($base-color,137deg);          //#00ff48&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;gt; 调整亮度l的值

$base-color:hsl(222,100%,50%);             //#004cff

$light-color:lighten($base-color,30%);        //#99b8ff（变亮）
$dark-color:darken($base-color,20%);         //#002e99（变暗）&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;gt; 调整饱和度s的值

$base-color:hsl(221,50%,50%);            //#4068bf

$saturate-color:saturate($color:$base-color,$amount:50%);          //#0051ff  (更饱和)
$desaturate-color:desatudate($color:$base-color,$amount:30%);        //667699 (更不饱和)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;gt; 调整透明度a的值

$base-color:hsla(222,100%,50%,0.5);  //rgba(0, 77, 255, 0.5)

$fade-in-color:opacify($color: $primary-color, $amount: 0.3);  //rgba(0, 77, 255, 0.8)
$fase-out-color:transparentize($color: $primary-color, $amount: 0.2);  //rgba(0, 77, 255, 0.3)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;列表函数（1px solid black：这样称为一个列表有三个项）&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;length(5px 10px)：列表长度     //2
length(5px 10px 0px 2px)  列表长度      //4

nth(5px 10px,1)：列表第一项   //5px
nth(5px 10px,2)：列表第二项   //10px

index(1px solid red,solid)：列表solid的项目索引  //2

append(5px 10px,5px)：列表中插入项目  //5px 10px 5px

join(5px 10px,5px 10px):列表之间连接   //5px 10px 5px 10px
join(5px 10px,5px 10px,参数)：列表之间条件连接  //参数为comma=5px,10px,5px,10px ---------参数为space=5px 10px 5px 10px&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Map 函数(Map 为带有键值对的列表)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$colors:(light:#ffffff,dark:#000000);   //定义map&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;length($colors)：map的长度  //2

map-get($colors,dark):取得键值为dark的值     //#000000

map-keys($colors)：取得所有键      //(&amp;quot;light&amp;quot;,&amp;quot;dark&amp;quot;)

map-values($colors) ：取得所有值      //(#ffffff,#000000)

map-has-key($colors,light)：map是否有light键       //true

map-merge($colors,(color-red:#ff0000)) ：插入键值对到map   //(light:#ffffff,dark:#000000,color-red:#ff0000)

map-remove($colors,light,dark) :从map删除键值对      //(color-red:#ff0000)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[前端性能优化之回流和重绘]]></title><description><![CDATA[回流和重绘优化 translate 替代 top 改变 opacity 替代 visibility 不要一条一条的修改 DOM 的样式，预先定义好 class，然后修改 DOM 的 className 把 DOM 离线后修改，比如：先把 DOM 给 display:none…]]></description><link>https://www.pipihua666.github.io/redraw/</link><guid isPermaLink="false">https://www.pipihua666.github.io/redraw/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;h4&gt;回流和重绘优化&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;translate 替代 top 改变&lt;/li&gt;
&lt;li&gt;opacity 替代 visibility&lt;/li&gt;
&lt;li&gt;不要一条一条的修改 DOM 的样式，预先定义好 class，然后修改 DOM 的 className&lt;/li&gt;
&lt;li&gt;把 DOM 离线后修改，比如：先把 DOM 给 display:none（有一次 reflow），然后你修改 100 次，然后再把它显示出来&lt;/li&gt;
&lt;li&gt;不要把 DOM 节点的属性值放在一个循环里面当成循环里的变量&lt;/li&gt;
&lt;li&gt;不要使用 table 布局，可能一个很小的改动都会造成整个 table 的布局&lt;/li&gt;
&lt;li&gt;动画实现的速度选择&lt;/li&gt;
&lt;li&gt;对于动画新建图层&lt;/li&gt;
&lt;li&gt;启用 GPU 硬件加速&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;Chrome 创建图层的的条件（图层的作用是让回流和重绘都在一个区域里进行，也就是硬件加速）&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;3D 或透视变换（prespective transform）CSS 属性&lt;/li&gt;
&lt;li&gt;使用加速视频解码的&lt;code class=&quot;language-text&quot;&gt;&amp;lt;video&amp;gt;&lt;/code&gt;节点&lt;/li&gt;
&lt;li&gt;拥有 3D（webGL）上下文或加速的 2D 上下文的&lt;code class=&quot;language-text&quot;&gt;&amp;lt;canvas&amp;gt;&lt;/code&gt;节点&lt;/li&gt;
&lt;li&gt;混合插件（如：flash）&lt;/li&gt;
&lt;li&gt;对自己的 opacity 做 CSS 动画或使用动画 webkit 变换的元素&lt;/li&gt;
&lt;li&gt;拥有加速 CSS 过滤器的元素&lt;/li&gt;
&lt;li&gt;元素有一个包含复合层的后代节点（一个元素拥有一个子元素，该子元素在自己的层里）&lt;/li&gt;
&lt;li&gt;元素有 z-index 较低且包含一个复合层的兄弟元素（换句话说就是该元素在复合层上面渲染）&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[nginx 部署 react 项目]]></title><description><![CDATA[我用的是 create-react-app 在 nginx 上部署的前端项目，并使用 nginx 实现了下载文件的功能

 nginx 的根目录是/usr/share  可以看到，下载升级包的页面路径是/upgrade，项目部署上线结果白屏了，找了找原因 react…]]></description><link>https://www.pipihua666.github.io/react-deployment/</link><guid isPermaLink="false">https://www.pipihua666.github.io/react-deployment/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;p&gt;我用的是 create-react-app 在 nginx 上部署的前端项目，并使用 nginx 实现了下载文件的功能
&lt;br&gt;
&lt;a name=&quot;33FUW&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;nginx 的根目录是/usr/share&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nginx&quot;&gt;&lt;pre class=&quot;language-nginx&quot;&gt;&lt;code class=&quot;language-nginx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;pkg&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;f &lt;span class=&quot;token variable&quot;&gt;$request_filename&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;404&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;文件不存在&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;upgrade &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;try_files&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$uri&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$uri&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;upgrade&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;html&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;k0wDy&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;可以看到，下载升级包的页面路径是/upgrade，项目部署上线结果白屏了，找了找原因&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;react 项目配置页面路由的 basename(前端路由的/等于 nginx 的根目录/use/share)&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;App&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Router&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;basename&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/upgrade&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Switch&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Route&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;exact&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Main&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Route&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Route&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;exact&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/404&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;NotFoundPage&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Route&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Route&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;NotFoundPage&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Route&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Switch&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Router&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;pakage.json 中配置&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;homepage&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/upgrade&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;如果是 webpack 而不是脚手架 create-react-app,则配置 publicPath,目的是让 html 中引用的 js,css 文件的路径是以/upgrade 开头的，那么路由就可以找到他们了，homepage 只会影响项目中引用的静态资源的路径&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/upgrade/static/js/2.c8c300b5.chunk.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/upgrade/static/js/main.529d8b95.chunk.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;ztjd1&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;前端实现下载文件，如果文件不存在则使用 react-router 跳转到 404 页面&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// head请求文件是否存在，如果存在才创建a标签触发浏览器的下载行为&lt;/span&gt;
axios&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;validateStatus&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;status&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; status &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;300&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;href &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; path
      a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;display &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;none&quot;&lt;/span&gt;
      a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;noopener noreferrer&quot;&lt;/span&gt;
      a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;_blank&quot;&lt;/span&gt;
      a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;download &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;key&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;.pkg&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
      a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;application/octet-stream&quot;&lt;/span&gt;
      document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;404&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/404&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;YM84e&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;为什么使用 head 先请求一次？&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;HTTP &lt;code class=&quot;language-text&quot;&gt;HEAD&lt;/code&gt; 方法&lt;/strong&gt; 请求资源的头部信息, 并且这些头部与 HTTP &lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Methods/GET&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;GET&lt;/code&gt;&lt;/a&gt; 方法请求时返回的一致. 该请求方法的一个使用场景是在下载一个大文件前先获取其大小再决定是否要下载, 以此可以节约带宽资源.&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;hzhvb&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;本文中参考的博客&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/jingtian678/article/details/90239919&quot;&gt;HashRouter 和 BrowserRouter 的区别&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.thinktxt.com/react/2017/02/26/react-router-browserHistory-refresh-404-solution.html&quot;&gt;React-Router browserHistory 浏览器刷新出现页面 404 解决方案&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://segmentfault.com/a/1190000023327242&quot;&gt;create-react-app 一些常用的自定义配置&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[react性能优化之代码分割]]></title><description><![CDATA[引言 衡量网站的性能的指标有很多，其中有项重要的指标就是网站的首屏时间，而代码分割却是优化首屏时间最通用的方法 三种通用的代码拆分方法（基于 webpack…]]></description><link>https://www.pipihua666.github.io/react-code-spliting/</link><guid isPermaLink="false">https://www.pipihua666.github.io/react-code-spliting/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 308px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.16455696202532%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAABAv/EABYBAQEBAAAAAAAAAAAAAAAAAAIBA//aAAwDAQACEAMQAAABNwHFm6HR/wD/xAAYEAADAQEAAAAAAAAAAAAAAAAAAQIREP/aAAgBAQABBQKqkbx7I+//xAAWEQADAAAAAAAAAAAAAAAAAAAAARP/2gAIAQMBAT8BkiaP/8QAFhEBAQEAAAAAAAAAAAAAAAAAABIB/9oACAECAQE/AbVr/8QAGBAAAgMAAAAAAAAAAAAAAAAAAAEgITH/2gAIAQEABj8Cpmx//8QAFxABAQEBAAAAAAAAAAAAAAAAAQARYf/aAAgBAQABPyHAYx5MO0mFtv/aAAwDAQACAAMAAAAQw8//xAAWEQEBAQAAAAAAAAAAAAAAAAABEDH/2gAIAQMBAT8QCdh//8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/EBZL/8QAGxABAAMAAwEAAAAAAAAAAAAAAQARITFBUXH/2gAIAQEAAT8QGFxzcgCzfTFloH5FLrPQwVcz/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;react.jpeg&quot;
        title=&quot;react.jpeg&quot;
        src=&quot;/static/5d305fe6bd8b15bed34145006896fc8f/3a5b9/image.jpg&quot;
        srcset=&quot;/static/5d305fe6bd8b15bed34145006896fc8f/ff44c/image.jpg 158w,
/static/5d305fe6bd8b15bed34145006896fc8f/3a5b9/image.jpg 308w&quot;
        sizes=&quot;(max-width: 308px) 100vw, 308px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;引言&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;衡量网站的性能的指标有很多，其中有项重要的指标就是网站的首屏时间，而代码分割却是优化首屏时间最通用的方法&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;三种通用的代码拆分方法（基于 webpack）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;入口点：使用&lt;a href=&quot;https://webpack.js.org/configuration/entry-context&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;entry&lt;/code&gt;&lt;/a&gt;配置手动拆分代码&lt;/li&gt;
&lt;li&gt;防止重复：使用&lt;a href=&quot;https://webpack.js.org/plugins/split-chunks-plugin/&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;SplitChunksPlugin&lt;/code&gt;&lt;/a&gt;重复数据删除和拆分块&lt;/li&gt;
&lt;li&gt;动态导入：通过模块内的内联函数调用拆分代码&lt;/li&gt;
&lt;/ol&gt;
&lt;br /&gt;
&lt;a name=&quot;J0hBy&quot;&gt;&lt;/a&gt;
&lt;h4&gt;动态导入（&lt;strong&gt;react-loadable&lt;/strong&gt;）有以下概念&lt;/h4&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;动态导入的组件自动进行性能优异的代码分割&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;所支持的是组件的动态导入，而不是路由的动态导入&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;基本思想是组件的按需加载&lt;/li&gt;
&lt;li&gt;注意：要在 react 中使用 import()，需要安装@babel/plugin-syntax-dynamic-import 插件，并在 babel 配置中引入&lt;/li&gt;
&lt;li&gt;注意：import 的路径是相对路径，不能添加绝对路径&lt;/li&gt;
&lt;li&gt;注意：要使用魔法注释需要配置（webpack 的 SplitChunkPlugin 插件，webpack 默认已配置，开箱即用）&lt;/li&gt;
&lt;li&gt;react 中的动态导入还有：react 原生 React.lazy（v16.6），原生 Suspense，库 Loadable Component&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a name=&quot;xRYgO&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;配合 react-router-dom 实现 react 的路由组件按需加载&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Loadable &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react-loadable&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 懒加载路由&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;AsyncComponent&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;component&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;Loadable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    loader&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; lazyLoad&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;component&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 加载promise来加载组件&lt;/span&gt;
    loading&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; MyLoadingComponent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 当加载进行中或者错误时加载的组件&lt;/span&gt;
    delay&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 加载loading组件之前的延迟，防止闪屏&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; lazyLoad &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// webpackChunkName（代码分割后的代码块名）&lt;/span&gt;
  	&lt;span class=&quot;token comment&quot;&gt;// 添加webpackPrefetch：（未来可能需要的资源）&lt;/span&gt;
  	&lt;span class=&quot;token comment&quot;&gt;//   这将导致将&amp;lt;link rel=&quot;prefetch&quot; href=&quot;home.js&quot;&gt;其附加在页面的开头&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//   这将指示浏览器在空闲时间预取home.js文件&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 不配置预加载和预取提取则按需加载&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* webpackChunkName: &quot;home&quot; */&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* webpackPrefetch: true */&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./home&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;detail&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
  	&lt;span class=&quot;token comment&quot;&gt;// webpackPreload（当前导航期间可能需要的资源）&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* webpackChunkName: &quot;detail&quot; /* webpackPreload: true */&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./detail&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Switch&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Route&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/app/home&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;component&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;AsyncComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;home&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Route&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/app/detail&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;component&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;AsyncComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;detail&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Switch&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;官网&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://webpack.js.org/guides/code-splitting/&quot;&gt;webpack 代码分割官网&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jamiebuilds/react-loadable#preloading&quot;&gt;react-loadable 仓库&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://webpack.js.org/api/module-methods/#import-1&quot;&gt;import()文档&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://zh-hans.reactjs.org/docs/code-splitting.html&quot;&gt;react 的 lazy 代码分割&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[深入浅出nginx]]></title><description><![CDATA[1. 热部署：升级 nginx 到新的版本 也就是用新的 nginx 命令替换老的 nginx 命令即可，注意做好备份 kill -RSR2  pid(nginx 的进程号) :发送消息给老的 master 进程，让后面的接口平滑的过渡到新的 nginx 进程中 kill…]]></description><link>https://www.pipihua666.github.io/nginx/</link><guid isPermaLink="false">https://www.pipihua666.github.io/nginx/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a name=&quot;a64a14c8&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;1. 热部署：升级 nginx 到新的版本&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;也就是用新的 nginx 命令替换老的 nginx 命令即可，注意做好备份&lt;/li&gt;
&lt;li&gt;kill -RSR2  pid(nginx 的进程号) :发送消息给老的 master 进程，让后面的接口平滑的过渡到新的 nginx 进程中&lt;/li&gt;
&lt;li&gt;kill -WINCH pid :请优雅的关闭老的 woker 进程&lt;/li&gt;
&lt;li&gt;老的 master 进程会保留，可以重新 reload，保证可以版本回退&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9533848abd9c6a4f1c74c652c3cce59a/2551b/nginx1.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 46.202531645569614%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAACBv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAWvG45OxH//EABYQAQEBAAAAAAAAAAAAAAAAAAQ0AP/aAAgBAQABBQIk+fUObNo//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGBAAAgMAAAAAAAAAAAAAAAAAAAEDEHH/2gAIAQEABj8CjymR5TP/xAAdEAAABQUAAAAAAAAAAAAAAAAAARFRsRAhYYHw/9oACAEBAAE/IdpcgjcJssUDkzV//9oADAMBAAIAAwAAABCwD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB0QAQABAwUAAAAAAAAAAAAAAAEAESGhQVGBsfH/2gAIAQEAAT8QsU9SXwS8xquE04zvabTAJ//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;nginx1&quot;
        title=&quot;nginx1&quot;
        src=&quot;/static/9533848abd9c6a4f1c74c652c3cce59a/828fb/nginx1.jpg&quot;
        srcset=&quot;/static/9533848abd9c6a4f1c74c652c3cce59a/ff44c/nginx1.jpg 158w,
/static/9533848abd9c6a4f1c74c652c3cce59a/a6688/nginx1.jpg 315w,
/static/9533848abd9c6a4f1c74c652c3cce59a/828fb/nginx1.jpg 630w,
/static/9533848abd9c6a4f1c74c652c3cce59a/2551b/nginx1.jpg 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;fea20a4b&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;2. root 和 alias 的区别：&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;root 会受 location 后面的字符串所影响，访问 location 路径会将 location 的路径添加到 root 后返回结合的路径资源给用户，&lt;/li&gt;
&lt;li&gt;而 alias 是不受字符串的影响，访问 location 就是访问的 alias 路径的资源&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;d1415702&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;3. Nginx 的进程间是通过信号的方式进行通信&lt;/h4&gt;
&lt;p&gt;&lt;br /&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/246a2bbf354ead9127689634cf59c462/2551b/nginx2.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 46.202531645569614%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAACBv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAWtO05GzH//EABkQAAMAAwAAAAAAAAAAAAAAAAAENAIREv/aAAgBAQABBQJXHa/A/SnKO0f/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAABBAMAAAAAAAAAAAAAAAAAAQIDcRAxkf/aAAgBAQAGPwKOjbui0R1hT//EAB0QAAEEAgMAAAAAAAAAAAAAAAEAESFhEDGBsfD/2gAIAQEAAT8hf5J5WtFGRF4dL0Xl/wD/2gAMAwEAAgADAAAAEJgP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Qp//EABsQAQEAAgMBAAAAAAAAAAAAAAERAKEQITGx/9oACAEBAAE/ECFYPog9ZQDdwAYAbbYM3n1xoGf/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;nginx2&quot;
        title=&quot;nginx2&quot;
        src=&quot;/static/246a2bbf354ead9127689634cf59c462/828fb/nginx2.jpg&quot;
        srcset=&quot;/static/246a2bbf354ead9127689634cf59c462/ff44c/nginx2.jpg 158w,
/static/246a2bbf354ead9127689634cf59c462/a6688/nginx2.jpg 315w,
/static/246a2bbf354ead9127689634cf59c462/828fb/nginx2.jpg 630w,
/static/246a2bbf354ead9127689634cf59c462/2551b/nginx2.jpg 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;910b6c3b&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;4.指令合并规则&lt;/h4&gt;
&lt;p&gt;&lt;br /&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f4f04e57b8c51921875c3c40d8f432c4/2551b/nginx3.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 46.202531645569614%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAb6U0GWFh//EABwQAAEDBQAAAAAAAAAAAAAAAAQAATQCAxEkM//aAAgBAQABBQIRtWnLo+SHFtovt//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EAB0QAAICAQUAAAAAAAAAAAAAAAABAhFxAzFRcoH/2gAIAQEABj8C08DuT3HXBDA+zPD/xAAeEAEAAQMFAQAAAAAAAAAAAAABABExYSFBUXHwsf/aAAgBAQABPyGqgo8O5mgNohdCUW6nuzLPTWfBP//aAAwDAQACAAMAAAAQiw//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAdEAACAgEFAAAAAAAAAAAAAAABEQAhMRBBUaGx/9oACAEBAAE/EFWog0u3IiWDHQwBraH4FJJiOy9a8d//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;nginx3&quot;
        title=&quot;nginx3&quot;
        src=&quot;/static/f4f04e57b8c51921875c3c40d8f432c4/828fb/nginx3.jpg&quot;
        srcset=&quot;/static/f4f04e57b8c51921875c3c40d8f432c4/ff44c/nginx3.jpg 158w,
/static/f4f04e57b8c51921875c3c40d8f432c4/a6688/nginx3.jpg 315w,
/static/f4f04e57b8c51921875c3c40d8f432c4/828fb/nginx3.jpg 630w,
/static/f4f04e57b8c51921875c3c40d8f432c4/2551b/nginx3.jpg 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;b64cd4bf&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;5.Nginx 11 个阶段：&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;除了 http 过滤模块和提供变量的模块外，其余模块必须经过这 11 个阶段&lt;/li&gt;
&lt;li&gt;一个阶段如果不把请求向下传递，下面的阶段是不会执行的&lt;/li&gt;
&lt;li&gt;前一个阶段的模块可以传递给他下下个阶段模块进行处理，那么下个阶段模块也就没法执行&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;post_read:在读取了 http 头部后，在加工头部前&lt;/li&gt;
&lt;li&gt;server_rewrite:&lt;/li&gt;
&lt;li&gt;find_config:进行 location 的匹配&lt;/li&gt;
&lt;li&gt;post_rewrite:在 rewrite 之后&lt;/li&gt;
&lt;li&gt;pre_access:在访问到请求之前做连接或者请求数量的限制&lt;/li&gt;
&lt;li&gt;access:在访问时，比如说身份验证&lt;/li&gt;
&lt;li&gt;post_access:&lt;/li&gt;
&lt;li&gt;pre_content:发送响应之前执行的操作,比如让一个请求产生多个子请求&lt;/li&gt;
&lt;li&gt;content:响应阶段，比如反向代理&lt;/li&gt;
&lt;li&gt;log:日志记录阶段&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br /&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d6ff5f16b0b18f1efabb4b1775b60e00/2551b/nginx4.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 46.202531645569614%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAGgAAAQUBAAAAAAAAAAAAAAAAAAECAwQFBv/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAFIdm6nFjhf/8QAHBAAAQMFAAAAAAAAAAAAAAAAAQIDBAASIzM0/9oACAEBAAEFAmlYVOu3ySSuHy1L3f/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABYRAAMAAAAAAAAAAAAAAAAAAAEQIf/aAAgBAgEBPwERf//EAB8QAAIBAgcAAAAAAAAAAAAAAAABAgMQERIhMTJxgf/aAAgBAQAGPwKOr4jwlITe+VFPq3h//8QAHBAAAwABBQAAAAAAAAAAAAAAAAERgRAhYbHw/9oACAEBAAE/IYLnNkyLoSVGO1qPB7OdOof/2gAMAwEAAgADAAAAENTP/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAh/9oACAEDAQE/EDV//8QAFxEBAAMAAAAAAAAAAAAAAAAAARAhMf/aAAgBAgEBPxC5dj//xAAeEAABBAEFAAAAAAAAAAAAAAABABEhMXEQUWGhsf/aAAgBAQABPxAsWQg9r4J5fEDOEQgZEsncu49aWq//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;nginx4&quot;
        title=&quot;nginx4&quot;
        src=&quot;/static/d6ff5f16b0b18f1efabb4b1775b60e00/828fb/nginx4.jpg&quot;
        srcset=&quot;/static/d6ff5f16b0b18f1efabb4b1775b60e00/ff44c/nginx4.jpg 158w,
/static/d6ff5f16b0b18f1efabb4b1775b60e00/a6688/nginx4.jpg 315w,
/static/d6ff5f16b0b18f1efabb4b1775b60e00/828fb/nginx4.jpg 630w,
/static/d6ff5f16b0b18f1efabb4b1775b60e00/2551b/nginx4.jpg 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;
&lt;br /&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/77ca5acb74ec4696397323dd0b9730ce/2551b/nginx5.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 46.202531645569614%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQDBQb/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAFqwUfMkRh//8QAGRABAAIDAAAAAAAAAAAAAAAABDM0ADFB/9oACAEBAAEFAjVt4+yODq5v/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGxAAAgEFAAAAAAAAAAAAAAAAAHEBAgMQIYH/2gAIAQEABj8Cto0SihY4f//EAB8QAQACAAYDAAAAAAAAAAAAAAEAESExQWFxscHh8P/aAAgBAQABPyFFFX7RwGqIWESmXE+/eeE6E//aAAwDAQACAAMAAAAQuM//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhYRAxobH/2gAIAQEAAT8Qcs0t1tGmV2zTqIqFKrHCe/8AfN3/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;nginx5&quot;
        title=&quot;nginx5&quot;
        src=&quot;/static/77ca5acb74ec4696397323dd0b9730ce/828fb/nginx5.jpg&quot;
        srcset=&quot;/static/77ca5acb74ec4696397323dd0b9730ce/ff44c/nginx5.jpg 158w,
/static/77ca5acb74ec4696397323dd0b9730ce/a6688/nginx5.jpg 315w,
/static/77ca5acb74ec4696397323dd0b9730ce/828fb/nginx5.jpg 630w,
/static/77ca5acb74ec4696397323dd0b9730ce/2551b/nginx5.jpg 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;6045f84f&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h5&gt;post_read 阶段:&lt;/h5&gt;
&lt;p&gt;&lt;a name=&quot;82fcb2d8&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h5&gt;rewrite 阶段:&lt;/h5&gt;
&lt;p&gt;&lt;a name=&quot;0cd0d167&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;1. error_page 和 rewrite 阶段的 return 指令的区别：&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;return ：返回相应的状态码和注释&lt;/li&gt;
&lt;li&gt;error_page：根据相应的状态码返回相应的页面&lt;/li&gt;
&lt;li&gt;return 指令执行了 error_page 指令就不会执行&lt;br /&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2b1bbf028a2078505765b4f690042eb4/d44c9/nginx6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABdElEQVQoz4VSXUvDMBTd/xdffBFx+OKDMBH8ANEHXwRhwvYo+2B07bp17dqmbdo0aZKmHjc/Npx4uYTkJveec89NqyiY4648Px5N5g9P/Sim3jJeLKNubzAYu03TGGOajW02mR/aI8t20jRtlWWZUZYXZRRnlu0XjNOcIeIuwjDOamO0rpttU6JiQGRSyhbnvNm1DRQrRfv8sXP9fHx2f3X30uyzlhD8i5HZvqgq2e0NX/tjrNNZsD8ZyHVt8BT0wDMmlCSUC4lSSvIk8cKIoqnvlvckp1mhtbZsz7KXaF4pjSClRZIky4BAiEqqP5EBKHAvdVWpGue1TnDGRLAijhugaLBK5G6Jz2SS5JxXeAqd4VJqA+SckZS6ixUiQkgAoPT28Pao/TMUpYuCu/MQY0uzHPOPSeb50dTxgfdPMtjneWnP/LehA86D8WxieRHJFj45PDi6vOh8fBLQUEqZ32quwaEFZi4rhRUORRA/PWnfXt+8A/nvc7aMFnjSAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;nginx6&quot;
        title=&quot;nginx6&quot;
        src=&quot;/static/2b1bbf028a2078505765b4f690042eb4/f058b/nginx6.png&quot;
        srcset=&quot;/static/2b1bbf028a2078505765b4f690042eb4/c26ae/nginx6.png 158w,
/static/2b1bbf028a2078505765b4f690042eb4/6bdcf/nginx6.png 315w,
/static/2b1bbf028a2078505765b4f690042eb4/f058b/nginx6.png 630w,
/static/2b1bbf028a2078505765b4f690042eb4/d44c9/nginx6.png 722w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/600b6b3317b75ca09bc12d8268700df0/d44c9/nginx7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfklEQVQoz32S7U6DMBSGuXUTE2/DzOgFmOwW/LEf/jBz6KbuQ7YBBfrdUgrMF5hmajJy2pQe3p7nvDQwxmS5KKgI55uHSaiUTTNGMj55nE/DVZZzxhUXmmSsbdsDHkXYdhltd4LzwBhbUIn4WMXTcK1NmRAK/etbNJ0tn2bL1SZZvO+ewzVOYcLyNI0/t+vN3lobYBz+PUOROCleFlHdNDVGPyOqukGOMuV9fU6MdkCLI6Id2cc54NFU2zZIgaITA7s/sq4q7ypf+RrhnEepvODwgjJZIGjnC1JD40ex1oZxqXSptKVclc5rowRPnKvROQompJDSgBN2HD07qdwlgIScMSXAtLFSyaZp4aItnSsriEtXCWmsdX/FYPY9akfuqn7usAEspBZCA3jY+akMRnx2NOx785dhEFvbt0Ml0PpXB4OQ5dL4ujnnNsk5Lgk0We8cIs95SljB1Oj6bnw/DqyB+y3I25PqwxpN4j8hUlyblA7rJC3g4OXF1e3o5gs9E3NTgGmgaAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;nginx7&quot;
        title=&quot;nginx7&quot;
        src=&quot;/static/600b6b3317b75ca09bc12d8268700df0/f058b/nginx7.png&quot;
        srcset=&quot;/static/600b6b3317b75ca09bc12d8268700df0/c26ae/nginx7.png 158w,
/static/600b6b3317b75ca09bc12d8268700df0/6bdcf/nginx7.png 315w,
/static/600b6b3317b75ca09bc12d8268700df0/f058b/nginx7.png 630w,
/static/600b6b3317b75ca09bc12d8268700df0/d44c9/nginx7.png 722w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;E3z7U&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;2.if 语句&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/81b5d8729748e5f3d6340c99eaac4e5f/2551b/nginx8.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.86075949367089%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIDBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHXZ4ksAD//xAAZEAACAwEAAAAAAAAAAAAAAAAQMQABAhH/2gAIAQEAAQUCcro2h//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABkQAAEFAAAAAAAAAAAAAAAAABEAASAiMf/aAAgBAQAGPwJ6gLY//8QAGhABAAMAAwAAAAAAAAAAAAAAAQARMSFBUf/aAAgBAQABPyFpnkWpssmjyYQO4FT/2gAMAwEAAgADAAAAEJQP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBABAAMAAgMAAAAAAAAAAAAAAQARITFRYXGx/9oACAEBAAE/EK0xCYMvDGtJBw0l3IXtILDy/GCAFEcqUKtfbP/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;1602255750004.jpg&quot;
        title=&quot;1602255750004.jpg&quot;
        src=&quot;/static/81b5d8729748e5f3d6340c99eaac4e5f/828fb/nginx8.jpg&quot;
        srcset=&quot;/static/81b5d8729748e5f3d6340c99eaac4e5f/ff44c/nginx8.jpg 158w,
/static/81b5d8729748e5f3d6340c99eaac4e5f/a6688/nginx8.jpg 315w,
/static/81b5d8729748e5f3d6340c99eaac4e5f/828fb/nginx8.jpg 630w,
/static/81b5d8729748e5f3d6340c99eaac4e5f/2551b/nginx8.jpg 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a name=&quot;OaqOp&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;反向代理和负载均衡：&lt;/h4&gt;
&lt;p&gt;&lt;br /&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/26df677e65cb88cdfb9ce480c797d52c/2551b/nginx9.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB2yRUYrC//8QAGhAAAQUBAAAAAAAAAAAAAAAAAQACEBESQf/aAAgBAQABBQI0tT1xOv/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAIDAAAAAAAAAAAAAAAAAAAxASAy/9oACAEBAAY/AkZmjP/EABsQAAICAwEAAAAAAAAAAAAAAAERAFEQMZHR/9oACAEBAAE/IRA7l1AnjEKycIuz/9oADAMBAAIAAwAAABDMD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/EKf/xAAdEAEAAgICAwAAAAAAAAAAAAABABEhQRAxYcHw/9oACAEBAAE/EBTuml+5QAoDHxnicD01CGExgRon/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;nginx9&quot;
        title=&quot;nginx9&quot;
        src=&quot;/static/26df677e65cb88cdfb9ce480c797d52c/828fb/nginx9.jpg&quot;
        srcset=&quot;/static/26df677e65cb88cdfb9ce480c797d52c/ff44c/nginx9.jpg 158w,
/static/26df677e65cb88cdfb9ce480c797d52c/a6688/nginx9.jpg 315w,
/static/26df677e65cb88cdfb9ce480c797d52c/828fb/nginx9.jpg 630w,
/static/26df677e65cb88cdfb9ce480c797d52c/2551b/nginx9.jpg 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1098ea92b7653cf7947e088499ad2a64/2551b/nginx10.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.06329113924051%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEEAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHstxJSZA//xAAbEAEAAgIDAAAAAAAAAAAAAAABAAMEERIxMv/aAAgBAQABBQI2qMCyWeMTu1ef/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHRAAAgIBBQAAAAAAAAAAAAAAAAECESEiMXGBkf/aAAgBAQAGPwJ3CjThmXHwlwT6N2f/xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMUFRYaH/2gAIAQEAAT8hYtQ4b5lBz5Emq1H1IlsV9mGwGdM//9oADAMBAAIAAwAAABA3L//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABYRAQEBAAAAAAAAAAAAAAAAABEQIf/aAAgBAgEBPxAxn//EABsQAQADAQADAAAAAAAAAAAAAAEAESFBYXHw/9oACAEBAAE/EBsu1D3yGJJoMHmGLReJx9cSMKJoeoMiGLGsZRjKYoT/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;nginx10&quot;
        title=&quot;nginx10&quot;
        src=&quot;/static/1098ea92b7653cf7947e088499ad2a64/828fb/nginx10.jpg&quot;
        srcset=&quot;/static/1098ea92b7653cf7947e088499ad2a64/ff44c/nginx10.jpg 158w,
/static/1098ea92b7653cf7947e088499ad2a64/a6688/nginx10.jpg 315w,
/static/1098ea92b7653cf7947e088499ad2a64/828fb/nginx10.jpg 630w,
/static/1098ea92b7653cf7947e088499ad2a64/2551b/nginx10.jpg 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/17aacf7ac0c4be8ffd0ce1f8a423f445/2551b/nginx11.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAMBAgQF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB6jKSjjOD/8QAGRABAQEAAwAAAAAAAAAAAAAAAQIAAyEz/9oACAEBAAEFAnurxr9eRdCp/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAgMBAQAAAAAAAAAAAAAAAAIBEUEhgf/aAAgBAQAGPwLRbmjPBBTsn//EABoQAQADAQEBAAAAAAAAAAAAAAEAESFBUTH/2gAIAQEAAT8hvjS3uRU3Uvsum9wRygmnYyU++z//2gAMAwEAAgADAAAAEBfv/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFREBAQAAAAAAAAAAAAAAAAAAAAH/2gAIAQIBAT8QV//EAB0QAQACAgIDAAAAAAAAAAAAAAEAESExQXHB0fH/2gAIAQEAAT8QRgAlDE9WY8zSBFUz7l6lZUqz7FBCu3qXsMm8DyRBlx2OCf/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;nginx11&quot;
        title=&quot;nginx11&quot;
        src=&quot;/static/17aacf7ac0c4be8ffd0ce1f8a423f445/828fb/nginx11.jpg&quot;
        srcset=&quot;/static/17aacf7ac0c4be8ffd0ce1f8a423f445/ff44c/nginx11.jpg 158w,
/static/17aacf7ac0c4be8ffd0ce1f8a423f445/a6688/nginx11.jpg 315w,
/static/17aacf7ac0c4be8ffd0ce1f8a423f445/828fb/nginx11.jpg 630w,
/static/17aacf7ac0c4be8ffd0ce1f8a423f445/2551b/nginx11.jpg 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c9a1b88c27176e8a441210635568fdf7/2551b/nginx12.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHYiwChIf/EABkQAQEAAwEAAAAAAAAAAAAAAAIBEBITIf/aAAgBAQABBQJeSNcxdjhqxf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABsQAAICAwEAAAAAAAAAAAAAAAESABECEDFR/9oACAEBAAY/AiUuMhvyWcV32f/EABsQAQACAgMAAAAAAAAAAAAAAAEAERAhMVFh/9oACAEBAAE/IXTNHBrctaY83HuC6cpQQT//2gAMAwEAAgADAAAAEIsv/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Qp//EABsQAAMAAwEBAAAAAAAAAAAAAAERIQBBcRCx/9oACAEBAAE/ENHllXq/cLIcEzLq4InwkTfZ6IUEgODP/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;nginx12&quot;
        title=&quot;nginx12&quot;
        src=&quot;/static/c9a1b88c27176e8a441210635568fdf7/828fb/nginx12.jpg&quot;
        srcset=&quot;/static/c9a1b88c27176e8a441210635568fdf7/ff44c/nginx12.jpg 158w,
/static/c9a1b88c27176e8a441210635568fdf7/a6688/nginx12.jpg 315w,
/static/c9a1b88c27176e8a441210635568fdf7/828fb/nginx12.jpg 630w,
/static/c9a1b88c27176e8a441210635568fdf7/2551b/nginx12.jpg 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[在React项目中，如何优雅的优化长列表]]></title><description><![CDATA[一、虚拟列表优化长列表的原理 优化长列表的原理很简单，基本原理可以一句话概括：用数组保存所有列表元素的位置，只渲染可视区内的列表元素，当可视区滚动时，根据滚动的 offset 大小以及所有列表元素的位置，计算在可视区应该渲染哪些元素。…]]></description><link>https://www.pipihua666.github.io/long-list-of-react/</link><guid isPermaLink="false">https://www.pipihua666.github.io/long-list-of-react/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a name=&quot;TWtP7&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;一、虚拟列表优化长列表的原理&lt;/h4&gt;
&lt;p&gt;&lt;br /&gt;优化长列表的原理很简单，基本原理可以一句话概括：&lt;br /&gt;&lt;em&gt;&lt;strong&gt;用数组保存所有列表元素的位置，只渲染可视区内的列表元素，当可视区滚动时，根据滚动的 offset 大小以及所有列表元素的位置，计算在可视区应该渲染哪些元素。&lt;/strong&gt;&lt;/em&gt;&lt;br /&gt;_&lt;br /&gt;具体实现步骤如下所示：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;首先确定长列表所在父元素的大小，父元素的大小决定了可视区的宽和高&lt;/li&gt;
&lt;li&gt;确定长列表每一个列表元素的宽和高，同时初始的条件下计算好长列表每一个元素相对于父元素的位置，并用一个数组来保存所有列表元素的位置信息&lt;/li&gt;
&lt;li&gt;首次渲染时，只展示相对于父元素可视区内的子列表元素，在滚动时，根据父元素的滚动的 offset 重新计算应该在可视区内的子列表元素。这样保证了无论如何滚动，真实渲染出的 dom 节点只有可视区内的列表元素。&lt;/li&gt;
&lt;li&gt;假设可视区内能展示 5 个子列表元素，及时长列表总共有 1000 个元素，但是每时每刻，真实渲染出来的 dom 节点只有 5 个。&lt;/li&gt;
&lt;li&gt;补充说明，这种情况下，父元素一般使用 position：relative，子元素的定位一般使用：position：absolute 或 sticky&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a name=&quot;PXTg1&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;二、通过 react-virtualized 来优化长列表&lt;/h4&gt;
&lt;p&gt;react-virtualized 的基础组件包含：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Grid：用于优化构建任意网状的结构，传入一个二维的数组，渲染出类似棋盘的结构。&lt;/li&gt;
&lt;li&gt;List：List 是基于 Grid 来实现的，但是是一个维的列表，而不是网状。&lt;/li&gt;
&lt;li&gt;Table：Table 也是基于 Grid 来实现，表格具有固定的头部，并且可以在垂直方向上滚动&lt;/li&gt;
&lt;li&gt;Masonry：同样可以在水平方向，也可以在垂直方向滚动，不同于 Grid 的是可以自定义每个元素的大小，或者子元素的大小也可以是动态变化的&lt;/li&gt;
&lt;li&gt;Collection：类似于瀑布流的形式，同样可以水平和垂直方向滚动。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;值得注意的是这些基础组件都是继承于 React 中的 PureComponent，因此当 state 变化的时候，只会做一个浅比较来确定重新渲染与否 。&lt;br /&gt;
&lt;br /&gt;除了这几个基础组件外，react-virtualized 还提供了几个高阶组件，比如 ArrowKeyStepper 、AutoSizer、CellMeasurer、InfiniteLoader 等，本文具体介绍常用的 AutoSizer、CellMeasurer 和 InfiniteLoader。&lt;br /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AutoSizer：使用于一个子元素的情况，通过 AutoSizer 包含的子元素会根据父元素 Resize 的变化，自动调节该子元素的可视区的宽度和高度，同时调节的还有该子元素可视区真实渲染的 dom 元素的数目。(子元素会随父元素的长、宽自适应)&lt;/li&gt;
&lt;li&gt;CellMeasurer：这个高阶组件可以动态的改变子元素的高度，适用于提前不知道长列表中每一个子元素高度的情况。（会损耗性能，不建议使用）&lt;/li&gt;
&lt;li&gt;InfiniteLoader：这个高阶组件用于 Table 或者 List 的无限滚动，适用于滚动时异步请求等情况。（滚动加载）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;作者：yuxiaoliang&lt;br /&gt;链接：&lt;a href=&quot;https://juejin.cn/post/6844903729460674567&quot;&gt;https://juejin.cn/post/6844903729460674567&lt;/a&gt;&lt;br /&gt;来源：掘金&lt;br /&gt;著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;t7LD9&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;三、Vlist 的实际使用&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;loading&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;loading&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;bordered&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  // antd的List组件
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; height&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;420&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    // vlist父元素的高度
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;AutoSizer&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      // 可根据父元素的高度动态计算出列表项的高度
      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; width&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;VList
          width&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;width&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 列表的宽度&lt;/span&gt;
          height&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;height&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 列表的高度&lt;/span&gt;
          rowCount&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pocList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 列表项数&lt;/span&gt;
          overscanRowCount&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 不在视窗范围上下现实的列表项数&lt;/span&gt;
          rowHeight&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 列表项的高&lt;/span&gt;
          rowRenderer&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;renderItem&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 列表项渲染方式&lt;/span&gt;
          noRowsRenderer&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;// 空数据的渲染方式&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Empty&lt;/span&gt;&lt;/span&gt;
              &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                position&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;absolute&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                top&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;50%&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                left&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;50%&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                transform&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;translate(-60%,-50%)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;AutoSizer&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// key：数组行中的唯一值&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// style: vlist的列表项的定位样式和默认样式&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// parent: 参考父级Grid元素（使用CellMeasurer组件要注意：该组件会不断估算每个&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 列表项的最佳高度，所以会带来一定的性能损耗，个人建议不要使用该组件，可以像我一样将&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 列表项的高度rowHeight写死）&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// index: 被渲染数据的index索引&lt;/span&gt;
&lt;span class=&quot;token function-variable function&quot;&gt;renderItem&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; style&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; styles &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pocList &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pocList&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;List.Item&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;styles&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Tooltip&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Checkbox&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pocList&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;poc_id&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;span&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;highLightValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ellipsis&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pocList&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;46&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Checkbox&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Tooltip&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;List.Item&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;其他优秀的社区库：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;https://ali-react-table.js.org/docs/&quot;&gt;阿里的 ant-table 的丰富 api 虚拟表格&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/ctq123/ant-virtual-table&quot;&gt;兼容性比较好的虚拟表格&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[你该知道的http]]></title><description><![CDATA[首先让我们来了解一下 http 的请求报文和响应报文   再向您献上一张 http 请求的流程图   Redirect（资源重定向）的 HTTP 响应头部 Location:”（后面接跳转的 URI 路径） 通过 response.write(302,{ Location…]]></description><link>https://www.pipihua666.github.io/http/</link><guid isPermaLink="false">https://www.pipihua666.github.io/http/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a name=&quot;e970dab8&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;首先让我们来了解一下 http 的请求报文和响应报文&lt;/h4&gt;
&lt;p&gt;&lt;br /&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/da49442a0e71569330996cf2fcde50c1/a7a19/http.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.848101265822784%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABAklEQVQY001PaY+DIBD1//+41iuKaxWwtYqAeIDnJu7b7pdNJpPhzbwDzy1u3dZlXcZp1L2a7bTtG5A/EIVhtjNWUknnrPsgwM1gvOM8dK+VVo8i94M740xIgcIp5HrTq141bRPHcckoaJAexgEdfG+apzAKSUYSkuBIdKKT3bt5+77/ql/Vk9/utyRN8kcOXV4xJOUVx8F+7B4EKKN4FGUhVQer8/uEQ5oSJIQJVq1opeyGwbjVXdeFD7RC/JIRm1cV45DllLGSUvSvPKeMf5gNpGGVEgJ1rXVvTEoy4CB61lkkH6cJ/f8wWzuMpn7XQRhGcRwEQRhFCfJkGf6vlIL0D9pJSG45vahuAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;http&quot;
        title=&quot;http&quot;
        src=&quot;/static/da49442a0e71569330996cf2fcde50c1/f058b/http.png&quot;
        srcset=&quot;/static/da49442a0e71569330996cf2fcde50c1/c26ae/http.png 158w,
/static/da49442a0e71569330996cf2fcde50c1/6bdcf/http.png 315w,
/static/da49442a0e71569330996cf2fcde50c1/f058b/http.png 630w,
/static/da49442a0e71569330996cf2fcde50c1/40601/http.png 945w,
/static/da49442a0e71569330996cf2fcde50c1/78612/http.png 1260w,
/static/da49442a0e71569330996cf2fcde50c1/a7a19/http.png 1323w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;c76a254f&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;再向您献上一张 http 请求的流程图&lt;/h4&gt;
&lt;p&gt;&lt;br /&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/226664588d9551f1dce70bbfeb894e83/f8915/httpRequest.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABBElEQVQY03VR2XKDMBDj/7+xnbZJmmDwAb69virDDE8po4H1SoLVMpVagNrqWxxs/Y+dpFIhhtYbcKpba+cR9cyYVPKUnoJLOcxCCutM710bbcwofPDLuu56LzXjzoWIKaLAW3pvZ6e2MezE5QakXJQ288pDTD5ExqX1IVHetNXOg4WGrYJKVbt5zgvIYWZc/b6WSFmo/ePrpl1wIf08XkpbF9P9yZ6Mg50XcXu8IpFQ2+f3TVs/zIlo5TxR6seFvBgbg+1a42isEUfmEbXhUXKhha/oozOBgPNaOFrDLIW2BhBSApRp7PLICWUk5Mjjy9caLzOWb60NMTrvjLUA5fz2L/4BgwvPrlvqCxAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;httpRequest&quot;
        title=&quot;httpRequest&quot;
        src=&quot;/static/226664588d9551f1dce70bbfeb894e83/f058b/httpRequest.png&quot;
        srcset=&quot;/static/226664588d9551f1dce70bbfeb894e83/c26ae/httpRequest.png 158w,
/static/226664588d9551f1dce70bbfeb894e83/6bdcf/httpRequest.png 315w,
/static/226664588d9551f1dce70bbfeb894e83/f058b/httpRequest.png 630w,
/static/226664588d9551f1dce70bbfeb894e83/f8915/httpRequest.png 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;a8b0534a&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;Redirect（资源重定向）的 HTTP 响应头部&lt;/h4&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Location:”（后面接跳转的 URI 路径）&lt;/li&gt;
&lt;li&gt;通过 response.write(302,{ Location:‘/new’ })返回的 xhr.status&gt;=300&amp;#x26;&amp;#x26;xhr.status&amp;#x3C;400 才能进行重定向&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a name=&quot;94d0159f&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;Cache-Contorl 的含义和使用的 HTTP 响应头部&lt;/h4&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;可缓存性：&lt;br /&gt;|&lt;strong&gt;public&lt;/strong&gt;|http 经过的地方都能够进行缓存  |&lt;br /&gt;|&lt;strong&gt;private&lt;/strong&gt;|只有发起请求的浏览器才能够进行缓存|&lt;br /&gt;|&lt;strong&gt;no-cache&lt;/strong&gt;|本地可以缓存，但是需要在服务端验证过后才能使用|&lt;/li&gt;
&lt;li&gt;到期：&lt;br /&gt;|&lt;strong&gt;max-age=&lt;second&gt;&lt;/strong&gt;| 浏览器缓存多长时间到期 |&lt;br /&gt;|&lt;strong&gt;s-maxage=&lt;second&gt;&lt;/strong&gt;|代理服务器缓存的到期时间|&lt;br /&gt;|  &lt;strong&gt;max-stale=&lt;second&gt;&lt;/strong&gt;| 在 max-age 到期之后，在 max-stale 期限之内还是可以取缓存 |&lt;/li&gt;
&lt;li&gt;重新验证：（使用较少）&lt;br /&gt;|&lt;strong&gt;must-revalidate&lt;/strong&gt;|   在 max-age 过期之后必须到原服务端发起请求来验证此缓存是否过期了，而不能直接使用本地的缓存|&lt;br /&gt;|&lt;strong&gt;proxy-revalidate&lt;/strong&gt;|使用在缓存服务器，在缓存过期之后到原服务端请求验证缓存是否过期了，而不能直接使用本地的缓存|&lt;/li&gt;
&lt;li&gt;其他：&lt;br /&gt;|&lt;strong&gt;no-store&lt;/strong&gt;|本地和代理服务器都不能缓存，永远只能到服务端拿取新的内容才能使用|&lt;br /&gt;|&lt;strong&gt;no-transform&lt;/strong&gt;|指定代理服务器不能修改服务端返回的内容|&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;服务器缓存的验证更新机制：&lt;br /&gt;| &lt;strong&gt;Last-Modified&lt;/strong&gt; （上一次修改时间）| 在服务端返回 Last-Modified，浏览器在下一次请求的时候会带上&lt;strong&gt;If-Modified-Since&lt;/strong&gt; 与服务器的 Last-Modified 对比，如果相等，那么资源没有被修改过，服务器则告诉浏览器直接使用缓存|&lt;br /&gt;|&lt;strong&gt;Etag&lt;/strong&gt;（数据签名：对静态资源进行 hash 计算的到唯一值的签名）|在服务器返回 Etag，浏览器在下一次请求的时候会带上&lt;strong&gt;If-None-Match&lt;/strong&gt;与服务器的 Etag 进行对比，如果相等，那么资源没有被修改过，服务器告诉浏览器直接使用缓存|&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a name=&quot;5c13213b&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;CORS 跨域请求的 HTTP 响应头部&lt;/h4&gt;
&lt;p&gt;&lt;br /&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/157a5c1636af09bd03e30e5838a11366/f8915/cors.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 46.202531645569614%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7ElEQVQoz5WR646EIAyFff9X1H8z3lEBQVDEmY+wO5lsZpNd0iic9rSnbXHGU69aSqm1DmeIV8QAV7OCZzvCkfEfViitRjFy5mXej/16XNnxeDsfmYlsN+u8U6ve3BZj/C3uM7kqS6lUVVbTNFEEwf8gG2v4LXL5K+27r6+eGQlkLn73rw5JysywnJ3UObvzlniaxZXIUsuu7/thABVCoB/fKIau6+q6xms2Y51lqMk3j03T3u53govzTFth1HTOSjAQ6sNPeZXkwpMtsEi+zntk5hUWKAGFnMWgvG0bijB8mDxfs4CJ8cw1QghP+LsK6h+JDWIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cors&quot;
        title=&quot;cors&quot;
        src=&quot;/static/157a5c1636af09bd03e30e5838a11366/f058b/cors.png&quot;
        srcset=&quot;/static/157a5c1636af09bd03e30e5838a11366/c26ae/cors.png 158w,
/static/157a5c1636af09bd03e30e5838a11366/6bdcf/cors.png 315w,
/static/157a5c1636af09bd03e30e5838a11366/f058b/cors.png 630w,
/static/157a5c1636af09bd03e30e5838a11366/f8915/cors.png 748w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Access-Control-Allow-Origin&lt;/strong&gt;:支持跨域的 URI&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Access-Control-Allow-Headers&lt;/strong&gt;:跨域请求支持的请求头（由于 cors 跨域对请求头和请求方法存在限制，所以需要服务端来进行处理才能使用相应的请求头和请求方法）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Access-Control-Allow-Methods&lt;/strong&gt;:跨域请求支持的请求方法（eg:‘PUT,DELETE,POST’）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Access-Control-Max-Age&lt;/strong&gt;:1000   意思是在 1000s 内的以上跨域（包括跨域支持的头部和请求方法）都不用发送 cors 预请求来验证，可以直接发送正式请求&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意&lt;/strong&gt;：如果在 cors 跨域时，服务端不设定允许的请求头或者请求方法返回，浏览器虽然可以接收返回的信息，但是为了安全考虑，是不会显示内容的。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意&lt;/strong&gt;：由于浏览器会为了安全着想，在发送除了 PUT,HEAD,POST 方法，和 Content-Type 为 text-plian,multipart/form-data,application/x-www-form-urlencoded 类型以外的 cors 限制发送的请求时，会先在发送正式请求之前发送一个预请求（method 方法为 OPTION）来获取服务端允许的请求域，请求方法，请求头等信息。&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 584px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/eb6dc096a0510b40f77cfc659d047aeb/e05eb/res.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 67.08860759493672%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0ElEQVQoz12S25KiQBBE/f/v2pjnEeXaIDTNTUBFBFFQ2IO4TuxoBVHQnZVZWbXKy9z1XNMyHeF0t26apuf4JMZpJD7JEp/TJVb90F+7q3CFihThB/4+35fHMk7iU3XKi3yfZ6EKkzTh1LKtc32myuP5eIEfQ9M23+tv3dDh52mZpvJlnMYyDEzbCKS8dl17bYlzXUP2w3zv77f7TdtoVIVWOM42MP6IryiMYNvnRd+fx2c7/fuN4/ifbErqxpbOAxnYjm1LR4/MNEmLsjhWp6JI0ky9YE+Qnypv8KW5INuwDG/nbbYbTdOiUFV1dTgeZChtIeI0adsGDtxpXgkQgKthGPq+3/k77mX7DKmIxypoyZMswTOqqFiF0Wyb8ITrCWiosuKMDD+jJIriuU/EK6VmjdOEt9eurZsLCTrfbb9mhuErZgsPQwYDGH4K+9KH53g6UhQvUFRfam4TA/9XMvfMC3isZkjCdZgWsr2daznW4j+66P/D+dttRmXZJszcY7bVuQKTZimBEGZJ4FDb4VWDhGXz3sx82upbtLFbPMtDCYzm8QwjWSw+snBLOfKl4Z8lYT03+oZuaR61a20NjFpSSVQsKzl3+5i7ZTqgeP0LFD3ReIVXndUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;res&quot;
        title=&quot;res&quot;
        src=&quot;/static/eb6dc096a0510b40f77cfc659d047aeb/e05eb/res.png&quot;
        srcset=&quot;/static/eb6dc096a0510b40f77cfc659d047aeb/c26ae/res.png 158w,
/static/eb6dc096a0510b40f77cfc659d047aeb/6bdcf/res.png 315w,
/static/eb6dc096a0510b40f77cfc659d047aeb/e05eb/res.png 584w&quot;
        sizes=&quot;(max-width: 584px) 100vw, 584px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a name=&quot;9e50c3f6&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;Cookie 的 HTTP 响应头部&lt;/h4&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;服务端通过在响应头中设置&lt;strong&gt;set-Cookie&lt;/strong&gt;，设置 Cookie&lt;/li&gt;
&lt;li&gt;键值对，可以通过’[]‘设置多个 cookie&lt;/li&gt;
&lt;li&gt;浏览器的下一次请求的时候会带上&lt;/li&gt;
&lt;li&gt;同域才能发送 cookie&lt;/li&gt;
&lt;li&gt;cookie 的属性：&lt;br /&gt;|&lt;strong&gt;max-age&lt;/strong&gt;和&lt;strong&gt;expires&lt;/strong&gt;| 设置过期时间 |&lt;br /&gt;|&lt;strong&gt;Secure&lt;/strong&gt;|只能通过 https 发送|&lt;br /&gt;|  &lt;strong&gt;HttpOnly&lt;/strong&gt;|无法通过 document.cookie 或者其他脚本程序访问，防止 xrs 攻击  |&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a name=&quot;2bb7644c&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;Connection（TCP 连接）的 HTTP 响应头部&lt;/h4&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;HTTP1.1&lt;/strong&gt;一般只有 6 个 TCP 的并发链接,其他的连接会阻塞&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Connection:‘close’&lt;/strong&gt;   没有长连接，在每一次请求完毕之后关闭 TCP 连接，有新请求时创建一个新的 TCP 连接&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Connection:‘keep-alive’&lt;/strong&gt;   有长连接，在六个 TCP 连接中如果有一个连接完成数据传输，则将那个 TCP 连接给下一个请求用&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a name=&quot;8c43a26b&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;CSP（ Content-Security-Policy:）的 HTTP 响应头部&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;作用：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;限制网页资源的获取（从哪里获取，请求发到什么地方）&lt;/li&gt;
&lt;li&gt;限制报告资源获取越权（当获取到不应该获取的资源时候，给网页一些报告）&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;限制方式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;defalut-src:(限制全局)&lt;br /&gt;| http |   只能通过 http 进行加载|&lt;br /&gt;|http https|只能通过 http 或者 https 进行加载|&lt;br /&gt;| ’self’ | 只能通过本域名的进行加载 |&lt;br /&gt;|http.baidu.com|可以限定制定的网站进行加载|&lt;/li&gt;
&lt;li&gt;制定资源类型:&lt;br /&gt;1.connet-src:请求发现的目标进行限制&lt;br /&gt;2.img-src:图片可以从哪些网址加载&lt;br /&gt;3.font-src:字体从哪里加载&lt;br /&gt;4.script-src:脚本资源从哪里进行加载&lt;br /&gt;…网页可以从外部加载的都可以进行资源的限制&lt;/li&gt;
&lt;li&gt;.form-action   ‘\self’:对 form 表单提交的 action 进行限制&lt;/li&gt;
&lt;li&gt;report-uri  + 服务器的路径（可以向服务区提交加载错误的信息）&lt;/li&gt;
&lt;li&gt;Content-Security-Policy-Report-Only:（虽然检测到资源不想加载，但还是可以加载）&lt;br /&gt;…&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a name=&quot;5a32a534&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;数据协商：客户端和服务端协商声明所需要的数据类型（以下是 HTTP 请求头部）&lt;/h4&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Accept:浏览器能够处理的 MIME 类型&lt;/li&gt;
&lt;li&gt;Accept-Charset:浏览器能够显示的字符编码&lt;/li&gt;
&lt;li&gt;Accept-Encoding:浏览器能够处理的压缩编码&lt;/li&gt;
&lt;li&gt;Accept-Language:浏览器当前设置的语言&lt;/li&gt;
&lt;li&gt;Connection:浏览器与服务器之间连接的类型&lt;/li&gt;
&lt;li&gt;Cookie:当前页面设置的任何 cookie&lt;/li&gt;
&lt;li&gt;Host:发出请求页面所在的域&lt;/li&gt;
&lt;li&gt;Referer:发出请求页面的 URI&lt;/li&gt;
&lt;li&gt;User-Agent:浏览器的用户代理字符串&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br /&gt;延伸阅读：&lt;br /&gt;CSP 扩展：&lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CSP&quot;&gt;CSP 内容安全策略&lt;/a&gt;&lt;br /&gt;HTTPS（图解 HTTPS，写的挺好的博客）：&lt;a href=&quot;https://blog.csdn.net/forezp/article/details/89666603&quot;&gt;HTPPS&lt;/a&gt;&lt;br /&gt;HTTP2：&lt;a href=&quot;https://juejin.im/post/5b88a4f56fb9a01a0b31a67e&quot;&gt;HTTP2 网络质和量的提升&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[react高亮显示关键词]]></title><description><![CDATA[针对关键词进行高亮 针对字符串进行高亮 推荐： 正则转义相关地址]]></description><link>https://www.pipihua666.github.io/highLight/</link><guid isPermaLink="false">https://www.pipihua666.github.io/highLight/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 正则特殊字符转义&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; escapeRegexp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;string &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token regex&quot;&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-source language-regex&quot;&gt;[\\^$*+?.()|[\]{}]&lt;/span&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-flags&quot;&gt;g&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;\\$&amp;amp;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;针对关键词进行高亮&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; escapeRegexp &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Utils/string&quot;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 针对关键词进行高亮&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 正则匹配有可能会涉及到特定字符&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// targetVal 要高亮的目标字符串&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 高亮关键词&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;hightLight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;targetVal&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; highLightValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; hasHighLight &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
  hasHighLight &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; highLightValue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;some&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; reg &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RegExp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;escapeRegexp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;i&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 不区分大小写&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reg&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;targetVal&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hasHighLight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;lt;span style=&quot;color:black;background:#f6e58d&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;targetVal&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;lt;span&gt;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;targetVal&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;针对字符串进行高亮&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 根据搜索条件替换字符串关键词高亮标签&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 针对长字符串的高亮显示&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 返回的数组可以用React.createElement(&apos;pre&apos;,null,stringReplaceMark(targetVal,highLighValue))&lt;/span&gt;
&lt;span class=&quot;token function-variable function&quot;&gt;stringReplaceMark&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;targetVal&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; highLightValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; replaceVal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;highLightValue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; highLightValue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    highLightValue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; reg &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RegExp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;escapeRegexp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;i&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// 高亮替换的字符&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isReplaced &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; targetVal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reg&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; targetVal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reg&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// 将字符串从高亮的位置切割成数组，好用上面的isReplaced插入到数组的分割空位中&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; replaceArr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; targetVal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reg&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; length &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;replaceArr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; replaceArr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length
      replaceArr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;item&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        replaceVal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 在空位插入高亮标签，不在最后插入&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; isReplaced&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          replaceVal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;span style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; color&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; background&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#f6e58d&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isReplaced&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    replaceVal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;targetVal&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; replaceVal
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;推荐：&lt;br /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/benjamingr/RegExp.escape&quot;&gt;正则转义相关地址&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Gatsby配置antd]]></title><description><![CDATA[前言 相信国内的 react 用户都是 antd 的忠实爱好者，此教程实践可行 1. 首先安装必须的npm包 2. 将以下代码添加到 gatsby-node.js 中，babel-plugin-import 配置 antd 按需加载组件 3. 将以下代码添加到 gatsby…]]></description><link>https://www.pipihua666.github.io/gatsby/</link><guid isPermaLink="false">https://www.pipihua666.github.io/gatsby/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;h4&gt;前言&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;相信国内的 react 用户都是 antd 的忠实爱好者，此教程实践可行&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;1. 首先安装必须的npm包&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm install --save gatsby-plugin-antd less less-loader babel-plugin-import&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;2. 将以下代码添加到 gatsby-node.js 中，babel-plugin-import 配置 antd 按需加载组件&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;exports.onCreateBabelConfig = ({ actions }) =&amp;gt; {
  actions.setBabelPlugin({
    name: &amp;quot;babel-plugin-import&amp;quot;,
    options: {
      libraryName: &amp;quot;antd&amp;quot;,
      style: true,
    },
  })
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;3. 将以下代码添加到 gatsby-config.js 的插件组中（modifyVars 可自行修改 antd 的样式）&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    resolve: &amp;quot;gatsby-plugin-antd&amp;quot;,
    options: {
    style: true,
    },
},
{
    resolve: `gatsby-plugin-less`,
    options: {
    modifyVars: {
        &amp;quot;primary-color&amp;quot;: &amp;quot;#da3043&amp;quot;,
        &amp;quot;font-family&amp;quot;: &amp;quot;Arial&amp;quot;,
        &amp;quot;layout-body-background&amp;quot;: &amp;quot;#66ff79&amp;quot;,
    },
    lessOptions: {
        javascriptEnabled: true,
    },
    },
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;🤔康康我的package.json吧&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  &amp;quot;dependencies&amp;quot;: {
    &amp;quot;antd&amp;quot;: &amp;quot;^4.12.3&amp;quot;,
    &amp;quot;babel-plugin-import&amp;quot;: &amp;quot;^1.13.3&amp;quot;,
    &amp;quot;gatsby&amp;quot;: &amp;quot;^2.32.3&amp;quot;,
    &amp;quot;gatsby-image&amp;quot;: &amp;quot;^2.11.0&amp;quot;,
    &amp;quot;gatsby-plugin-antd&amp;quot;: &amp;quot;^2.2.0&amp;quot;,
    &amp;quot;gatsby-plugin-feed&amp;quot;: &amp;quot;^2.13.0&amp;quot;,
    &amp;quot;gatsby-plugin-google-analytics&amp;quot;: &amp;quot;^2.11.0&amp;quot;,
    &amp;quot;gatsby-plugin-less&amp;quot;: &amp;quot;^4.7.0&amp;quot;,
    &amp;quot;gatsby-plugin-manifest&amp;quot;: &amp;quot;^2.12.0&amp;quot;,
    &amp;quot;gatsby-plugin-offline&amp;quot;: &amp;quot;^3.10.0&amp;quot;,
    &amp;quot;gatsby-plugin-react-helmet&amp;quot;: &amp;quot;^3.10.0&amp;quot;,
    &amp;quot;gatsby-plugin-sharp&amp;quot;: &amp;quot;^2.14.1&amp;quot;,
    &amp;quot;gatsby-remark-copy-linked-files&amp;quot;: &amp;quot;^2.10.0&amp;quot;,
    &amp;quot;gatsby-remark-images&amp;quot;: &amp;quot;^3.11.0&amp;quot;,
    &amp;quot;gatsby-remark-prismjs&amp;quot;: &amp;quot;^3.13.0&amp;quot;,
    &amp;quot;gatsby-remark-responsive-iframe&amp;quot;: &amp;quot;^2.11.0&amp;quot;,
    &amp;quot;gatsby-remark-smartypants&amp;quot;: &amp;quot;^2.10.0&amp;quot;,
    &amp;quot;gatsby-source-filesystem&amp;quot;: &amp;quot;^2.11.0&amp;quot;,
    &amp;quot;gatsby-transformer-remark&amp;quot;: &amp;quot;^2.16.0&amp;quot;,
    &amp;quot;gatsby-transformer-sharp&amp;quot;: &amp;quot;^2.12.0&amp;quot;,
    &amp;quot;less&amp;quot;: &amp;quot;^4.1.1&amp;quot;,
    &amp;quot;less-loader&amp;quot;: &amp;quot;^8.0.0&amp;quot;,
    &amp;quot;prismjs&amp;quot;: &amp;quot;^1.22.0&amp;quot;,
    &amp;quot;react&amp;quot;: &amp;quot;^16.12.0&amp;quot;,
    &amp;quot;react-dom&amp;quot;: &amp;quot;^16.12.0&amp;quot;,
    &amp;quot;react-helmet&amp;quot;: &amp;quot;^5.2.1&amp;quot;,
    &amp;quot;typeface-merriweather&amp;quot;: &amp;quot;0.0.72&amp;quot;,
    &amp;quot;typeface-montserrat&amp;quot;: &amp;quot;0.0.75&amp;quot;
  },
  &amp;quot;devDependencies&amp;quot;: {
    &amp;quot;gh-pages&amp;quot;: &amp;quot;^3.1.0&amp;quot;,
    &amp;quot;prettier&amp;quot;: &amp;quot;2.2.1&amp;quot;
  },&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[通过a标签同源和跨域下载服务器文件]]></title><description><![CDATA[同源下载 跨域下载 推荐： 一个很全面的实现前端文件下载的博客 前端下载文件的 5 中方法对比 前端 zip 压缩文件/文件夹并下载到本地]]></description><link>https://www.pipihua666.github.io/element-a/</link><guid isPermaLink="false">https://www.pipihua666.github.io/element-a/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;h4&gt;同源下载&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**
 * @description: 从ftp下载文件(同源)
 * @param {string} res -返回的字符内容
 * @param {string} filename -下载到本地的文件名
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;downLoadFile&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;url&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; string&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; filename&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; origin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/server/api/common/download/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;url&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;filename&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; filename&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; filename&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; aLink &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  aLink&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;display &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;none&quot;&lt;/span&gt;
  aLink&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;href &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; origin
  aLink&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;download &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name
  aLink&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;_black&quot;&lt;/span&gt;
  aLink&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;application/octet-stream&quot;&lt;/span&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;aLink&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  aLink&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;aLink&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;跨域下载&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**
 * @description: 获取 blob
 * @param {string} url -目标文件地址
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getBlob&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;url&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; xhr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;XMLHttpRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;GET&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;responseType &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blob&quot;&lt;/span&gt;
    xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onload&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**
 * @description: 下载blob工具函数
 * @param {string} blob -文件流
 * @param {string} filename -下载的文件名
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;saveAs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;blob&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Blob&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; filename&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;navigator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;msSaveOrOpenBlob&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    navigator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;msSaveBlob&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;blob&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; filename&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; anchor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; body &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;body&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    anchor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;href &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;URL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createObjectURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;blob&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    anchor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;download &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; filename

    anchor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;display &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;none&quot;&lt;/span&gt;
    body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;anchor&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    anchor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;anchor&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;URL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;revokeObjectURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;anchor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;href&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**
 * @description: 用户调用的下载函数
 * @param {string} url -目标文件地址（跨域）
 * @param {string} newFilename -想要保存的文件名称
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;download&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;url&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; string&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newFilename&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; blob&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Blob &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getBlob&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;saveAs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;blob&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newFilename&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;推荐：&lt;br /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://juejin.im/post/6844903763359039501&quot;&gt;一个很全面的实现前端文件下载的博客&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://juejin.im/post/6844904069958467592&quot;&gt;前端下载文件的 5 中方法对比&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.npmjs.com/package/jszip&quot;&gt;前端 zip 压缩文件/文件夹并下载到本地&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[前端大屏可视化]]></title><description><![CDATA[…]]></description><link>https://www.pipihua666.github.io/echarts/</link><guid isPermaLink="false">https://www.pipihua666.github.io/echarts/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 44.93670886075949%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwT/xAAWAQEBAQAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAciUTlDCi//EABkQAAEFAAAAAAAAAAAAAAAAAAEAAhARMf/aAAgBAQABBQINFI7P/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAQUBAAAAAAAAAAAAAAAAAQARICIxMv/aAAgBAQAGPwIXGOuo/wD/xAAbEAACAgMBAAAAAAAAAAAAAAAAAREhEDFRYf/aAAgBAQABPyF5ltng0uCsJnL2f//aAAwDAQACAAMAAAAQ3w//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQMBAT8QTZv/xAAXEQADAQAAAAAAAAAAAAAAAAABEBEh/9oACAECAQE/EJpX/8QAGxABAAMAAwEAAAAAAAAAAAAAAQARQSExcdH/2gAIAQEAAT8QABcI6M9+QI09AlGxXDg0h1MnZP/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;dandelion-2817950_1280.jpg&quot;
        title=&quot;dandelion-2817950_1280.jpg&quot;
        src=&quot;/static/b57b22b6622b0c15a7547a6516702a5b/828fb/echarts.jpg&quot;
        srcset=&quot;/static/b57b22b6622b0c15a7547a6516702a5b/ff44c/echarts.jpg 158w,
/static/b57b22b6622b0c15a7547a6516702a5b/a6688/echarts.jpg 315w,
/static/b57b22b6622b0c15a7547a6516702a5b/828fb/echarts.jpg 630w,
/static/b57b22b6622b0c15a7547a6516702a5b/0ede0/echarts.jpg 945w,
/static/b57b22b6622b0c15a7547a6516702a5b/3ac88/echarts.jpg 1260w,
/static/b57b22b6622b0c15a7547a6516702a5b/eea4a/echarts.jpg 1280w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;
&lt;a name=&quot;VmEzg&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;前言&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;作为一个今年刚毕业的弟弟来说，刚接到这个需求真是又兴奋，又紧张。
兴奋的是可视化是我觉得非常炫酷的一个功能，做好的一定会很有成就感，
紧张的是组内只有我一个前端，而且还是一个刚毕业的弟中弟，有很多还需要请教大佬才知道的。
不管了，冲就完事了！萨斯给！
可视化技术栈：react，echarts，react-for-echarts，sass&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a name=&quot;3gFyR&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;布局（这里采用的是我在实际项目中的配置）&lt;/h4&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li&gt;设置项目的最小宽度 min-width,确保项目不会过于小导致布局混乱&lt;/li&gt;
&lt;li&gt;横向自适应宽度：采用 ant-design 的栅栏布局&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;纵向自适应高度，我一开始采用的是 rem 的适应方案，可是发现有如下问题&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;rem 方案使用的是&lt;a href=&quot;https://www.njleonzhang.com/2018/08/15/flexible-pc-full-screen.html&quot;&gt;这篇文章的方案&lt;/a&gt;，大家可以看看工程运用那里，我关于 rem 的计算方案并不是采用的该文章的方法，如果你使用的是 vscode，那有款 cssrem 的插件很适合你&lt;/li&gt;
&lt;li&gt;会修改根元素的 font-size，容易导致项目的其他页面字体大小有问题（可通过修改 document.body.fontSize 来解决）&lt;/li&gt;
&lt;li&gt;如果放在大屏上，比如分辨率为 1920*1080 以上，屏幕下方会留白（对 rem 方案的不熟练）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;于是，我采用的是 vh 的方案，查看&lt;a href=&quot;https://caniuse.com/?search=vh&quot;&gt;caniuse&lt;/a&gt;，发现兼容性还不错&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a name=&quot;IF4ph&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;可视化组件的背景图片&lt;/h4&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br /&gt;svg 作为背景图片带来的坑：&lt;br /&gt;一开始 ued 给我的切的 svg，也没做过可视化，不太懂，也是欣然接受并使用的 svg 作为背景图片，可是发现调整屏幕的分辨率，组件自适应了，但是背景图却有问题，&lt;b&gt;高度和宽度一致是按照一定比例来缩放的。后来发现原来这是 svg 的特性，怪不得很适合用来做 icon。&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;于是我使用了&lt;a href=&quot;https://cloudconvert.com/svg-to-png&quot;&gt;svg-to-png&lt;/a&gt;，采用 png 来设置背景图片，并通过调整 css 来实现背景图片覆盖整个组件。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@mixin&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;$urlImg&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;$urlImg&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100% 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-repeat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; no-repeat&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;z2ibq&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;世界地图并实现地图下钻&lt;/h4&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;首先得把世界地图和各个国家的地图找到，这是一个很庞大的工作。而且以前的地图和现在的地图并非一致，请合理使用（毕竟地球的板块是在不断的运动中的）。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://datav.aliyun.com/tools/atlas/#&amp;#x26;lat=30.332329214580188&amp;#x26;lng=106.72278672066881&amp;#x26;zoom=3.5&quot;&gt;中国-&gt;国、省、市地图 Json&lt;/a&gt;（由于有 datav 官方维护，地图数据新）&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hxkj.vip/demo/echartsMap/&quot;&gt;中国-&gt;省、市、区/县地图 Json&lt;/a&gt;（地图数据新）&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/pissang/starbucks/tree/gh-pages/json&quot;&gt;世界-&gt;各个国家的地图 Json（包括世界地图）&lt;/a&gt;(地图数据旧)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://geojson-maps.ash.ms/&quot;&gt;世界-&gt;各个国家的地图 Json（不包括世界地图）&lt;/a&gt;（地图数据较新）&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://img.hcharts.cn/mapdata/&quot;&gt;全世界地图数据集&lt;/a&gt;（只更新到了 2015 年的数据）&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://geojson.io/#map=2/20.0/0.0&quot;&gt;当你找到 json 的地图，放上来看看是否一致&lt;/a&gt;（权威地图，地图数据新）&lt;/li&gt;
&lt;li&gt;如果不懂 geoJson 规范，可看&lt;a href=&quot;https://www.oschina.net/translate/geojson-spec&quot;&gt;GeoJSON 格式规范说明&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;找到了地图 json，下钻实现&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 获取地图json注册地图&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// map为json所对应的名称（比如：世界地图为world,中国地图为China）&lt;/span&gt;
&lt;span class=&quot;token function-variable function&quot;&gt;registerMap&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;map&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 由于json是存在静态资源中的&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path_env &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
    process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;NODE_ENV&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;development&quot;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/public/json/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;map&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;.json&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/assets/public/json/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;map&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;.json&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;axios&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path_env&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      echarts&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registerMap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;world&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;finally&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// 使用的是echarts-for-react，this.echartsReact获取到的是该图表实例&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;echartsReact&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dispatchAction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;restore&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;OmSJq&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;词云&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;我采用的库是&lt;a href=&quot;https://github.com/mcc108/TagCloud#readme&quot;&gt;TagCloud&lt;/a&gt;,同事推荐的一个小巧，可定制的库，挺好用的。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a name=&quot;vtI9Q&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;自定义一个时钟&lt;/h4&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;使用一个组件来显示时钟，保证时钟的渲染在该组件内进行，不影响其他组件&lt;/li&gt;
&lt;li&gt;字体样式采用免费可商用的&lt;a href=&quot;https://www.uisdc.com/uisdc-first-free-font&quot;&gt;「优设标题黑」&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; PureComponent &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; dayjs &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;dayjs&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DataVisual&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PureComponent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    time&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dayjs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;YYYY.MM.DD HH:mm:ss&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  timer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;componentDidMount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;timer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setInterval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        time&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dayjs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;YYYY.MM.DD HH:mm:ss&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;componentWillUnmount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;clearInterval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;timer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; display&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;inline-block&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;2QaXU&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;使用@font-face&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a name=&quot;d41d8cd9&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/CSS/@font-face&quot;&gt;MDN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@font-face&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-family&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; electronicNumber&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string url&quot;&gt;&quot;./font/DS-DIGI-1.ttf&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string url&quot;&gt;&quot;./font//DS-DIGIB-2.ttf&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string url&quot;&gt;&quot;./font//DS-DIGII-3.ttf&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string url&quot;&gt;&quot;./font/DS-DIGIT-4.ttf&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;.myFontFace&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-family&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; electronicNumber&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;suEmG&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;使用@media&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/CSS/@media&quot;&gt;MDN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@mixin&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;screenMedia&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;$fontSize&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  // 如果小于1440px，则font-size生效
  // &lt;span class=&quot;token property&quot;&gt;同理min-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;1440px，如果大于1440px，则font-size生效
  &lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@media&lt;/span&gt; screen &lt;span class=&quot;token keyword&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1440px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $fontSize&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;.mymMedia&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@include&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;screenMedia&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;20px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;最后&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;文章针对前端可视化的大屏展示，根据需求来完善文章，欢迎各位大佬评论哦。
如果有需要修改文章的内容，我会改进。
附上一张性能图片，小弟还没做过这方面的优化。
&lt;a href=&quot;https://juejin.im/post/6844903552070975495&quot;&gt;使用 chrome performance 查看页面性能&lt;/a&gt; &gt; &lt;a href=&quot;https://web.dev/rail/#goals-and-guidelines&quot;&gt;著名的 RAIL model&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[【前端必会】设计与模式]]></title><description><![CDATA[五大设计原则： 
  S  ：做什么事都要分开，小（简）即是美； 一个程序只做一件事； 如果功能过于复杂就要拆分开；
  O ：open and close ，对扩展开放，对修改封闭 !important； 增加需求时，扩展新代码，而不是修改原代码； 渐进增强；
  L…]]></description><link>https://www.pipihua666.github.io/design-patterns/</link><guid isPermaLink="false">https://www.pipihua666.github.io/design-patterns/</guid><pubDate>Sat, 20 Feb 2021 13:45:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a name=&quot;fsRAL&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;五大设计原则：&lt;/h4&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 80.37974683544303%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAACwUlEQVQoz3WR/U8ScRzH+UP6oVbrtzZqzLZq6WrZdNrDdLU0y+oHc+ZDc2XNObW2ttKt9WBl1kjTfArFB9TABIrDM4Tz8MAT5NQ7OJ6OgwMUzgF2gGPq9Lv3vvs+fB7e39eXt7n/iEWjW4tYbM8AXvIiiFv9ZoxBl9ZIR3DVSuuNjMnigY0+o5nSzTuAWca8TMoBYkLhBLWRUDhZkreZSGa9zLrDxfr8nDb8gRBFszQTwG3rTipAkN6FJdbH+EyYZx71GhYj4VRyymQkytI+1uNl3TTLJbuosN0ZdrpYrqjTzZ1s0L7UQ7Zsp97mkAOyIwJFWqbyVBaQUwhk3QDy7oK3KtR3qqaLyhWC87LDApcc2M6Cl+IRwK3m1g6LsNvS3rvcI8Y6+rDuwRWRBBOPYwNjmLDb3Nq+ZiW38+Ml3XPTut1J9AxaRSM28bj15zA59ts2IiVHpPaxSVIyaRuQ4D9EAZMlFb/TtkItO5qmPHlRlXntT8YVsLgSvF0JFpZp7j+ZKXmsPJ0tO3Ri9Xt/gk5kd2c2EKTmDHFBCAXNU7MwJ7dmLiGYgo1uCAlR3r07U9NaID0XzC3gpLlZClXU6qrqoOpGqLoeelgP5hSozmTbBkaT/7I9OV7Jhy7pa54jDa+QxibDizfou6/ox/bFz12LLUL0vdDQ2Aw/anCrNbtpJ22skc7VLhHeP4T3DRGDEmJoghCP4yKJdVRKDE/gveKVzn5/AtgO2kkb9imV9CBfzj87dTzjL/fP+fc4qS4Xq4seqK+XyPnpvw4cW/nWsw8wf5CCEQ+coDWHuLUwpdN7YEN8q4U9eiN3GPLQewNzqf4pBefUF/JmrhaDl4p0lXWzZU+1pTVabi6vVWfmK/gZRK94d+fkGxgzhjxrWnj5Fm3+gL7+ZPrSZWrtMLd1xhdtnQvNLdwtpYG4yGgkEkuM//cJGDvECQGIAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;design&quot;
        title=&quot;design&quot;
        src=&quot;/static/f0506980625ea2c7b7c09585c7f1d190/f058b/design.png&quot;
        srcset=&quot;/static/f0506980625ea2c7b7c09585c7f1d190/c26ae/design.png 158w,
/static/f0506980625ea2c7b7c09585c7f1d190/6bdcf/design.png 315w,
/static/f0506980625ea2c7b7c09585c7f1d190/f058b/design.png 630w,
/static/f0506980625ea2c7b7c09585c7f1d190/3a737/design.png 897w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;
&lt;a name=&quot;Oq4NX&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt; S  ：做什么事都要分开，小（简）即是美；&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;一个程序只做一件事；&lt;/li&gt;
&lt;li&gt;如果功能过于复杂就要拆分开；
&lt;a name=&quot;4rVcp&quot;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt; O ：open and close ，对扩展开放，对修改封闭 !important；&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;增加需求时，扩展新代码，而不是修改原代码；&lt;/li&gt;
&lt;li&gt;渐进增强；
&lt;a name=&quot;F1awa&quot;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt; L ：父类可以出现的地方，子类也能出现；&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;子类能够覆盖父类；&lt;/li&gt;
&lt;li&gt;父类能出现的地方，子类就能出现；
&lt;a name=&quot;vOlHL&quot;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt; I ： 针对接口，接口独立唯一&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;保持接口的单一独立，避免出现“胖接口”；&lt;/li&gt;
&lt;li&gt;类似于单一职责原则，但针对于接口，更具体；
&lt;a name=&quot;sFzmt&quot;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt; D ：面向抽象编程，依赖于接口，而不是依赖于具体的实现；&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;使用方只关注接口，而不关注具体类的实现；&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item></channel></rss>