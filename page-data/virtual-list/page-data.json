{"componentChunkName":"component---theme-src-templates-post-tsx","path":"/virtual-list","result":{"data":{"post":{"id":"f7f8b5ed-fbea-5f7f-b2dd-9ad63f619ef7","headings":[{"depth":2},{"depth":3},{"depth":3},{"depth":2},{"depth":3},{"depth":2}],"frontmatter":{"title":"在React项目中，如何优雅的优化长列表","path":"/virtual-list","tags":["React"],"excerpt":"react的长列表的优化方案-react-virtualized","created":"2021-02-20 21:45","createdPretty":"20 February, 2021","updated":"2021-04-11T00:00:00.000Z","updatedPretty":"11 April, 2021","featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVQozwEZA+b8AE1ST3N9daWvpq+3sLzCvtbZ1sjMyLm+ur/Ev8/SztbX1MXJxauyrqOsqba9u7e+u7a8upylonF6dkdMSwBzenWLlIyyubK3vLa6v7vFysa1u7arsa2xtrLa3Nnp6ujR1NG2vLeqsa3M0M2+xMGVoJyUn5uVoJ1gaWYAwMa/xcrEys7Jx8rF0dPQ2t3a0NPQ3N7b4uThiIWBiISA4eLf0tXSyc7Jub66uL68lJ6amaOfprCugo2MAMrPyd/i3uPl4dXX09DTzubn5uzs6+3u7NfX1FVSSkxIP7m6tNPV0MzOyra7uK21s6mxrqatq5+pp3J8ewDBxsDV19Pa3Nnc3tnb3dng4d7n5+Tu7+3T09Bub2ZydGqztbC+w76prqqqsa6Sm5iRnJqYo6OMl5htd3cAsrexvsK9xsjF0dPQ3+De3+De1NfU4ePg5ebjhod+gYJ619jUzdDNoqqmnKakq7a3rrq8j5ydbHp7eoiIAJyjm6itqK6zr7vAvdTW1OHi39LU0c3QzLq8t4KCen5/d7W4s9ba17e9u7S+vq25u7K9v6SsrJihn5iinwB9g32oraXFyMHZ3NfQ1M/KzsjJzcfDxsKlqKGGhn6DhHx6fXbAwr/m6efU2NbS1tXg4+Hh4+DZ29bM0MgARElJVl1beoF8i4+Ki42Hf4F6mp6XqKymsrewm5yUnZ6Yj4+FqqykrK6ns7ezwMO+nJ2Wf4B5l5uSeoF6AEtRTFRcVjM1LSsrJDU0KTo3LDY1LlZXTnt4bXh1aoJ8a2FdUElHPjgxI1BJO1dPQUM6Kz82KEtDNzo2LQAoKSQtLihBPzM6OTAyMy09OS48OzA3Ni1jV0IzMCc0MCc2MykdGxYsKyYxLSVBOS1PRDdFPTErKCEiIBwAJCQgIyQfKSkjMzApTEQ3R0E1WVA+YFZDW1JCYlVBb19Igm1PgGxOfGhMYFM/RT4xPDcsOzguKCgkGxwbACcoIjg2K0tGNl1SP25dRXxpT4FvVHlpT3BiSm1gSW9hSHJgRnxmSIpyUI92U4JsTG5dQ1xRPT05LicnIdMWtzE9/lFiAAAAAElFTkSuQmCC","aspectRatio":1.5037593984962405,"src":"/static/f9f9b2a1795030300fd5b848021e67e9/90823/land.png","srcSet":"/static/f9f9b2a1795030300fd5b848021e67e9/dc47e/land.png 200w,\n/static/f9f9b2a1795030300fd5b848021e67e9/9f2d5/land.png 400w,\n/static/f9f9b2a1795030300fd5b848021e67e9/90823/land.png 800w,\n/static/f9f9b2a1795030300fd5b848021e67e9/77647/land.png 1200w,\n/static/f9f9b2a1795030300fd5b848021e67e9/f8d4f/land.png 1600w,\n/static/f9f9b2a1795030300fd5b848021e67e9/4ce6a/land.png 1920w","sizes":"(max-width: 800px) 100vw, 800px"}}}},"html":"<h2 id=\"一、虚拟列表优化长列表的原理\" style=\"position:relative;\"><a href=\"#%E4%B8%80%E3%80%81%E8%99%9A%E6%8B%9F%E5%88%97%E8%A1%A8%E4%BC%98%E5%8C%96%E9%95%BF%E5%88%97%E8%A1%A8%E7%9A%84%E5%8E%9F%E7%90%86\" aria-label=\"一、虚拟列表优化长列表的原理 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>一、虚拟列表优化长列表的原理</h2>\n<h3 id=\"优化长列表的原理很简单，基本原理可以一句话概括\" style=\"position:relative;\"><a href=\"#%E4%BC%98%E5%8C%96%E9%95%BF%E5%88%97%E8%A1%A8%E7%9A%84%E5%8E%9F%E7%90%86%E5%BE%88%E7%AE%80%E5%8D%95%EF%BC%8C%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%8F%AF%E4%BB%A5%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%A6%82%E6%8B%AC\" aria-label=\"优化长列表的原理很简单，基本原理可以一句话概括 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>优化长列表的原理很简单，基本原理可以一句话概括</h3>\n<blockquote>\n<p>用数组保存所有列表元素的位置，只渲染可视区内的列表元素，当可视区滚动时，根据滚动的 offset 大小以及所有列表元素的位置，计算在可视区应该渲染哪些元素。</p>\n</blockquote>\n<h3 id=\"具体实现步骤如下所示\" style=\"position:relative;\"><a href=\"#%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4%E5%A6%82%E4%B8%8B%E6%89%80%E7%A4%BA\" aria-label=\"具体实现步骤如下所示 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>具体实现步骤如下所示</h3>\n<ol>\n<li>首先确定长列表所在父元素的大小，父元素的大小决定了可视区的宽和高</li>\n<li>确定长列表每一个列表元素的宽和高，同时初始的条件下计算好长列表每一个元素相对于父元素的位置，并用一个数组来保存所有列表元素的位置信息</li>\n<li>首次渲染时，只展示相对于父元素可视区内的子列表元素，在滚动时，根据父元素的滚动的 offset 重新计算应该在可视区内的子列表元素。这样保证了无论如何滚动，真实渲染出的 dom 节点只有可视区内的列表元素。</li>\n<li>假设可视区内能展示 5 个子列表元素，及时长列表总共有 1000 个元素，但是每时每刻，真实渲染出来的 dom 节点只有 5 个。</li>\n<li>补充说明，这种情况下，父元素一般使用 position：relative，子元素的定位一般使用：position：absolute 或 sticky</li>\n</ol>\n<p><a name=\"PXTg1\"></a></p>\n<h2 id=\"二、通过-react-virtualized-来优化长列表\" style=\"position:relative;\"><a href=\"#%E4%BA%8C%E3%80%81%E9%80%9A%E8%BF%87-react-virtualized-%E6%9D%A5%E4%BC%98%E5%8C%96%E9%95%BF%E5%88%97%E8%A1%A8\" aria-label=\"二、通过 react virtualized 来优化长列表 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>二、通过 react-virtualized 来优化长列表</h2>\n<h3 id=\"react-virtualized-的基础组件包含：\" style=\"position:relative;\"><a href=\"#react-virtualized-%E7%9A%84%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6%E5%8C%85%E5%90%AB%EF%BC%9A\" aria-label=\"react virtualized 的基础组件包含： permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>react-virtualized 的基础组件包含：</h3>\n<ul>\n<li>Grid：用于优化构建任意网状的结构，传入一个二维的数组，渲染出类似棋盘的结构。</li>\n<li>List：List 是基于 Grid 来实现的，但是是一个维的列表，而不是网状。</li>\n<li>Table：Table 也是基于 Grid 来实现，表格具有固定的头部，并且可以在垂直方向上滚动</li>\n<li>Masonry：同样可以在水平方向，也可以在垂直方向滚动，不同于 Grid 的是可以自定义每个元素的大小，或者子元素的大小也可以是动态变化的</li>\n<li>Collection：类似于瀑布流的形式，同样可以水平和垂直方向滚动。</li>\n</ul>\n<p><br />值得注意的是这些基础组件都是继承于 React 中的 PureComponent，因此当 state 变化的时候，只会做一个浅比较来确定重新渲染与否 。<br />\n<br />除了这几个基础组件外，react-virtualized 还提供了几个高阶组件，比如 ArrowKeyStepper 、AutoSizer、CellMeasurer、InfiniteLoader 等，本文具体介绍常用的 AutoSizer、CellMeasurer 和 InfiniteLoader。<br /></p>\n<ul>\n<li>AutoSizer：使用于一个子元素的情况，通过 AutoSizer 包含的子元素会根据父元素 Resize 的变化，自动调节该子元素的可视区的宽度和高度，同时调节的还有该子元素可视区真实渲染的 dom 元素的数目。(子元素会随父元素的长、宽自适应)</li>\n<li>CellMeasurer：这个高阶组件可以动态的改变子元素的高度，适用于提前不知道长列表中每一个子元素高度的情况。（会损耗性能，不建议使用）</li>\n<li>InfiniteLoader：这个高阶组件用于 Table 或者 List 的无限滚动，适用于滚动时异步请求等情况。（滚动加载）</li>\n</ul>\n<p><br />作者：yuxiaoliang<br />链接：<a href=\"https://juejin.cn/post/6844903729460674567\">https://juejin.cn/post/6844903729460674567</a><br />来源：掘金<br />著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。<br />\n<br /></p>\n<p><a name=\"t7LD9\"></a></p>\n<h2 id=\"三、vlist-的实际使用\" style=\"position:relative;\"><a href=\"#%E4%B8%89%E3%80%81vlist-%E7%9A%84%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8\" aria-label=\"三、vlist 的实际使用 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>三、Vlist 的实际使用</h2>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">List</span></span> <span class=\"token attr-name\">loading</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>loading<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">bordered</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token punctuation\">{</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n  // antd的List组件\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> height<span class=\"token operator\">:</span> <span class=\"token number\">420</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token punctuation\">{</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    // vlist父元素的高度\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">AutoSizer</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      // 可根据父元素的高度动态计算出列表项的高度\n      </span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> width<span class=\"token punctuation\">,</span> height <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>VList\n          width<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>width<span class=\"token punctuation\">}</span> <span class=\"token comment\">// 列表的宽度</span>\n          height<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>height<span class=\"token punctuation\">}</span> <span class=\"token comment\">// 列表的高度</span>\n          rowCount<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>pocList<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">}</span> <span class=\"token comment\">// 列表项数</span>\n          overscanRowCount<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">7</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// 不在视窗范围上下现实的列表项数</span>\n          rowHeight<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">60</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// 列表项的高</span>\n          rowRenderer<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderItem<span class=\"token punctuation\">}</span> <span class=\"token comment\">// 列表项渲染方式</span>\n          noRowsRenderer<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n            <span class=\"token comment\">// 空数据的渲染方式</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Empty</span></span>\n              <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n                position<span class=\"token operator\">:</span> <span class=\"token string\">\"absolute\"</span><span class=\"token punctuation\">,</span>\n                top<span class=\"token operator\">:</span> <span class=\"token string\">\"50%\"</span><span class=\"token punctuation\">,</span>\n                left<span class=\"token operator\">:</span> <span class=\"token string\">\"50%\"</span><span class=\"token punctuation\">,</span>\n                transform<span class=\"token operator\">:</span> <span class=\"token string\">\"translate(-60%,-50%)\"</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n            <span class=\"token punctuation\">/></span></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">AutoSizer</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">List</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// key：数组行中的唯一值</span>\n<span class=\"token comment\">// style: vlist的列表项的定位样式和默认样式</span>\n<span class=\"token comment\">// parent: 参考父级Grid元素（使用CellMeasurer组件要注意：该组件会不断估算每个</span>\n<span class=\"token comment\">// 列表项的最佳高度，所以会带来一定的性能损耗，个人建议不要使用该组件，可以像我一样将</span>\n<span class=\"token comment\">// 列表项的高度rowHeight写死）</span>\n<span class=\"token comment\">// index: 被渲染数据的index索引</span>\n<span class=\"token function-variable function\">renderItem</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> index<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">,</span> style<span class=\"token operator\">:</span> styles <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> pocList <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state\n  <span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> pocList<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">||</span> <span class=\"token string\">\"\"</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">List.Item</span></span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Tooltip</span></span> <span class=\"token attr-name\">title</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Checkbox</span></span> <span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>pocList<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>poc_id<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token punctuation\">{</span>React<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span>\n            <span class=\"token string\">\"span\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n            <span class=\"token operator\">...</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">highLightValue</span><span class=\"token punctuation\">(</span><span class=\"token function\">ellipsis</span><span class=\"token punctuation\">(</span>pocList<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> <span class=\"token number\">46</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Checkbox</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Tooltip</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">List.Item</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><br />其他优秀的社区库：</p>\n<ol>\n<li><a href=\"https://ali-react-table.js.org/docs/\">阿里的 ant-table 的丰富 api 虚拟表格</a></li>\n<li><a href=\"https://github.com/ctq123/ant-virtual-table\">兼容性比较好的虚拟表格</a></li>\n</ol>"},"primaryTag":{"name":"React","color":"#5e8cb4"}},"pageContext":{"postId":"f7f8b5ed-fbea-5f7f-b2dd-9ad63f619ef7","primaryTag":"React"}},"staticQueryHashes":["1116962356","2275848304","3097946992","3138592700","3462520645"]}