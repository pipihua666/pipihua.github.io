{"componentChunkName":"component---theme-src-templates-post-tsx","path":"/throttle","result":{"data":{"post":{"id":"74c3d97c-2b63-5c8e-95d0-bc52e2febdda","headings":[{"depth":2},{"depth":2},{"depth":2},{"depth":2},{"depth":2}],"frontmatter":{"title":"深入浅出防抖和节流","path":"/throttle","tags":["JavaScript"],"excerpt":"深入浅出防抖和节流，原理及其实现","created":"2021-02-20 21:45","createdPretty":"20 February, 2021","updated":"2021-04-11T00:00:00.000Z","updatedPretty":"11 April, 2021","featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVQozwEZA+b8AHdrPYuDYsHHz8/b8c/a8cvZ8cvY8s3a8svX7cjZ9cPT7cHS8L7P6rzM5rrL57bK56/G5qfA46C84Zi33wDIkxirfxm2lVLYxafy6N3nzZ7RrmbNrm/TqlfVuILFspDRvJXx6uf29//y8vjw8Pfu7/br7PXl6PHg5PAAoHkgtIkpo3wqvY0qn3kuiGUUkmoOpHcbonYZgl0LeloUfFwSpYVG18Sp+fT0+PX3+fb4+Pb5+vn++Pb6AMCOHbuLGbCCHaV6HqmAI513Jq6AIIpnHndcIHlbFW9UGFRDG2FJFH9fG8Gqhvr5+/v6//f09urj3uro7ACkdwuhdRPAihfcnRO3hRqtgByjdhJqTRBoThzHp3rFoGB0Vg6HZyVrUx+RdDvDsZXGtJm4mV61izjAn2IAgWUtkWoTbVAPj2gQgmEYdlsYn3sryqt32b2cv6CNqo1wnHIdnHIcaVEglW8il3AgdFokgF4clG4jnngsAGtaSn1jL31jLLqLKLKBFbeDDta2iebPx9S3obCPeLeVZqV8IoFgIINkIYJkJ2pSJFNDImVOIn5fIHZZHwBdUTVjVzpfUzmWdjiVcy6ediXCn3SWe2CWeVt3X0mSc0aLaix2XCluViWTcS13XzRMPCZfSh1aRh1QPhkAgHJEd2c9YVYyWE4tknhLjHdKh3FLaVY2VEMqRTUge2hWh3RpcmFVcGJWb1xEfmpSeGFHf2ZBZ1IvcVoqAGNeMW5jOIZ4RIF3PYV2QoBvP4t4SH1tQXZkPltOMExEKmVZPn5sVG9cSWBONoBqSIRsSn9nR2hVPW1ZQAA4Pxs9RR9cWytYWChYWChdWCteWC1fVi92aDl0ZDtdUi96ZzyIdUWLeESMe0eIeEN8aUBoWDlyYEBxXkMANkUYM0EXLzsVREkbc3Avb2ktWVglVlYkRkchMTQYb2M4q49Zk39KjoJDjoREhXxBgnlBiX9HfnFEfG1FAElTIThDGT1IGVldI2hnJoB3NXdyMnZxMFpdJFNWJJmCQ7SUUZ6JSIx+PoV+Oo6GQY6FQoqBQ4Z9Q4B3QYwzbEDSMTK5AAAAAElFTkSuQmCC","aspectRatio":1.5037593984962405,"src":"/static/d99d21ec126a5af8d06217620c9096c0/90823/sheep.png","srcSet":"/static/d99d21ec126a5af8d06217620c9096c0/dc47e/sheep.png 200w,\n/static/d99d21ec126a5af8d06217620c9096c0/9f2d5/sheep.png 400w,\n/static/d99d21ec126a5af8d06217620c9096c0/90823/sheep.png 800w,\n/static/d99d21ec126a5af8d06217620c9096c0/77647/sheep.png 1200w,\n/static/d99d21ec126a5af8d06217620c9096c0/f8d4f/sheep.png 1600w,\n/static/d99d21ec126a5af8d06217620c9096c0/4ce6a/sheep.png 1920w","sizes":"(max-width: 800px) 100vw, 800px"}}}},"html":"<h2 id=\"前言\" style=\"position:relative;\"><a href=\"#%E5%89%8D%E8%A8%80\" aria-label=\"前言 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>前言</h2>\n<blockquote>\n<p>连续尝试进行过多的 DOM 相关操作时，这很可能会导致浏览器挂起，有时候甚至崩溃<br>\n此时，就需要节流和防抖来使某些代码不可以在没有间断的情况下连续重复的执行。</p>\n</blockquote>\n<h2 id=\"节流\" style=\"position:relative;\"><a href=\"#%E8%8A%82%E6%B5%81\" aria-label=\"节流 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>节流</h2>\n<blockquote>\n<p><strong>节流</strong>：让事务在一段时间间隔内周期性的执行（举个栗子：就好像不让水龙头一直不停的流，而是把水龙头揪紧一丢丢，让它一滴一滴周期性的流下去，以此达到节流的效果）\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 783px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f3e802c8fe48caf53a3ad297851151c8/e51a6/throttle.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABBElEQVQoz12RaQqDMBCFvf+l1BP4Q6lYEMTWfV9wj9O8oZHagYfxy6wZ7TxPgmBCiEtgQhy0LAvN80zrun2ZYDZNE0v5Kmn0tW3bKE1Ter1CqpuG2bHvF6uqWrnKc0VR9KY4junfNFTP85z6vqe6rqkoCirLksIw5MC2bVlgvu+zL86NLJokCfshMc7HcZCG9l3XlRUjvsiyjLtyHIe/EBgEhiIqoed5FAQBjeNIXdfx+BoudF2/tQ1mGMaNoft/ZlkWJ72NjOymaXInV0IZbNs2P7pa2DAM5D4e1MuvYkjmPZ88KuxaCsC6rldCPAMKLT8MSwPDm8tIjuFty/9dLg/jgn0AO2MYJklAzCUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"throttle\"\n        title=\"throttle\"\n        src=\"/static/f3e802c8fe48caf53a3ad297851151c8/e51a6/throttle.png\"\n        srcset=\"/static/f3e802c8fe48caf53a3ad297851151c8/5a46d/throttle.png 300w,\n/static/f3e802c8fe48caf53a3ad297851151c8/0a47e/throttle.png 600w,\n/static/f3e802c8fe48caf53a3ad297851151c8/e51a6/throttle.png 783w\"\n        sizes=\"(max-width: 783px) 100vw, 783px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">throttle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">func<span class=\"token punctuation\">,</span>wait</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> timeoutID<span class=\"token punctuation\">;</span>                                <span class=\"token comment\">//初始化定时器</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>                            <span class=\"token comment\">//调用throttle则返回此闭包</span>\n        <span class=\"token keyword\">let</span> args<span class=\"token operator\">=</span>arguments<span class=\"token punctuation\">;</span>                       <span class=\"token comment\">//保存传给闭包的参数(比如：event对象)</span>\n        <span class=\"token keyword\">let</span> context<span class=\"token operator\">=</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>                         <span class=\"token comment\">//保存闭包的执行环境</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>timeoutID<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>                             <span class=\"token comment\">//如果定时器不存在</span>\n            timeoutID<span class=\"token operator\">=</span><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>        <span class=\"token comment\">//则创建一个新的定时器</span>\n                <span class=\"token function\">func</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">,</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>            <span class=\"token comment\">//绑定func的执行环境为调用闭包的this环境，传入func的参数为调用闭包的参数</span>\n                timeoutID<span class=\"token operator\">=</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>                     <span class=\"token comment\">//执行完func重置timeout</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>wait<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                             <span class=\"token comment\">//在wait时间后将匿名函数插入执行队列</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token number\">1.</span>函数的目的是：定义一个定时器，如果定时器不存在，则创建一个新的定时器，并执行函数func；\n<span class=\"token number\">2.</span>函数返回闭包的原因：为了保持timeoutID变量一直在内存中<span class=\"token punctuation\">,</span>调用throttle函数返回的都是<span class=\"token operator\">**</span>执行过后<span class=\"token operator\">**</span>的闭包函数来访问timeoutID<span class=\"token punctuation\">,</span>通过timeoutID来判断调用throttle时是否存在定时器<span class=\"token punctuation\">;</span>\n<span class=\"token number\">3.</span>注意：apply和call不仅会绑定函数的执行环境和传入参数，还会立即执行函数</code></pre></div>\n<h2 id=\"防抖\" style=\"position:relative;\"><a href=\"#%E9%98%B2%E6%8A%96\" aria-label=\"防抖 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>防抖</h2>\n<blockquote>\n<p><strong>持续防抖</strong>：如果持续触发事务，则不执行，在停止持续触发事务一段时间后，再执行事务（举个栗子：坐电梯时，如果在电梯内持续有人按电梯的楼层号，那么电梯是不会启运行的，当没人按楼层号时，电梯会在一小段时间间隔之后才会运行.以此达到持续防抖的效果）\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 545px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4cda95ff862e24da35e4bc7a2c4670cf/3ddad/allthetime.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSElEQVQoz31S24rCMBDt/3+GSBEFn/yC9YKIl1VLLwou9UWxVVtTtNjas5lZUmrKOnDIZJKcmTkZA9KKoqjh9XrV9nmel6CYels1QwXSNMX3YoHJZIKFXKfTKay1hd3Pjs+PxwPWqxUc18FoNEIQhBwnckqmYFDw+Xzy5j/7dKaboaqjrJvNBq7rvoFiw+EQy+USnufBcRwMBgPYts2+DkMxt9ttWJYFIQTO5zMulwuu1yv74/EYYRgiiiLZ+pGJyac7OpgwjmP0ej1st9taC3TWbDaZnCwIAnS73c8t51n2RqgEVnI0Gg0kScJ73/dhmmb50zqY8CarmMlfnc3nuN8ff+NAxPIREXQ6Hfj7PcdPpxNarVZZUXV8SkI9S/WyEDfWlUBGmvb7XzhILaM4qs2ioQ9mNYFu1GaaPlh8qlQkohz4TMpG/i+JQvkj4FsVqQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"allthetime\"\n        title=\"allthetime\"\n        src=\"/static/4cda95ff862e24da35e4bc7a2c4670cf/3ddad/allthetime.png\"\n        srcset=\"/static/4cda95ff862e24da35e4bc7a2c4670cf/5a46d/allthetime.png 300w,\n/static/4cda95ff862e24da35e4bc7a2c4670cf/3ddad/allthetime.png 545w\"\n        sizes=\"(max-width: 545px) 100vw, 545px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">debounce</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">func<span class=\"token punctuation\">,</span> wait</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> timeoutID\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> context <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span>\n    <span class=\"token keyword\">let</span> args <span class=\"token operator\">=</span> arguments\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>timeoutID <span class=\"token operator\">!==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token function\">clearTimeout</span><span class=\"token punctuation\">(</span>timeoutID<span class=\"token punctuation\">)</span> <span class=\"token comment\">//如果存在定时器，则将清除定时器</span>\n    timeoutID <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">//再次创建新的定时器</span>\n      <span class=\"token function\">func</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> wait<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"立即防抖\" style=\"position:relative;\"><a href=\"#%E7%AB%8B%E5%8D%B3%E9%98%B2%E6%8A%96\" aria-label=\"立即防抖 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>立即防抖</h2>\n<blockquote>\n<p><strong>立即防抖</strong>：让事务开始触发时立即执行，然后持续触发事务时不执行，当停止触发事务一段时间后再将事务插入任务队列。（再举个栗子：一直按住弹簧，它不会弹起来，如果突然松手之后，它就会立刻弹起，如果在弹起的过程中又持续按住了弹簧，又突然松手，它就会在一段微小的时间间隔之内再次弹起。以此达到立即防抖的效果。）\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 730px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/66cf8900150119788e4a359330310bb9/e9beb/rightnow.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABCElEQVQoz3VSyaqFMAz1/79Id36ALkTsQsER6zwhvD5EzW1yqahXA4c0AzkZqu37DgpP8hQ72/eYdnZWVQmMeeD7PgRBAPM8H4l1XUMYhjKnuhDdod0Ztm2DTfpQnwULcp6THsYB3oQ6ROaiKAhlWR5Am3MOnufRO89zshljkGXZEVexpmm+BTEBHcMwQNd1F4zjCI7jQBzHME0TdH0HrusSYd/3R17btpRLBQ3DoGJvous6EZ7tZVneR7Ysi9jvl1R7tG2bxlI7Nk2TGljX9fcoyIQXjaIIUrmXJE0hlVCnQiLcF+1ZjomCu0qS5GjiUhAZhRAg/sVXiz/ST3/s6Q/Sr5DAblF/AElktFB1Q5NcAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rightnow\"\n        title=\"rightnow\"\n        src=\"/static/66cf8900150119788e4a359330310bb9/e9beb/rightnow.png\"\n        srcset=\"/static/66cf8900150119788e4a359330310bb9/5a46d/rightnow.png 300w,\n/static/66cf8900150119788e4a359330310bb9/0a47e/rightnow.png 600w,\n/static/66cf8900150119788e4a359330310bb9/e9beb/rightnow.png 730w\"\n        sizes=\"(max-width: 730px) 100vw, 730px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">debounce</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">func<span class=\"token punctuation\">,</span> wait</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> timeoutID\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> context <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span>\n    <span class=\"token keyword\">let</span> args <span class=\"token operator\">=</span> arguments\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>timeoutID <span class=\"token operator\">!==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token function\">clearTimeout</span><span class=\"token punctuation\">(</span>timeoutID<span class=\"token punctuation\">)</span> <span class=\"token comment\">//如果存在定时器，则清除定时器</span>\n\n    timeoutID <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      timeoutID <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span> <span class=\"token comment\">//定时器在wait时间后清零</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> wait<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>timeoutID <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">//如果不存在定时器(timeout=null)，则执行函数</span>\n      <span class=\"token function\">func</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>因此个人认为，防抖和节流的共同作用都是让浏览器节约成本的操作，区别是实现和节约成本的方式不同。</p>\n</blockquote>\n<h2 id=\"参考\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"参考 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h2>\n<ul>\n<li><a href=\"http://blog.poetries.top/2018/12/21/js-debounce/#at?hmsr=toutiao.io&#x26;utm_medium=toutiao.io&#x26;utm_source=toutiao.io\">一个写的很好的博客</a></li>\n</ul>"},"primaryTag":{"name":"JavaScript","color":"#1e81b0"}},"pageContext":{"postId":"74c3d97c-2b63-5c8e-95d0-bc52e2febdda","primaryTag":"JavaScript"}},"staticQueryHashes":["2275848304","3097946992","3138592700","3462520645"]}