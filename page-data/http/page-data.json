{"componentChunkName":"component---theme-src-templates-post-tsx","path":"/http","result":{"data":{"post":{"id":"05a120c4-1d27-5a4f-a9b9-5cab9a070880","headings":[{"depth":2},{"depth":2},{"depth":2},{"depth":2},{"depth":2},{"depth":2},{"depth":2},{"depth":2},{"depth":2}],"frontmatter":{"title":"深入浅出HTTP","path":"/http","tags":["Network"],"excerpt":"http 重要知识点.","created":"2021-02-20 21:45","createdPretty":"20 February, 2021","updated":"2021-04-11T00:00:00.000Z","updatedPretty":"11 April, 2021","featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEEAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAH/2gAMAwEAAhADEAAAAdXwaDIkFn//xAAZEAEBAQEBAQAAAAAAAAAAAAABAhIDADH/2gAIAQEAAQUC2YonHShppy9Hz9//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAQIf/aAAgBAgEBPwGn/8QAGxAAAgEFAAAAAAAAAAAAAAAAAAEQESExYZH/2gAIAQEABj8Cul2MFBLUf//EABkQAQADAQEAAAAAAAAAAAAAAAEAESExQf/aAAgBAQABPyGl8hsCblNIXOI4exW2XHnk2jj/2gAMAwEAAgADAAAAELTv/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEh/9oACAEDAQE/EMR//8QAFREBAQAAAAAAAAAAAAAAAAAAERD/2gAIAQIBAT8QFP/EABsQAQACAwEBAAAAAAAAAAAAAAEAESExUUGh/9oACAEBAAE/EEIgEaM6+wnGPGlFMOOkHJWNEuR7L4YlONVFUz//2Q==","aspectRatio":1.5037593984962405,"src":"/static/a101ba1b43ab0f98316295a93ab9c5fb/f2cbb/fog.jpg","srcSet":"/static/a101ba1b43ab0f98316295a93ab9c5fb/8850c/fog.jpg 200w,\n/static/a101ba1b43ab0f98316295a93ab9c5fb/da113/fog.jpg 400w,\n/static/a101ba1b43ab0f98316295a93ab9c5fb/f2cbb/fog.jpg 800w,\n/static/a101ba1b43ab0f98316295a93ab9c5fb/c26c2/fog.jpg 1200w,\n/static/a101ba1b43ab0f98316295a93ab9c5fb/9352a/fog.jpg 1600w,\n/static/a101ba1b43ab0f98316295a93ab9c5fb/4fb49/fog.jpg 1920w","sizes":"(max-width: 800px) 100vw, 800px"}}}},"html":"<h2 id=\"首先让我们来了解一下-http-的请求报文和响应报文\" style=\"position:relative;\"><a href=\"#%E9%A6%96%E5%85%88%E8%AE%A9%E6%88%91%E4%BB%AC%E6%9D%A5%E4%BA%86%E8%A7%A3%E4%B8%80%E4%B8%8B-http-%E7%9A%84%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87%E5%92%8C%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87\" aria-label=\"首先让我们来了解一下 http 的请求报文和响应报文 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>首先让我们来了解一下 http 的请求报文和响应报文</h2>\n<p><br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/da49442a0e71569330996cf2fcde50c1/a7a19/http.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.999999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABAklEQVQY001PaY+DIBD1//+41iuKaxWwtYqAeIDnJu7b7pdNJpPhzbwDzy1u3dZlXcZp1L2a7bTtG5A/EIVhtjNWUknnrPsgwM1gvOM8dK+VVo8i94M740xIgcIp5HrTq141bRPHcckoaJAexgEdfG+apzAKSUYSkuBIdKKT3bt5+77/ql/Vk9/utyRN8kcOXV4xJOUVx8F+7B4EKKN4FGUhVQer8/uEQ5oSJIQJVq1opeyGwbjVXdeFD7RC/JIRm1cV45DllLGSUvSvPKeMf5gNpGGVEgJ1rXVvTEoy4CB61lkkH6cJ/f8wWzuMpn7XQRhGcRwEQRhFCfJkGf6vlIL0D9pJSG45vahuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"http\"\n        title=\"http\"\n        src=\"/static/da49442a0e71569330996cf2fcde50c1/c1b63/http.png\"\n        srcset=\"/static/da49442a0e71569330996cf2fcde50c1/5a46d/http.png 300w,\n/static/da49442a0e71569330996cf2fcde50c1/0a47e/http.png 600w,\n/static/da49442a0e71569330996cf2fcde50c1/c1b63/http.png 1200w,\n/static/da49442a0e71569330996cf2fcde50c1/a7a19/http.png 1323w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br /></p>\n<p><a name=\"c76a254f\"></a></p>\n<h2 id=\"再向您献上一张-http-请求的流程图\" style=\"position:relative;\"><a href=\"#%E5%86%8D%E5%90%91%E6%82%A8%E7%8C%AE%E4%B8%8A%E4%B8%80%E5%BC%A0-http-%E8%AF%B7%E6%B1%82%E7%9A%84%E6%B5%81%E7%A8%8B%E5%9B%BE\" aria-label=\"再向您献上一张 http 请求的流程图 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>再向您献上一张 http 请求的流程图</h2>\n<p><br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 748px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/226664588d9551f1dce70bbfeb894e83/f8915/httpRequest.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABBElEQVQY03VR2XKDMBDj/7+xnbZJmmDwAb69virDDE8po4H1SoLVMpVagNrqWxxs/Y+dpFIhhtYbcKpba+cR9cyYVPKUnoJLOcxCCutM710bbcwofPDLuu56LzXjzoWIKaLAW3pvZ6e2MezE5QakXJQ288pDTD5ExqX1IVHetNXOg4WGrYJKVbt5zgvIYWZc/b6WSFmo/ePrpl1wIf08XkpbF9P9yZ6Mg50XcXu8IpFQ2+f3TVs/zIlo5TxR6seFvBgbg+1a42isEUfmEbXhUXKhha/oozOBgPNaOFrDLIW2BhBSApRp7PLICWUk5Mjjy9caLzOWb60NMTrvjLUA5fz2L/4BgwvPrlvqCxAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"httpRequest\"\n        title=\"httpRequest\"\n        src=\"/static/226664588d9551f1dce70bbfeb894e83/f8915/httpRequest.png\"\n        srcset=\"/static/226664588d9551f1dce70bbfeb894e83/5a46d/httpRequest.png 300w,\n/static/226664588d9551f1dce70bbfeb894e83/0a47e/httpRequest.png 600w,\n/static/226664588d9551f1dce70bbfeb894e83/f8915/httpRequest.png 748w\"\n        sizes=\"(max-width: 748px) 100vw, 748px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br /></p>\n<p><a name=\"a8b0534a\"></a></p>\n<h2 id=\"redirect（资源重定向）的-http-响应头部\" style=\"position:relative;\"><a href=\"#redirect%EF%BC%88%E8%B5%84%E6%BA%90%E9%87%8D%E5%AE%9A%E5%90%91%EF%BC%89%E7%9A%84-http-%E5%93%8D%E5%BA%94%E5%A4%B4%E9%83%A8\" aria-label=\"redirect（资源重定向）的 http 响应头部 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Redirect（资源重定向）的 HTTP 响应头部</h2>\n<blockquote>\n<ul>\n<li>Location:''（后面接跳转的 URI 路径）</li>\n<li>通过 response.write(302,{ Location:'/new' })返回的 xhr.status>=300&#x26;&#x26;xhr.status&#x3C;400 才能进行重定向</li>\n</ul>\n</blockquote>\n<p><a name=\"94d0159f\"></a></p>\n<h2 id=\"cache-contorl-的含义和使用的-http-响应头部\" style=\"position:relative;\"><a href=\"#cache-contorl-%E7%9A%84%E5%90%AB%E4%B9%89%E5%92%8C%E4%BD%BF%E7%94%A8%E7%9A%84-http-%E5%93%8D%E5%BA%94%E5%A4%B4%E9%83%A8\" aria-label=\"cache contorl 的含义和使用的 http 响应头部 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cache-Contorl 的含义和使用的 HTTP 响应头部</h2>\n<blockquote>\n<ul>\n<li>可缓存性：<br />|<strong>public</strong>|http 经过的地方都能够进行缓存  |<br />|<strong>private</strong>|只有发起请求的浏览器才能够进行缓存|<br />|<strong>no-cache</strong>|本地可以缓存，但是需要在服务端验证过后才能使用|</li>\n<li>到期：<br />|<strong>max-age=<second></strong>| 浏览器缓存多长时间到期 |<br />|<strong>s-maxage=<second></strong>|代理服务器缓存的到期时间|<br />|  <strong>max-stale=<second></strong>| 在 max-age 到期之后，在 max-stale 期限之内还是可以取缓存 |</li>\n<li>重新验证：（使用较少）<br />|<strong>must-revalidate</strong>|   在 max-age 过期之后必须到原服务端发起请求来验证此缓存是否过期了，而不能直接使用本地的缓存|<br />|<strong>proxy-revalidate</strong>|使用在缓存服务器，在缓存过期之后到原服务端请求验证缓存是否过期了，而不能直接使用本地的缓存|</li>\n<li>其他：<br />|<strong>no-store</strong>|本地和代理服务器都不能缓存，永远只能到服务端拿取新的内容才能使用|<br />|<strong>no-transform</strong>|指定代理服务器不能修改服务端返回的内容|</li>\n</ul>\n</blockquote>\n<blockquote>\n<ul>\n<li>服务器缓存的验证更新机制：<br />| <strong>Last-Modified</strong> （上一次修改时间）| 在服务端返回 Last-Modified，浏览器在下一次请求的时候会带上<strong>If-Modified-Since</strong> 与服务器的 Last-Modified 对比，如果相等，那么资源没有被修改过，服务器则告诉浏览器直接使用缓存|<br />|<strong>Etag</strong>（数据签名：对静态资源进行 hash 计算的到唯一值的签名）|在服务器返回 Etag，浏览器在下一次请求的时候会带上<strong>If-None-Match</strong>与服务器的 Etag 进行对比，如果相等，那么资源没有被修改过，服务器告诉浏览器直接使用缓存|</li>\n</ul>\n</blockquote>\n<p><a name=\"5c13213b\"></a></p>\n<h2 id=\"cors-跨域请求的-http-响应头部\" style=\"position:relative;\"><a href=\"#cors-%E8%B7%A8%E5%9F%9F%E8%AF%B7%E6%B1%82%E7%9A%84-http-%E5%93%8D%E5%BA%94%E5%A4%B4%E9%83%A8\" aria-label=\"cors 跨域请求的 http 响应头部 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CORS 跨域请求的 HTTP 响应头部</h2>\n<p><br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 748px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/157a5c1636af09bd03e30e5838a11366/f8915/cors.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7ElEQVQoz5WR646EIAyFff9X1H8z3lEBQVDEmY+wO5lsZpNd0iic9rSnbXHGU69aSqm1DmeIV8QAV7OCZzvCkfEfViitRjFy5mXej/16XNnxeDsfmYlsN+u8U6ve3BZj/C3uM7kqS6lUVVbTNFEEwf8gG2v4LXL5K+27r6+eGQlkLn73rw5JysywnJ3UObvzlniaxZXIUsuu7/thABVCoB/fKIau6+q6xms2Y51lqMk3j03T3u53govzTFth1HTOSjAQ6sNPeZXkwpMtsEi+zntk5hUWKAGFnMWgvG0bijB8mDxfs4CJ8cw1QghP+LsK6h+JDWIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cors\"\n        title=\"cors\"\n        src=\"/static/157a5c1636af09bd03e30e5838a11366/f8915/cors.png\"\n        srcset=\"/static/157a5c1636af09bd03e30e5838a11366/5a46d/cors.png 300w,\n/static/157a5c1636af09bd03e30e5838a11366/0a47e/cors.png 600w,\n/static/157a5c1636af09bd03e30e5838a11366/f8915/cors.png 748w\"\n        sizes=\"(max-width: 748px) 100vw, 748px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br /></p>\n<blockquote>\n<ul>\n<li><strong>Access-Control-Allow-Origin</strong>:支持跨域的 URI</li>\n<li><strong>Access-Control-Allow-Headers</strong>:跨域请求支持的请求头（由于 cors 跨域对请求头和请求方法存在限制，所以需要服务端来进行处理才能使用相应的请求头和请求方法）</li>\n<li><strong>Access-Control-Allow-Methods</strong>:跨域请求支持的请求方法（eg:'PUT,DELETE,POST'）</li>\n<li><strong>Access-Control-Max-Age</strong>:1000   意思是在 1000s 内的以上跨域（包括跨域支持的头部和请求方法）都不用发送 cors 预请求来验证，可以直接发送正式请求</li>\n<li><strong>注意</strong>：如果在 cors 跨域时，服务端不设定允许的请求头或者请求方法返回，浏览器虽然可以接收返回的信息，但是为了安全考虑，是不会显示内容的。</li>\n<li><strong>注意</strong>：由于浏览器会为了安全着想，在发送除了 PUT,HEAD,POST 方法，和 Content-Type 为 text-plian,multipart/form-data,application/x-www-form-urlencoded 类型以外的 cors 限制发送的请求时，会先在发送正式请求之前发送一个预请求（method 方法为 OPTION）来获取服务端允许的请求域，请求方法，请求头等信息。<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 584px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/eb6dc096a0510b40f77cfc659d047aeb/e05eb/res.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0ElEQVQoz12S25KiQBBE/f/v2pjnEeXaIDTNTUBFBFFQ2IO4TuxoBVHQnZVZWbXKy9z1XNMyHeF0t26apuf4JMZpJD7JEp/TJVb90F+7q3CFihThB/4+35fHMk7iU3XKi3yfZ6EKkzTh1LKtc32myuP5eIEfQ9M23+tv3dDh52mZpvJlnMYyDEzbCKS8dl17bYlzXUP2w3zv77f7TdtoVIVWOM42MP6IryiMYNvnRd+fx2c7/fuN4/ifbErqxpbOAxnYjm1LR4/MNEmLsjhWp6JI0ky9YE+Qnypv8KW5INuwDG/nbbYbTdOiUFV1dTgeZChtIeI0adsGDtxpXgkQgKthGPq+3/k77mX7DKmIxypoyZMswTOqqFiF0Wyb8ITrCWiosuKMDD+jJIriuU/EK6VmjdOEt9eurZsLCTrfbb9mhuErZgsPQwYDGH4K+9KH53g6UhQvUFRfam4TA/9XMvfMC3isZkjCdZgWsr2daznW4j+66P/D+dttRmXZJszcY7bVuQKTZimBEGZJ4FDb4VWDhGXz3sx82upbtLFbPMtDCYzm8QwjWSw+snBLOfKl4Z8lYT03+oZuaR61a20NjFpSSVQsKzl3+5i7ZTqgeP0LFD3ReIVXndUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"res\"\n        title=\"res\"\n        src=\"/static/eb6dc096a0510b40f77cfc659d047aeb/e05eb/res.png\"\n        srcset=\"/static/eb6dc096a0510b40f77cfc659d047aeb/5a46d/res.png 300w,\n/static/eb6dc096a0510b40f77cfc659d047aeb/e05eb/res.png 584w\"\n        sizes=\"(max-width: 584px) 100vw, 584px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</blockquote>\n<p><a name=\"9e50c3f6\"></a></p>\n<h2 id=\"cookie-的-http-响应头部\" style=\"position:relative;\"><a href=\"#cookie-%E7%9A%84-http-%E5%93%8D%E5%BA%94%E5%A4%B4%E9%83%A8\" aria-label=\"cookie 的 http 响应头部 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cookie 的 HTTP 响应头部</h2>\n<blockquote>\n<ul>\n<li>服务端通过在响应头中设置<strong>set-Cookie</strong>，设置 Cookie</li>\n<li>键值对，可以通过'[]'设置多个 cookie</li>\n<li>浏览器的下一次请求的时候会带上</li>\n<li>同域才能发送 cookie</li>\n<li>cookie 的属性：<br />|<strong>max-age</strong>和<strong>expires</strong>| 设置过期时间 |<br />|<strong>Secure</strong>|只能通过 https 发送|<br />|  <strong>HttpOnly</strong>|无法通过 document.cookie 或者其他脚本程序访问，防止 xrs 攻击  |</li>\n</ul>\n</blockquote>\n<p><a name=\"2bb7644c\"></a></p>\n<h2 id=\"connection（tcp-连接）的-http-响应头部\" style=\"position:relative;\"><a href=\"#connection%EF%BC%88tcp-%E8%BF%9E%E6%8E%A5%EF%BC%89%E7%9A%84-http-%E5%93%8D%E5%BA%94%E5%A4%B4%E9%83%A8\" aria-label=\"connection（tcp 连接）的 http 响应头部 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Connection（TCP 连接）的 HTTP 响应头部</h2>\n<blockquote>\n<ul>\n<li><strong>HTTP1.1</strong>一般只有 6 个 TCP 的并发链接,其他的连接会阻塞</li>\n<li><strong>Connection:'close'</strong>   没有长连接，在每一次请求完毕之后关闭 TCP 连接，有新请求时创建一个新的 TCP 连接</li>\n<li><strong>Connection:'keep-alive'</strong>   有长连接，在六个 TCP 连接中如果有一个连接完成数据传输，则将那个 TCP 连接给下一个请求用</li>\n</ul>\n</blockquote>\n<p><a name=\"8c43a26b\"></a></p>\n<h2 id=\"csp（-content-security-policy）的-http-响应头部\" style=\"position:relative;\"><a href=\"#csp%EF%BC%88-content-security-policy%EF%BC%89%E7%9A%84-http-%E5%93%8D%E5%BA%94%E5%A4%B4%E9%83%A8\" aria-label=\"csp（ content security policy）的 http 响应头部 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CSP（ Content-Security-Policy:）的 HTTP 响应头部</h2>\n<blockquote>\n<p>作用：</p>\n<ol>\n<li>限制网页资源的获取（从哪里获取，请求发到什么地方）</li>\n<li>限制报告资源获取越权（当获取到不应该获取的资源时候，给网页一些报告）</li>\n</ol>\n</blockquote>\n<blockquote>\n<p>限制方式：</p>\n<ul>\n<li>defalut-src:(限制全局)<br />| http |   只能通过 http 进行加载|<br />|http https|只能通过 http 或者 https 进行加载|<br />| 'self' | 只能通过本域名的进行加载 |<br />|http.baidu.com|可以限定制定的网站进行加载|</li>\n<li>制定资源类型:<br />1.connet-src:请求发现的目标进行限制<br />2.img-src:图片可以从哪些网址加载<br />3.font-src:字体从哪里加载<br />4.script-src:脚本资源从哪里进行加载<br />..................网页可以从外部加载的都可以进行资源的限制</li>\n<li>.form-action   '\\self':对 form 表单提交的 action 进行限制</li>\n<li>report-uri  + 服务器的路径（可以向服务区提交加载错误的信息）</li>\n<li>Content-Security-Policy-Report-Only:（虽然检测到资源不想加载，但还是可以加载）<br />................</li>\n</ul>\n</blockquote>\n<p><a name=\"5a32a534\"></a></p>\n<h2 id=\"数据协商：客户端和服务端协商声明所需要的数据类型（以下是-http-请求头部）\" style=\"position:relative;\"><a href=\"#%E6%95%B0%E6%8D%AE%E5%8D%8F%E5%95%86%EF%BC%9A%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%92%8C%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%8D%8F%E5%95%86%E5%A3%B0%E6%98%8E%E6%89%80%E9%9C%80%E8%A6%81%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%88%E4%BB%A5%E4%B8%8B%E6%98%AF-http-%E8%AF%B7%E6%B1%82%E5%A4%B4%E9%83%A8%EF%BC%89\" aria-label=\"数据协商：客户端和服务端协商声明所需要的数据类型（以下是 http 请求头部） permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>数据协商：客户端和服务端协商声明所需要的数据类型（以下是 HTTP 请求头部）</h2>\n<blockquote>\n<ul>\n<li>Accept:浏览器能够处理的 MIME 类型</li>\n<li>Accept-Charset:浏览器能够显示的字符编码</li>\n<li>Accept-Encoding:浏览器能够处理的压缩编码</li>\n<li>Accept-Language:浏览器当前设置的语言</li>\n<li>Connection:浏览器与服务器之间连接的类型</li>\n<li>Cookie:当前页面设置的任何 cookie</li>\n<li>Host:发出请求页面所在的域</li>\n<li>Referer:发出请求页面的 URI</li>\n<li>User-Agent:浏览器的用户代理字符串</li>\n</ul>\n</blockquote>\n<p><br />延伸阅读：<br />CSP 扩展：<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CSP\">CSP 内容安全策略</a><br />HTTPS（图解 HTTPS，写的挺好的博客）：<a href=\"https://blog.csdn.net/forezp/article/details/89666603\">HTPPS</a><br />HTTP2：<a href=\"https://juejin.im/post/5b88a4f56fb9a01a0b31a67e\">HTTP2 网络质和量的提升</a></p>"},"primaryTag":{"name":"Network","color":"#f0db4f"}},"pageContext":{"postId":"05a120c4-1d27-5a4f-a9b9-5cab9a070880","primaryTag":"Network"}},"staticQueryHashes":["2275848304","3097946992","3138592700","3462520645"]}