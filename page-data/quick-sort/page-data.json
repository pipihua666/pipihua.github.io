{"componentChunkName":"component---theme-src-templates-post-tsx","path":"/quick-sort","result":{"data":{"post":{"id":"eec90204-4be3-5607-8ca2-30dc3fde7815","headings":[{"depth":2},{"depth":2},{"depth":2},{"depth":2}],"frontmatter":{"title":"快速排序的js实现","path":"/quick-sort","tags":["ALG"],"excerpt":"快速排序的js实现及其应用，再说说js的sort方法吧","created":"2021-06-16T00:00:00.000Z","createdPretty":"16 June, 2021","updated":"2021-06-16T00:00:00.000Z","updatedPretty":"16 June, 2021","featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAgADBP/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB5TgtFCT/xAAZEAADAAMAAAAAAAAAAAAAAAAAAQIQEhP/2gAIAQEAAQUC6UVdUNZ2P//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAIDAAAAAAAAAAAAAAAAAAAgIUGh/9oACAEBAAY/AqJxf//EABgQAQEBAQEAAAAAAAAAAAAAAAEAESFh/9oACAEBAAE/IT2wgcEdxDntqs6b21f/2gAMAwEAAgADAAAAELP/AP/EABYRAQEBAAAAAAAAAAAAAAAAAAEAMf/aAAgBAwEBPxAQ22//xAAXEQEBAQEAAAAAAAAAAAAAAAABACEx/9oACAECAQE/EEXkZf/EABoQAAIDAQEAAAAAAAAAAAAAAAERACExQYH/2gAIAQEAAT8QFR8FkWGx8QvZBTXDQlNcnaHBcBBYyf/Z","aspectRatio":1.5037593984962405,"src":"/static/39b62a4c971eb9873ef9797217eff527/f2cbb/header.jpg","srcSet":"/static/39b62a4c971eb9873ef9797217eff527/8850c/header.jpg 200w,\n/static/39b62a4c971eb9873ef9797217eff527/da113/header.jpg 400w,\n/static/39b62a4c971eb9873ef9797217eff527/f2cbb/header.jpg 800w,\n/static/39b62a4c971eb9873ef9797217eff527/c26c2/header.jpg 1200w,\n/static/39b62a4c971eb9873ef9797217eff527/9352a/header.jpg 1600w,\n/static/39b62a4c971eb9873ef9797217eff527/4fb49/header.jpg 1920w","sizes":"(max-width: 800px) 100vw, 800px"}}}},"html":"<h2 id=\"分而治之-dc\" style=\"position:relative;\"><a href=\"#%E5%88%86%E8%80%8C%E6%B2%BB%E4%B9%8B-dc\" aria-label=\"分而治之 dc permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>分而治之 D&#x26;C</h2>\n<blockquote>\n<p>并非可用于解决问题的算法，而是一种解决问题的思路</p>\n</blockquote>\n<ol>\n<li>找出简单的基线条件；</li>\n<li>确定如何缩小问题的规模，使其符合基线条件</li>\n</ol>\n<h2 id=\"快速排序\" style=\"position:relative;\"><a href=\"#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F\" aria-label=\"快速排序 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>快速排序</h2>\n<blockquote>\n<p>思想是：在长度>=2 的数组中随机取出一个数组项 A，把 A 大的项放在右边，比 A 小的项放在左边，依次类推。</p>\n</blockquote>\n<p>代码实现：</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">quickSort</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>arr<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&lt;</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> arr <span class=\"token comment\">// 基线条件，为空或者长度为1的数组是有序的，不用再排序</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">const</span> lessArr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">// 比基线值小的项</span>\n  <span class=\"token keyword\">const</span> moreArr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">// 比基线值大的项</span>\n  <span class=\"token keyword\">const</span> pivot <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 选择基准值(随机)</span>\n  arr<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>item <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>item <span class=\"token operator\">>=</span> pivot<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      moreArr<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      lessArr<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token function\">quickSort</span><span class=\"token punctuation\">(</span>lessArr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> pivot<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span><span class=\"token function\">quickSort</span><span class=\"token punctuation\">(</span>moreArr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"js-的-sort-方法\" style=\"position:relative;\"><a href=\"#js-%E7%9A%84-sort-%E6%96%B9%E6%B3%95\" aria-label=\"js 的 sort 方法 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JS 的 sort 方法</h2>\n<blockquote>\n<p>V8 引擎 sort 函数只给出了两种排序 InsertionSort 和 QuickSort，数组长度小于等于 22 的用插入排序 InsertionSort，比 22 大的数组则使用快速排序 QuickSort。源码中这样写道：</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Quicksort is used for arrays which length > 22</span>\n<span class=\"token comment\">// Arrays which length > 1000 guarantee GetThirdIndex is executed</span></code></pre></div>\n<p><a href=\"https://github.com/v8/v8/blob/dc712da548c7fb433caed56af9a021d964952728/test/mjsunit/array-sort.js\">源码链接</a></p>\n<h2 id=\"小结\" style=\"position:relative;\"><a href=\"#%E5%B0%8F%E7%BB%93\" aria-label=\"小结 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>小结</h2>\n<ul>\n<li>使用 D&#x26;C 处理列表的时候，基线条件很可能是空数组或只包含一个元素的数组</li>\n<li>实现快速排序时，请随机选择用作基准值的元素。快速排序的平均运行事件 <code class=\"language-text\">O(nlogn)</code></li>\n<li>大 O 表示法中的常量有时候事关重大，这就是快排比归并排序快的原因所在</li>\n<li>比较简单查找和二分查找时，常量几乎无关紧要，因为列表很长时，<code class=\"language-text\">O(logn)</code>要比<code class=\"language-text\">O(n)</code>快得多</li>\n</ul>"},"primaryTag":{"name":"ALG","color":"#007acc"}},"pageContext":{"postId":"eec90204-4be3-5607-8ca2-30dc3fde7815","primaryTag":"ALG"}},"staticQueryHashes":["2275848304","3097946992","3138592700","3462520645"]}