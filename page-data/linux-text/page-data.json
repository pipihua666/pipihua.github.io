{"componentChunkName":"component---theme-src-templates-post-tsx","path":"/linux-text","result":{"data":{"post":{"id":"b0031b03-93b8-5990-80f2-7c418a611ced","headings":[{"depth":2},{"depth":2},{"depth":2},{"depth":2},{"depth":2},{"depth":2},{"depth":2},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":2},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3}],"frontmatter":{"title":"Linux-文本操作","path":"/linux-text","tags":["Linux"],"excerpt":"linux-文本操作，个人记录学习","created":"2021-04-11T00:00:00.000Z","createdPretty":"11 April, 2021","updated":"2021-04-11T00:00:00.000Z","updatedPretty":"11 April, 2021","featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC3ElEQVQoz01RaU8TURR905lpS4WwyFIgokYxEsWAVoGAURSIIEqCGAFBlFBUaKBQ1koZBMvSoQvQlk6HltJtCl1sS1voFokY/eQP8Rfw1SnVhJOT++479+S8l/dAUyfWxpe/ERLvxZbheef4kncaD8woQrPKgyQlyoMZRXAa948tegQY1TdhfD2oae2VPe3AQMcHGX9cN/LZKpa55lQ+qTokIyK4PionE1xN1Biuj6wQ4UVNEFN4Jxcdgk/Gd8KNV/wlMDC1MSndWVhz4jr/himitcQ2zVGdJUZYY7pEHyEsUbrXmsNq06HKEFzReDDcJsKIfpEcSJYJXGNXb3lIa1ClozRbLvNu2JLgIeWJewLf7c6I1Rl2fI3b3VGTI0RafOv6XanCMDWnAko1qTfZzJSbcvmLr12/V1F1GP3mDxzG40eUw7W0vBoIHHj9IYI0GrbNvv3Qnttrse/pyO0V+RowEBrKuu11UVYjiSIIl8tdwCR2IykRTzU11Av6esSi4eOgu7CAy7tdFvbu7TttHrvJuqXVKpeBdV3q1svD9k3FrAhm0EBYzJTyGyV1FeU70omfto3GmsqeFy05WRk5mRk+7eKBYdW3uexQYuT8KKAWBB7Z6JFOMtndDABgoilpqelrA22/VCM/8MHjpf4Y1t1VXQIgGEXgzeH2GD7k/fLRMdOrF7YDg+C5fbQ1ONMu76mDYQSGUTbr3NbbmmPRo/hg5W8hj1918VZRLgtF6Wis5U54rHl38ImRX6/qfADWX1Zvdz109tb6+bVXczMhCKJNQ7zcPx/zT4SsEzFcnJVQIIiRgiK2lhJfB0/9rFzWWCauLQU387PvXsi7f6mg/kphXloqOAWXg4pK2TuPEWEVzEQh+DQxk81sKMq6nM45z2Fnc9jpbBY4CyhhOz0nsWMAQF8VPjv/Xxn/BARmJIkm3jo5BvTKghlsBGIhybSkyGAhKBOhP5S2M2j+BU+JI3HgZJpGAAAAAElFTkSuQmCC","aspectRatio":1.5037593984962405,"src":"/static/fd86a57a19d26f621fabca2e9cc0b4cc/90823/header.png","srcSet":"/static/fd86a57a19d26f621fabca2e9cc0b4cc/dc47e/header.png 200w,\n/static/fd86a57a19d26f621fabca2e9cc0b4cc/9f2d5/header.png 400w,\n/static/fd86a57a19d26f621fabca2e9cc0b4cc/90823/header.png 800w,\n/static/fd86a57a19d26f621fabca2e9cc0b4cc/77647/header.png 1200w,\n/static/fd86a57a19d26f621fabca2e9cc0b4cc/f8d4f/header.png 1600w,\n/static/fd86a57a19d26f621fabca2e9cc0b4cc/4ce6a/header.png 1920w","sizes":"(max-width: 800px) 100vw, 800px"}}}},"html":"<h2 id=\"wc\" style=\"position:relative;\"><a href=\"#wc\" aria-label=\"wc permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>wc</h2>\n<blockquote>\n<p>print newline, word, and byte counts for each file</p>\n</blockquote>\n<ul>\n<li>wc -l [文件名] // 计算文件的行数</li>\n<li>wc -c [文件名] // 计算文件字节数</li>\n<li>wc -w [文件名] // 计算文件字符数</li>\n</ul>\n<h2 id=\"stat\" style=\"position:relative;\"><a href=\"#stat\" aria-label=\"stat permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>stat</h2>\n<blockquote>\n<p>display file or file system status</p>\n</blockquote>\n<ul>\n<li>LANG=c stat [filename] // 英文化查看文件的信息</li>\n</ul>\n<h2 id=\"grep\" style=\"position:relative;\"><a href=\"#grep\" aria-label=\"grep permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>grep</h2>\n<blockquote>\n<p>print lines matching a pattern</p>\n</blockquote>\n<ul>\n<li>grep [正则][文件名] 一行一行查找正则匹配的内容</li>\n</ul>\n<h2 id=\"find\" style=\"position:relative;\"><a href=\"#find\" aria-label=\"find permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>find</h2>\n<blockquote>\n<p>search for files in a directory hierarchy</p>\n</blockquote>\n<ul>\n<li>find *txt -exec rm -v {} ; // 查找文件并执行命令操作</li>\n</ul>\n<h2 id=\"time\" style=\"position:relative;\"><a href=\"#time\" aria-label=\"time permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>time</h2>\n<blockquote>\n<p>计算指令的执行时间</p>\n</blockquote>\n<ul>\n<li>time ls</li>\n</ul>\n<h2 id=\"cut\" style=\"position:relative;\"><a href=\"#cut\" aria-label=\"cut permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cut</h2>\n<blockquote>\n<p>remove sections from each line of files</p>\n</blockquote>\n<ul>\n<li>cut -d \" \" -f 1 // 以空格分隔文本并显示第一个（相当于 split()[0]）</li>\n</ul>\n<p><a name=\"NrMVF\"></a></p>\n<h2 id=\"sed\" style=\"position:relative;\"><a href=\"#sed\" aria-label=\"sed permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>sed</h2>\n<blockquote>\n<p>默认只替换每行的第一个</p>\n</blockquote>\n<p><a name=\"mmHID\"></a></p>\n<h3 id=\"sed-的工作模式\" style=\"position:relative;\"><a href=\"#sed-%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F\" aria-label=\"sed 的工作模式 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>sed 的工作模式</h3>\n<ul>\n<li>将文件以行为单位读取到内存（模式空间）</li>\n<li>使用 sed 的每个脚本对该行进行操作 sed \"script\" filename</li>\n<li>处理完成后输出该行（默认输出）</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sed</span> <span class=\"token string\">'a/lod/new/'</span> filename\n\n<span class=\"token comment\"># 如果要替换/，可以使用别的分隔符</span>\n<span class=\"token function\">sed</span> <span class=\"token string\">'s!/!abc!'</span> filename\n\n<span class=\"token comment\"># 执行多个命令</span>\n<span class=\"token function\">sed</span> -e <span class=\"token string\">'s/a/aa/'</span> -e <span class=\"token string\">'s/aa/bb/'</span> afile\n<span class=\"token function\">sed</span> <span class=\"token string\">'s/a/aa/;s/aa/bb/'</span> afile\n\n<span class=\"token comment\"># 将替换后的内容写入到原始文件</span>\n<span class=\"token function\">sed</span> -i <span class=\"token string\">'s/a/aa/;s/aa/bb/'</span> afile\n\n<span class=\"token comment\"># 支持元字符</span>\n<span class=\"token function\">head</span> -5 /etc/passwd <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token string\">'s/s*bin//'</span>\n\n<span class=\"token comment\"># 支持回调，源文件内容：axyzb</span>\n<span class=\"token comment\"># 扩展元字符使用 -r 参数</span>\nroot@4ebe31ff7a18:/tmp<span class=\"token comment\"># sed -r 's/(a.*b)/\\1:\\1/' cfile</span>\naxyzb:axyzb</code></pre></div>\n<p><a name=\"EUZxj\"></a></p>\n<h3 id=\"sed-替换指令加强版\" style=\"position:relative;\"><a href=\"#sed-%E6%9B%BF%E6%8D%A2%E6%8C%87%E4%BB%A4%E5%8A%A0%E5%BC%BA%E7%89%88\" aria-label=\"sed 替换指令加强版 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>sed 替换指令加强版</h3>\n<ul>\n<li>\n<p>标志位：</p>\n<ul>\n<li>s/old/new/ 标志位</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 全局替换</span>\n<span class=\"token function\">sed</span> <span class=\"token string\">\"s/old/new/g\"</span> afile\n\n<span class=\"token comment\"># 替换前两次</span>\n<span class=\"token function\">sed</span> <span class=\"token string\">\"s/old/new/2\"</span> afile\n\n<span class=\"token comment\"># /p 打印模式空间的内容,匹配的行在下面再进行输出,应用：只输出替换成功的行, -n阻止默认输出</span>\n<span class=\"token function\">sed</span> -n <span class=\"token string\">'s/root/123/p'</span>\n\n<span class=\"token comment\"># /w 将替换成功的行写入别的文件</span>\n<span class=\"token function\">sed</span> -n <span class=\"token string\">'s/root/123/w a.txt'</span></code></pre></div>\n<ul>\n<li>\n<p>寻址：默认对每行进行操作，增加寻址后对匹配的行进行操作</p>\n<ul>\n<li>/正则表达式/s/old/new/g</li>\n<li>行号/s/old/new/g</li>\n<li>可以使用两个寻址符号，也可以混合使用行号和正则地址</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 从1-6行进行替换</span>\n<span class=\"token function\">head</span> -6 /etc/passwd <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token string\">'1,6s/games/!!!!!!!!/'</span>\n\n<span class=\"token comment\"># 匹配root行，进行替换</span>\n<span class=\"token function\">head</span> -6 /etc/passwd <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token string\">'/root/s/bash/!!!!!!!!/'</span>\n\n<span class=\"token comment\"># 多条命令</span>\n<span class=\"token function\">sed</span> /正则/<span class=\"token punctuation\">{</span>s/old/new/<span class=\"token punctuation\">;</span>s/old/new/<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>脚本文件：文件里写正常的 sed 命令</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sed</span> -f sedscript filename // 加载脚本文件</code></pre></div>\n<p><a name=\"sm3XA\"></a></p>\n<h3 id=\"sed-的其他常用命令\" style=\"position:relative;\"><a href=\"#sed-%E7%9A%84%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4\" aria-label=\"sed 的其他常用命令 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>sed 的其他常用命令</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 删除行，删除操作会改变模式空间，就和管道的作用一样，后面的命令会以删除后的文件内容为准</span>\n<span class=\"token function\">sed</span> <span class=\"token string\">'/ab/d'</span> bfile\n<span class=\"token function\">sed</span> <span class=\"token string\">'/ab/d;='</span> bfile\n\n<span class=\"token comment\"># /i 在上一行插入</span>\n<span class=\"token function\">sed</span> <span class=\"token string\">'/ab/i hello'</span> bfile\n\n<span class=\"token comment\"># /a 在下一行插入</span>\n<span class=\"token function\">sed</span> <span class=\"token string\">'/ab/a hello'</span> bfile\n\n<span class=\"token comment\"># /c 替换行</span>\n<span class=\"token function\">sed</span> <span class=\"token string\">'/ab/c hello'</span> bfile\n\n<span class=\"token comment\"># /r 合并两个文件</span>\n<span class=\"token function\">sed</span> <span class=\"token string\">'/ab/r cfile'</span> bfile\n\n<span class=\"token comment\"># 打印行号 =</span>\n<span class=\"token function\">sed</span> <span class=\"token string\">\"=\"</span> bfile\n\n<span class=\"token comment\"># /n 操作匹配的下一行</span>\n\n<span class=\"token comment\"># 打印匹配行，这个替换中的p不同，通常和-n参数配合只打印匹配到的行</span>\n<span class=\"token function\">sed</span> -n <span class=\"token string\">'/ab/p'</span> bfile\n\n<span class=\"token comment\"># 退出命令</span>\n<span class=\"token function\">sed</span> 10q filename <span class=\"token comment\"># 不会把文件全部读入</span>\n<span class=\"token function\">sed</span> -n <span class=\"token number\">1</span>,10p filename</code></pre></div>\n<p><a name=\"UCTeJ\"></a></p>\n<h3 id=\"sed-多行模式\" style=\"position:relative;\"><a href=\"#sed-%E5%A4%9A%E8%A1%8C%E6%A8%A1%E5%BC%8F\" aria-label=\"sed 多行模式 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>sed 多行模式</h3>\n<ul>\n<li>N：将下一行加入到模式空间中</li>\n<li>D：删除模式空间中的第一个字符到第一个换行符</li>\n<li>P：打印模式空间中第一个字符到第一个换行符</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@4ebe31ff7a18:/tmp<span class=\"token comment\"># cat dfile</span>\nhel\nlo\nroot@4ebe31ff7a18:/tmp<span class=\"token comment\"># sed 'N;s/hel\\nlo/!!!/' dfile</span>\n<span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span>\nroot@4ebe31ff7a18:/tmp<span class=\"token comment\"># sed 'N;s/hel.lo/!!!/' dfile</span>\n<span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span>\n\n<span class=\"token comment\"># 多行操作</span>\nroot@4ebe31ff7a18:/tmp<span class=\"token comment\"># cat b.txt</span>\nhell\no <span class=\"token function\">bash</span> hel\nlo <span class=\"token function\">bash</span>\n<span class=\"token comment\"># 两行连起来操作</span>\nroot@4ebe31ff7a18:/tmp<span class=\"token comment\"># sed 'N;s/\\n//;s/hello bash/hello sed\\n/;P;D' b.txt</span>\nhello <span class=\"token function\">sed</span>\n hello <span class=\"token function\">sed</span>\n<span class=\"token comment\"># 三行连起来操作</span>\n<span class=\"token function\">sed</span> <span class=\"token string\">'N;N;s/<span class=\"token entity\" title=\"\\n\">\\n</span>//;s/hello bash/hello sed<span class=\"token entity\" title=\"\\n\">\\n</span>/;P;D'</span> b.txt</code></pre></div>\n<p><a name=\"wYacy\"></a></p>\n<h2 id=\"awk\" style=\"position:relative;\"><a href=\"#awk\" aria-label=\"awk permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AWK</h2>\n<p><a name=\"QYMuI\"></a></p>\n<h3 id=\"认识-awk\" style=\"position:relative;\"><a href=\"#%E8%AE%A4%E8%AF%86-awk\" aria-label=\"认识 awk permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>认识 awk</h3>\n<ul>\n<li>awk 更像是脚本语言</li>\n<li>awk 用于比较规范的文本处理，用于统计数量并输出指定字段</li>\n<li>sed 将不规范的文本，处理为比较规范的文本</li>\n</ul>\n<p><a name=\"qDTRG\"></a></p>\n<h3 id=\"awk-的字段\" style=\"position:relative;\"><a href=\"#awk-%E7%9A%84%E5%AD%97%E6%AE%B5\" aria-label=\"awk 的字段 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AWK 的字段</h3>\n<ul>\n<li>每行称作 AWK 的记录</li>\n<li>使用空格、制表符分隔开的单词成为字段</li>\n<li>可以自己制定分隔的字段</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># -F 指定分隔符</span>\n<span class=\"token comment\"># x++：打印行号</span>\n<span class=\"token comment\"># ^menu：匹配行</span>\n<span class=\"token function\">awk</span> -F <span class=\"token string\">\"''\"</span> <span class=\"token string\">'/^menu/{ print x++, <span class=\"token variable\">$2</span> }'</span> /boot/grub2/grub.cfg</code></pre></div>\n<p><a name=\"zDdaT\"></a></p>\n<h3 id=\"awk-表达式\" style=\"position:relative;\"><a href=\"#awk-%E8%A1%A8%E8%BE%BE%E5%BC%8F\" aria-label=\"awk 表达式 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AWK 表达式</h3>\n<ul>\n<li>\n<p>系统变量</p>\n<ul>\n<li>FS 表示输入的内容用什么分隔，OFS 表示输出用什么符号分隔</li>\n<li>RS 行分隔符</li>\n<li>NR 打印行号，如果文件变化了 NR 是不会重新排号，FNR 则会重新排号</li>\n<li>NF 字段的数量</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 下面两行意义相同，BEGIN表示在输入内容之前的操作</span>\n<span class=\"token function\">head</span> -n <span class=\"token number\">6</span> /etc/passwd <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'BEGIN{FS=\":\"}{print <span class=\"token variable\">$1</span>}'</span>\n<span class=\"token function\">head</span> -n <span class=\"token number\">6</span> /etc/passwd <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> -F <span class=\"token string\">':'</span> <span class=\"token string\">'{print <span class=\"token variable\">$1</span>}\t'</span>\n\n<span class=\"token comment\"># 设置输出分隔符</span>\n<span class=\"token function\">head</span> -n <span class=\"token number\">6</span> /etc/passwd <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'BEGIN{FS=\":\";OFS=\"-\"}{print <span class=\"token variable\">$1</span>,<span class=\"token variable\">$2</span>}\n\n# 改变内容行的分隔符，改为通过:来换行，<span class=\"token variable\">$0</span>是输出一行\nhead -n 6 /etc/passwd | awk '</span>BEGIN<span class=\"token punctuation\">{</span>RS<span class=\"token operator\">=</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">{</span>print <span class=\"token variable\">$0</span><span class=\"token punctuation\">}</span><span class=\"token string\">'\n\n# 打印行号\nroot@709230c0b366:~# awk '</span><span class=\"token punctuation\">{</span>print NR, <span class=\"token variable\">$0</span><span class=\"token punctuation\">}</span><span class=\"token string\">' /etc/hosts /etc/hosts\n1 127.0.0.1    localhost\n2 ::1    localhost ip6-localhost ip6-loopback\n3 fe00::0    ip6-localnet\n4 ff00::0    ip6-mcastprefix\n5 ff02::1    ip6-allnodes\n6 ff02::2    ip6-allrouters\n7 172.17.0.4    709230c0b366\n8 127.0.0.1    localhost\n9 ::1    localhost ip6-localhost ip6-loopback\n10 fe00::0    ip6-localnet\n11 ff00::0    ip6-mcastprefix\n12 ff02::1    ip6-allnodes\n13 ff02::2    ip6-allrouters\n14 172.17.0.4    709230c0b366\nroot@709230c0b366:~# awk '</span><span class=\"token punctuation\">{</span>print FNR, <span class=\"token variable\">$0</span><span class=\"token punctuation\">}</span><span class=\"token string\">' /etc/hosts /etc/hosts\n1 127.0.0.1    localhost\n2 ::1    localhost ip6-localhost ip6-loopback\n3 fe00::0    ip6-localnet\n4 ff00::0    ip6-mcastprefix\n5 ff02::1    ip6-allnodes\n6 ff02::2    ip6-allrouters\n7 172.17.0.4    709230c0b366\n1 127.0.0.1    localhost\n2 ::1    localhost ip6-localhost ip6-loopback\n3 fe00::0    ip6-localnet\n4 ff00::0    ip6-mcastprefix\n5 ff02::1    ip6-allnodes\n6 ff02::2    ip6-allrouters\n7 172.17.0.4    709230c0b366\n\n# 打印有多少个字段\nhead -n 6 /etc/passwd | awk '</span>BEGIN<span class=\"token punctuation\">{</span>FS<span class=\"token operator\">=</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">{</span>print NF<span class=\"token punctuation\">}</span><span class=\"token string\">'\n\n# 打印最后一个字段的值\nhead -n 6 /etc/passwd | awk '</span>BEGIN<span class=\"token punctuation\">{</span>FS<span class=\"token operator\">=</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">{</span>print <span class=\"token variable\">$NF</span><span class=\"token punctuation\">}</span>'</code></pre></div>\n<p><a name=\"VHsAt\"></a></p>\n<h3 id=\"awk-的判断和循环\" style=\"position:relative;\"><a href=\"#awk-%E7%9A%84%E5%88%A4%E6%96%AD%E5%92%8C%E5%BE%AA%E7%8E%AF\" aria-label=\"awk 的判断和循环 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AWK 的判断和循环</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@7dc8bb7d5702:/tmp<span class=\"token comment\"># cat a.txt</span>\nuser1 <span class=\"token number\">34</span> <span class=\"token number\">54</span> <span class=\"token number\">23</span> <span class=\"token number\">12</span>\nuser2 <span class=\"token number\">94</span> <span class=\"token number\">34</span> <span class=\"token number\">73</span> <span class=\"token number\">22</span>\nuser3 <span class=\"token number\">99</span> <span class=\"token number\">45</span> <span class=\"token number\">12</span> <span class=\"token number\">49</span>\nroot@7dc8bb7d5702:/tmp<span class=\"token comment\"># awk '{ if($2>80) {print $1,$2} }' a.txt</span>\nuser2 <span class=\"token number\">94</span>\nuser3 <span class=\"token number\">99</span>\nroot@7dc8bb7d5702:/tmp<span class=\"token comment\"># awk '{ for(c=2;c&lt;=NF;c++) print $c }' a.txt</span>\n<span class=\"token number\">34</span>\n<span class=\"token number\">54</span>\n<span class=\"token number\">23</span>\n<span class=\"token number\">12</span>\n<span class=\"token number\">94</span>\n<span class=\"token number\">34</span>\n<span class=\"token number\">73</span>\n<span class=\"token number\">22</span>\n<span class=\"token number\">99</span>\n<span class=\"token number\">45</span>\n<span class=\"token number\">12</span>\n<span class=\"token number\">49</span>\nroot@7dc8bb7d5702:/tmp<span class=\"token comment\"># awk '{ for(c=2;c&lt;=NF;c++) sum+=$c; print sum}' a.txt</span>\n<span class=\"token number\">123</span>\n<span class=\"token number\">346</span>\n<span class=\"token number\">551</span></code></pre></div>\n<p><a name=\"2YGNz\"></a></p>\n<h3 id=\"awk-数组\" style=\"position:relative;\"><a href=\"#awk-%E6%95%B0%E7%BB%84\" aria-label=\"awk 数组 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AWK 数组</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># END表示数据读入完毕</span>\nroot@7dc8bb7d5702:/tmp<span class=\"token comment\"># awk '{ sum=0; for(c=2;c&lt;=NF;c++) sum+=$c; average[$1]=sum/(NF-1) }END{ for( user in average ) print user,average[user] }' a.txt</span>\nuser1 <span class=\"token number\">30.75</span>\nuser2 <span class=\"token number\">55.75</span>\nuser3 <span class=\"token number\">51.25</span>\nroot@7dc8bb7d5702:/tmp<span class=\"token comment\"># cat a.txt</span>\nuser1 <span class=\"token number\">34</span> <span class=\"token number\">54</span> <span class=\"token number\">23</span> <span class=\"token number\">12</span>\nuser2 <span class=\"token number\">94</span> <span class=\"token number\">34</span> <span class=\"token number\">73</span> <span class=\"token number\">22</span>\nuser3 <span class=\"token number\">99</span> <span class=\"token number\">45</span> <span class=\"token number\">12</span> <span class=\"token number\">49</span>\nroot@7dc8bb7d5702:/tmp<span class=\"token comment\"># awk '{ sum=0; for(c=2;c&lt;=NF;c++) sum+=$c; average[$1]=sum/(NF-1) }END{ for( user in average ) print user,average[user] }' a.txt</span>\nuser1 <span class=\"token number\">30.75</span>\nuser2 <span class=\"token number\">55.75</span>\nuser3 <span class=\"token number\">51.25</span>\nroot@7dc8bb7d5702:/tmp<span class=\"token comment\"># awk '{ sum=0; for(c=2;c&lt;=NF;c++) sum+=$c; average[$1]=sum/(NF-1) }END{ for( user in average ) sum2+=average[user]; print sum2/NR }' a.txt</span>\n<span class=\"token number\">45.9167</span></code></pre></div>\n<p><a name=\"53WWH\"></a></p>\n<h3 id=\"awk-数组的应用\" style=\"position:relative;\"><a href=\"#awk-%E6%95%B0%E7%BB%84%E7%9A%84%E5%BA%94%E7%94%A8\" aria-label=\"awk 数组的应用 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AWK 数组的应用</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@7dc8bb7d5702:/tmp<span class=\"token comment\"># cat a.txt</span>\nuser1 <span class=\"token number\">34</span> <span class=\"token number\">54</span> <span class=\"token number\">23</span> <span class=\"token number\">12</span>\nuser2 <span class=\"token number\">94</span> <span class=\"token number\">34</span> <span class=\"token number\">73</span> <span class=\"token number\">22</span>\nuser3 <span class=\"token number\">99</span> <span class=\"token number\">45</span> <span class=\"token number\">12</span> <span class=\"token number\">49</span>\nroot@7dc8bb7d5702:/tmp<span class=\"token comment\"># cat result.awk</span>\n<span class=\"token punctuation\">{</span>\n<span class=\"token function\">sum</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\nfor<span class=\"token punctuation\">(</span>c <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> c <span class=\"token operator\">&lt;</span><span class=\"token operator\">=</span> NF<span class=\"token punctuation\">;</span> c++<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">sum</span> <span class=\"token operator\">+=</span> <span class=\"token variable\">$c</span>\n\naverage<span class=\"token punctuation\">[</span><span class=\"token variable\">$1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">sum</span> / <span class=\"token punctuation\">(</span>NF - <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\nprint <span class=\"token variable\">$1</span>, average<span class=\"token punctuation\">[</span><span class=\"token variable\">$1</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token punctuation\">}</span>\nEND<span class=\"token punctuation\">{</span>\nfor<span class=\"token punctuation\">(</span>user <span class=\"token keyword\">in</span> average<span class=\"token punctuation\">)</span>\n    sum_all <span class=\"token operator\">+=</span> average<span class=\"token punctuation\">[</span>user<span class=\"token punctuation\">]</span>\n\navg_all <span class=\"token operator\">=</span> sum_all / NR\n\nfor<span class=\"token punctuation\">(</span>user <span class=\"token keyword\">in</span> average<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>average<span class=\"token punctuation\">[</span>user<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> avg_all<span class=\"token punctuation\">)</span>\n        above++\n    <span class=\"token keyword\">else</span>\n        below++\n\nprint <span class=\"token string\">\"above\"</span>, above\nprint <span class=\"token string\">\"below\"</span>, below\n\n<span class=\"token punctuation\">}</span>\nroot@7dc8bb7d5702:/tmp<span class=\"token comment\"># awk -f result.awk a.txt</span>\nuser1 <span class=\"token number\">30.75</span>\nuser2 <span class=\"token number\">55.75</span>\nuser3 <span class=\"token number\">51.25</span>\nabove <span class=\"token number\">2</span>\nbelow <span class=\"token number\">1</span></code></pre></div>\n<p><a name=\"CKQgY\"></a></p>\n<h3 id=\"awk-函数\" style=\"position:relative;\"><a href=\"#awk-%E5%87%BD%E6%95%B0\" aria-label=\"awk 函数 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AWK 函数</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 整数</span>\nroot@7dc8bb7d5702:/tmp<span class=\"token comment\"># awk 'BEGIN{pi=3.114; print int(pi)}'</span>\n<span class=\"token number\">3</span>\n\n<span class=\"token comment\"># 随机数</span>\nroot@7dc8bb7d5702:/tmp<span class=\"token comment\"># awk 'BEGIN{srand(); print rand()}'</span>\n<span class=\"token number\">0.739691</span>\nroot@7dc8bb7d5702:/tmp<span class=\"token comment\"># awk 'BEGIN{srand(); print rand()}'</span>\n<span class=\"token number\">0.00276686</span>\nroot@7dc8bb7d5702:/tmp<span class=\"token comment\"># awk 'BEGIN{srand(); print rand()}'</span>\n<span class=\"token number\">0.134305</span>\n\n<span class=\"token comment\"># 自定义函数</span>\nroot@7dc8bb7d5702:/tmp<span class=\"token comment\"># awk 'function double(str) {return str str} BEGIN{print double(\"hello\")}'</span>\nhellohello</code></pre></div>"},"primaryTag":{"name":"Linux","color":null}},"pageContext":{"postId":"b0031b03-93b8-5990-80f2-7c418a611ced","primaryTag":"Linux"}},"staticQueryHashes":["1116962356","2275848304","3138592700","3462520645","545095672"]}