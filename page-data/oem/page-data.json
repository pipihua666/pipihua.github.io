{"componentChunkName":"component---theme-src-templates-post-tsx","path":"/oem","result":{"data":{"post":{"id":"71de6fca-221a-5db6-b31a-3fed3092eeba","headings":[{"depth":2},{"depth":2},{"depth":2},{"depth":2},{"depth":3},{"depth":3},{"depth":3},{"depth":2},{"depth":2},{"depth":2}],"frontmatter":{"title":"k8s持久化存储实现前端oem需求","path":"/oem","tags":["DevOps"],"excerpt":"前端根据licence显示不同的背景图和文字信息.","created":"2021-02-21 15:00","createdPretty":"21 February, 2021","updated":"2021-04-11T00:00:00.000Z","updatedPretty":"11 April, 2021","featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVQozwEZA+b8ALCNXufixuXhx+Xix+XiyePUqeHFiOLSqOTjyuXiyOXhxuXhxuXgxOXgxOXgwuXfweXfweXfweXduuPUqACjfU/j2bXk3sDk4MTk17HgwHzfu3LeuHDk2rbk3sDl38Ll4MTm4sfm4sXm4sXm4sPm4cHn4cDk27fWv48AjGEz1K5q48F74MB93bp21rJu4MB83bhv3Lhu28KN6ObL5Ny64M+h4M+i3caT2r+G2Lp+0rF2z6turYFIAJBlN9OrZcylYtawadGoYcKYWN68d9y2bdOsZL2aY9fEl9y+f9GmXc6jWdGmXcygWMWcV7uOTMGVUruQTwCUZjSzh0u3jlHbtWvMo164jk/euXHft2zTrGW3jE3Tq2PasWbOpFzQplzRqGDKn1nTrWfHnVnEl1TDllMAh1UsgFEsilsyq31EroJIqX5Fs41Vr4hQsohOpnpFsIZMtYtPrIFIsIVLsohNsYRKqXxGsINIsINItIhLAEoiI00jI1IoI1guJVctJVkxJl45LF42KlgvJ10zKVwzKVUtJl82KmM8LmY8K1UsJlkuJF00KVQsJlEqJQBZLSQ+HSI8GSFIISN4UDmddUqxi1mge1ZbNC1DGx9GHB9sRTajf1e1j1qme0lgNys9GSE7GCBRKSWNYj0AdD8lOBsiNRYgUisno3hFu45N2rJnyZ9aYzgtSyEiSyIif1Y8xplTx5pTyp5XcEMwUyUiQRshaT8tm29BAHpJKkMlJTAUIEUjJZ9+WNCsa9u4c8eiZV42LE0jIz4ZIF05MdOxct68etOydG1EM1kpIz0aIVY0LnVQOQCWXi9kPy4oDB5jPC7RsHTjwnzhv3reuXCMZUI/GB9DHSCTcU7p0Zbn0JfnzIyfdkpMICE5FR91TjakekcAXS8kRCAhOhkgWTIom3RFqoJLq4NMimI4WjQoQh4jQRwgf15BwKRvxKdzpINVYT0tQBwgQSAkWTMpgVcyAHVJMJlzSpVwSqF/VKGAVauKWqODV5d5Uph7V5t7Vpd5VJt9VrGRXbKRXp9/VY50VIJnTZF2VpF2V5R5WdJzgcS6sLzOAAAAAElFTkSuQmCC","aspectRatio":1.5625,"src":"/static/67770bd9ce3b813d3f9c5e3fbab1e18f/90823/bridge.png","srcSet":"/static/67770bd9ce3b813d3f9c5e3fbab1e18f/dc47e/bridge.png 200w,\n/static/67770bd9ce3b813d3f9c5e3fbab1e18f/9f2d5/bridge.png 400w,\n/static/67770bd9ce3b813d3f9c5e3fbab1e18f/90823/bridge.png 800w,\n/static/67770bd9ce3b813d3f9c5e3fbab1e18f/77647/bridge.png 1200w,\n/static/67770bd9ce3b813d3f9c5e3fbab1e18f/f8d4f/bridge.png 1600w,\n/static/67770bd9ce3b813d3f9c5e3fbab1e18f/4ce6a/bridge.png 1920w","sizes":"(max-width: 800px) 100vw, 800px"}}}},"html":"<h2 id=\"技术栈\" style=\"position:relative;\"><a href=\"#%E6%8A%80%E6%9C%AF%E6%A0%88\" aria-label=\"技术栈 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>技术栈</h2>\n<ul>\n<li>react，docker，k8s</li>\n</ul>\n<h2 id=\"需求\" style=\"position:relative;\"><a href=\"#%E9%9C%80%E6%B1%82\" aria-label=\"需求 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>需求</h2>\n<ul>\n<li>前端实现界面的 licence 控制，根据 licence 显示不同的背景和文字信息，并且不用重新编译前端镜像，达到可以在宿主机上随时都可以定制的需求</li>\n</ul>\n<h2 id=\"需求分析\" style=\"position:relative;\"><a href=\"#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90\" aria-label=\"需求分析 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>需求分析</h2>\n<ul>\n<li>创建一个 oem 文件夹，存放不同的 licence 的 index.json 和图片，前端通过 ajax 可以直接请求本地的文件（这里是 index.json） k8s 在宿主机上持久化本地存储的方式来进行需求开发再合适不过。）</li>\n</ul>\n<h2 id=\"目前官方支持的-3-种本地存储方案如下：\" style=\"position:relative;\"><a href=\"#%E7%9B%AE%E5%89%8D%E5%AE%98%E6%96%B9%E6%94%AF%E6%8C%81%E7%9A%84-3-%E7%A7%8D%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E6%96%B9%E6%A1%88%E5%A6%82%E4%B8%8B%EF%BC%9A\" aria-label=\"目前官方支持的 3 种本地存储方案如下： permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>目前官方支持的 3 种本地存储方案如下：</h2>\n<h3 id=\"emptydir\" style=\"position:relative;\"><a href=\"#emptydir\" aria-label=\"emptydir permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>emptyDir</h3>\n<ol>\n<li>pod 在节点上运行时初始化的空卷，pod 中的所有容器都可以访问到该卷。</li>\n<li>pod 从节点上删除时，该卷也会被删除(注意：容器奔溃不会导致 pod 从节点上删除，因此容器奔溃时 emptyDir 是安全的）。</li>\n</ol>\n<p>pod 示例：</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> v1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Pod\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> my<span class=\"token punctuation\">-</span>pod\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> my<span class=\"token punctuation\">-</span>app<span class=\"token punctuation\">-</span>image\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> my<span class=\"token punctuation\">-</span>app\n      <span class=\"token key atrule\">volumeMounts</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">mountPath</span><span class=\"token punctuation\">:</span> /cache   // pod中的emptyDir路径\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> cache<span class=\"token punctuation\">-</span>volume\n  <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> cache<span class=\"token punctuation\">-</span>volume\n      <span class=\"token key atrule\">emptyDir</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"hostpath（适合我的需求）\" style=\"position:relative;\"><a href=\"#hostpath%EF%BC%88%E9%80%82%E5%90%88%E6%88%91%E7%9A%84%E9%9C%80%E6%B1%82%EF%BC%89\" aria-label=\"hostpath（适合我的需求） permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>hostPath（适合我的需求）</h3>\n<ol>\n<li>pod 中的文件夹与宿主机上的文件夹相互映射，如果宿主机没有则到 pod 映射，如果 pod 没有则到宿主机映射，如果都没有则默认空文件夹</li>\n<li>宿主机上映射的文件夹的修改会自动同步到 pod 中。</li>\n<li>pod 即使从节点上被删除了（比如：pod 重启），该卷还是会持久化在宿主机上。</li>\n</ol>\n<p>pod 示例：</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> v1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Pod\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> my<span class=\"token punctuation\">-</span>pod\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> my<span class=\"token punctuation\">-</span>app<span class=\"token punctuation\">-</span>image\n      <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> my<span class=\"token punctuation\">-</span>app<span class=\"token punctuation\">-</span>image\n      <span class=\"token key atrule\">volumeMounts</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">mountPath</span><span class=\"token punctuation\">:</span> /opt/nginx/oem  // pod路径\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> oem   // 映射宿主机的volume名称\n  <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> oem\n      <span class=\"token key atrule\">hostPath</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> /data/oem    // 宿主机路径</code></pre></div>\n<p>但是还有一点问题，就是 pod 每次重启了，会重新创建 pod 中的 oem 文件夹，这里就是/opt/nginx/oem,那么宿主机上的文件夹/data/oem 也会随着 pod 的重启而替换，所以这需要在 pod 重启的容器中添加一个 command 指令<br /></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">containers</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> my<span class=\"token punctuation\">-</span>app<span class=\"token punctuation\">-</span>image\n      <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> my<span class=\"token punctuation\">-</span>app<span class=\"token punctuation\">-</span>image\n      <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">[</span>\n          <span class=\"token string\">\"sh\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">\"-c\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">\"cp -r -n /opt/assets/public/oem /opt/nginx/ &amp;&amp; nginx -g 'daemon off;'\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token key atrule\">volumeMounts</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">mountPath</span><span class=\"token punctuation\">:</span> /opt/nginx/oem\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> oem</code></pre></div>\n<ol>\n<li>/opt/assets/public/oem 是容器中的模版文件夹</li>\n<li><code class=\"language-text\">cp -r -n</code> 如果 pod 中存在/opt/nginx/oem 就不复制（保证每次重启 pod 都是用的宿主机上的 oem 文件夹），也就是初始化 pod 的时候会创建该文件夹</li>\n<li>镜像的 cp 命令升级：\n<code class=\"language-text\">RUN sed -i &#39;s/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g&#39; /etc/apk/repositories \\ &amp;&amp; apk add --no-cache coreutils</code>\n（如果 nginx:1.17-alpine 的版本太老，没办法 cp -n）</li>\n<li>至此，需求完成。</li>\n</ol>\n<h3 id=\"local-persistent-volume\" style=\"position:relative;\"><a href=\"#local-persistent-volume\" aria-label=\"local persistent volume permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Local Persistent Volume</h3>\n<p>指的就是利用机器上的磁盘来存放业务需要持久化的数据，和远端存储类似，此时数据依然独立于 Pod 的生命周期，即使业务 Pod 被删除，数据也不会丢失。</p>\n<h2 id=\"local-persistent-volume-和-hostpath-的区别\" style=\"position:relative;\"><a href=\"#local-persistent-volume-%E5%92%8C-hostpath-%E7%9A%84%E5%8C%BA%E5%88%AB\" aria-label=\"local persistent volume 和 hostpath 的区别 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Local Persistent Volume 和 hostPath 的区别</h2>\n<ol>\n<li>HostPath:调度程序可能会将引用 HostPath 卷的 pod 移至其他节点，从而导致数据丢失。</li>\n<li>Local Persistent: 调度程序可确保始终将使用本地持久卷的容器调度到同一节点。</li>\n</ol>\n<h2 id=\"图形化\" style=\"position:relative;\"><a href=\"#%E5%9B%BE%E5%BD%A2%E5%8C%96\" aria-label=\"图形化 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>图形化</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 638px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a8a1e63f4096f24083f3fc17f70493a2/41be6/volumes.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/klEQVQoz5WP/2sScRjH75+q/RDUMogIahT0YzHcFlswTBexqXO2iL79sB9i6c473SJkUJHBtDvNb0vnSueZuDZZ3cfpfU5y80tN0DvvvD4mGxP2Sw8vHt4PPC8eHqz/Lvg/NOCsbveSPn9uooCptOCCDqh04LwWdDMKXVQn0a9hB8wFh29fPcdjp0bZK1PghhlcnmSvm8BVA0B9wACuGdm+O+zpsR76xli0f0a7O/qieFHPYSYSmh1wdgnOLkKTnZuxd8IMWUDdSMApnJsmod7GGXDORPIoTBOckeQncV5P8FhbFmWpQ1sSa/XG2/XsPM3Me76+pBlXfCeT37P6GAuVsNIbFi+TZIuKIrVlAVmKLGKCKB5RPmg8eBcfIcL3nOtDePjxh2RoszBoDWhfxxC3LH4PwyptuSkI3X1MPFaVg+YjV2LYFtK8igzbgs9XmMgWHMID40ufEeqFgDeVQ/I/t1M9cq3efPg+cdu+en85NkKuPu3InBoP6pyxCWdscCFApcAJMpqklgjL9eXgFuH5tkilbe7Um/B2NM3h7pSDSiOsK0w0w8mSdOgeyg1BVJTWXLL0bK0UzZZd8XwkW7Fu7N+k4dqPP26Gp9NF73btyZdfR2d7LiuSmCnVP7LVUK7qBxXfzz3qe969mf+0UwrkqkFQ8edqMfi7dezNv2/b5msmRtbiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"volumes\"\n        title=\"volumes\"\n        src=\"/static/a8a1e63f4096f24083f3fc17f70493a2/41be6/volumes.png\"\n        srcset=\"/static/a8a1e63f4096f24083f3fc17f70493a2/5a46d/volumes.png 300w,\n/static/a8a1e63f4096f24083f3fc17f70493a2/0a47e/volumes.png 600w,\n/static/a8a1e63f4096f24083f3fc17f70493a2/41be6/volumes.png 638w\"\n        sizes=\"(max-width: 638px) 100vw, 638px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"参考\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"参考 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h2>\n<ul>\n<li><a href=\"https://segmentfault.com/a/1190000022860937\">Kubernetes 本地持久化方案</a></li>\n</ul>"},"primaryTag":{"name":"DevOps","color":"#886b98"}},"pageContext":{"postId":"71de6fca-221a-5db6-b31a-3fed3092eeba","primaryTag":"DevOps"}},"staticQueryHashes":["2275848304","3097946992","3138592700","3462520645"]}