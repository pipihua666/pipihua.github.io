{"componentChunkName":"component---theme-src-templates-post-tsx","path":"/linux-system","result":{"data":{"post":{"id":"21a53162-7089-58cd-bbaa-84f8b979bc42","headings":[{"depth":2},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":2},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":2},{"depth":2},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":2},{"depth":3},{"depth":3},{"depth":3},{"depth":3},{"depth":2},{"depth":3},{"depth":1},{"depth":1},{"depth":1},{"depth":1},{"depth":1},{"depth":1},{"depth":2},{"depth":3},{"depth":2},{"depth":3},{"depth":3},{"depth":3},{"depth":2},{"depth":2}],"frontmatter":{"title":"Linux-系统管理","path":"/linux-system","tags":["Linux"],"excerpt":"linux-系统管理，个人记录学习","created":"2021-04-11T00:00:00.000Z","createdPretty":"11 April, 2021","updated":"2021-04-11T00:00:00.000Z","updatedPretty":"11 April, 2021","featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAC4jAAAuIwF4pT92AAADFUlEQVQozw3P+1PaBgDA8fwFe+jt1nXT2RZLqCFIgBDAYGISSJCSlfAU5SEkIYlRsNWok+IL8BzetXVKtytt9badXW9ddz2u2/q63bXbur9q3n1++P76Bfog4mOY6htlzvTbA332wIfwxEejdB/CnHU/EvwEYc456AE0MOwNQjhnJ8P2iasIOemhQsDloDwaX4ITK7bEsiOz5iltEdqeT254pZ2A1ohVm3mjpa+3jI3m4tdbulGXlzbk5a2lerO+3QKixvfJm8eZnR+nm4+Ug2fG/T8Lez+s//RX85e/Hz5//+TVP6/f/ff67fsXb//tvXnXfdy71T1t3ulutjsb7SOAk3ZCWlswOrndU+3bnnr0DEmqeqe32H25eu/59vHvt09f3H388sGTVz/33jx6+sfd7unuN0eNxv5uqw3Ykzc9uRZb7cRr9zOb3dzmdz5BTOrr+bV2sX4wv31rbe+wcXhycPLb4fHTozMPf20fnrTandbuHcBGp8YjKZaP0eFY5FqMZWgX5g9NhkRFNowbRUUrSOKsKBdFTV3eqdb2F2v7CysNSV/JiQsAbB1xWEG/1x3l+bgQpVguVSjFpzPpklRdXV2u1dTrlbk5uTCdmskX8yVNU+bzxfkwn5oMC4BpaNDudLN8PC7wMwk+lUnPaTNlvZRVlNINo7rVrK7X5AVVViRJkbPZ9BRHFL/igjSDecYAGHEHSW/6KiVFJ8QomcvGC4p6vV6vNbfLulZeqGiVSnm+mpUUVVcVXRf4CI0hYzbLmB0CCNvlAHwphJjKHCpHMCZEC8lYfCqTEsuFsqpWqmopm8atIf7arDhblKSIkCAZ1oFiFhAE3ODnlG2Itl9kHRdDmNnv93E0QTAcFYmGp7LFOT2TFK6c/wA2DaIoivvHWJajGG6cHHdjLsAJfoZBX8JD5yDzhSsO1E3SJO7DcNyK+ryBSCAxTTPMpS8+dZoHLKZhMzSKYR78bJegHagLAIcHTef7LwwNgE4PjGIERTphaGDYArpwbJxGyYCPoBAXGiRxjglCDs+IDYJGzBYQtiLY/+vJF7ga68kZAAAAAElFTkSuQmCC","aspectRatio":1.5037593984962405,"src":"/static/2faf45e003e62c2c140c31ffb6a359e0/90823/header.png","srcSet":"/static/2faf45e003e62c2c140c31ffb6a359e0/dc47e/header.png 200w,\n/static/2faf45e003e62c2c140c31ffb6a359e0/9f2d5/header.png 400w,\n/static/2faf45e003e62c2c140c31ffb6a359e0/90823/header.png 800w,\n/static/2faf45e003e62c2c140c31ffb6a359e0/77647/header.png 1200w,\n/static/2faf45e003e62c2c140c31ffb6a359e0/f8d4f/header.png 1600w,\n/static/2faf45e003e62c2c140c31ffb6a359e0/4ce6a/header.png 1920w","sizes":"(max-width: 800px) 100vw, 800px"}}}},"html":"<p><a name=\"mHmmL\"></a></p>\n<h2 id=\"用户管理\" style=\"position:relative;\"><a href=\"#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86\" aria-label=\"用户管理 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>用户管理</h2>\n<p><a name=\"A0IK0\"></a></p>\n<h3 id=\"添加用户（需要在-root-用户下执行，其他普通用户无法创建用户）\" style=\"position:relative;\"><a href=\"#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%EF%BC%88%E9%9C%80%E8%A6%81%E5%9C%A8-root-%E7%94%A8%E6%88%B7%E4%B8%8B%E6%89%A7%E8%A1%8C%EF%BC%8C%E5%85%B6%E4%BB%96%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7%E6%97%A0%E6%B3%95%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%EF%BC%89\" aria-label=\"添加用户（需要在 root 用户下执行，其他普通用户无法创建用户） permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>添加用户（需要在 root 用户下执行，其他普通用户无法创建用户）</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 不会创建用户目录、设定密码等</span>\n<span class=\"token function\">useradd</span> abc\n\n<span class=\"token comment\"># 会创建用户目录、设定密码等</span>\nadduser abc</code></pre></div>\n<p><a name=\"3ybAj\"></a></p>\n<h3 id=\"设置密码\" style=\"position:relative;\"><a href=\"#%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81\" aria-label=\"设置密码 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>设置密码</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">passwd</span> abc</code></pre></div>\n<p><a name=\"DC9NT\"></a></p>\n<h3 id=\"查看某一个用户是否存在\" style=\"position:relative;\"><a href=\"#%E6%9F%A5%E7%9C%8B%E6%9F%90%E4%B8%80%E4%B8%AA%E7%94%A8%E6%88%B7%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8\" aria-label=\"查看某一个用户是否存在 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>查看某一个用户是否存在</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">id</span> abc\n<span class=\"token comment\"># uid=0(root) gid=0(root) groups=0(root),113(docker)</span></code></pre></div>\n<p><a name=\"Zi2c2\"></a></p>\n<h3 id=\"添加用户会经过那些操作\" style=\"position:relative;\"><a href=\"#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E4%BC%9A%E7%BB%8F%E8%BF%87%E9%82%A3%E4%BA%9B%E6%93%8D%E4%BD%9C\" aria-label=\"添加用户会经过那些操作 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>添加用户会经过那些操作</h3>\n<ul>\n<li>会在 /etc/passwd 中添加用户</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">cat</span> /etc/passwd\n<span class=\"token comment\"># abc:x:1002:1002::/home/abc:/bin/sh</span></code></pre></div>\n<ul>\n<li>会在 /etc/shadow 中添加用户</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">cat</span> /etc/shadow\n<span class=\"token comment\"># abc:!:18510:0:99999:7:::</span></code></pre></div>\n<p><a name=\"13yTz\"></a></p>\n<h3 id=\"删除用户\" style=\"position:relative;\"><a href=\"#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7\" aria-label=\"删除用户 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>删除用户</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 不会删除用户目录</span>\n<span class=\"token function\">userdel</span> abc\n\n<span class=\"token comment\"># 删除用户目录</span>\n<span class=\"token function\">userdel</span> -r abc</code></pre></div>\n<p><a name=\"BBlpa\"></a></p>\n<h3 id=\"修改用户属性\" style=\"position:relative;\"><a href=\"#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%B1%9E%E6%80%A7\" aria-label=\"修改用户属性 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>修改用户属性</h3>\n<ul>\n<li>修改用户目录</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">usermod</span> -d /home/dd abc</code></pre></div>\n<ul>\n<li>修改用户所属的组</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">usermod</span> -g group1 abc</code></pre></div>\n<p><a name=\"Z0xtq\"></a></p>\n<h3 id=\"新建用户组\" style=\"position:relative;\"><a href=\"#%E6%96%B0%E5%BB%BA%E7%94%A8%E6%88%B7%E7%BB%84\" aria-label=\"新建用户组 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>新建用户组</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">groupadd</span> group1</code></pre></div>\n<p><a name=\"3tSb1\"></a></p>\n<h3 id=\"切换用户\" style=\"position:relative;\"><a href=\"#%E5%88%87%E6%8D%A2%E7%94%A8%E6%88%B7\" aria-label=\"切换用户 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>切换用户</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># - 表示完全切换，会切换到该用户的目录下，如果没有 - 则还会在当前目录</span>\n<span class=\"token function\">su</span> - abc</code></pre></div>\n<p><a name=\"C7SlJ\"></a></p>\n<h3 id=\"给特定用户执行某些命令的权限\" style=\"position:relative;\"><a href=\"#%E7%BB%99%E7%89%B9%E5%AE%9A%E7%94%A8%E6%88%B7%E6%89%A7%E8%A1%8C%E6%9F%90%E4%BA%9B%E5%91%BD%E4%BB%A4%E7%9A%84%E6%9D%83%E9%99%90\" aria-label=\"给特定用户执行某些命令的权限 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>给特定用户执行某些命令的权限</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">visudo\n<span class=\"token comment\"># 用上面的命令可以给某些用户赋予某些命令的权限</span></code></pre></div>\n<p><a name=\"hg4uE\"></a></p>\n<h3 id=\"etcpasswd-文件解析\" style=\"position:relative;\"><a href=\"#etcpasswd-%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90\" aria-label=\"etcpasswd 文件解析 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>/etc/passwd 文件解析</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root:x:0:0:root:/root:/bin/bash\ndaemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin\nbin:x:2:2:bin:/bin:/usr/sbin/nologin\n\n<span class=\"token comment\"># 用户名/用户是否需要密码进行验证/uid/gid/注释/用户目录/命令解释器</span>\n<span class=\"token comment\"># sbin/nologin 是不能被登录的</span></code></pre></div>\n<blockquote>\n<p>在新建用户时可以不用 adduser 命令，直接编辑该文件也可以起到新增用户的目的</p>\n</blockquote>\n<p><a name=\"hMaFO\"></a></p>\n<h3 id=\"etcshadow-文件解析（用来保存用户和密码的关系）\" style=\"position:relative;\"><a href=\"#etcshadow-%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90%EF%BC%88%E7%94%A8%E6%9D%A5%E4%BF%9D%E5%AD%98%E7%94%A8%E6%88%B7%E5%92%8C%E5%AF%86%E7%A0%81%E7%9A%84%E5%85%B3%E7%B3%BB%EF%BC%89\" aria-label=\"etcshadow 文件解析（用来保存用户和密码的关系） permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>/etc/shadow 文件解析（用来保存用户和密码的关系）</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">mysql:<span class=\"token operator\">!</span>:18493424:0:99999:7:::\nuser1:<span class=\"token variable\">$6</span><span class=\"token variable\">$9JTohwDk</span><span class=\"token variable\">$baTsdfsVJRRfSds6PCdF0xBQlqslTekjWK9xT7</span>/yIoTTUv45raWwtZRpwtMn5mNwjULCvL2XRJ9Nj3kFhekJBsjgBfq.:18511:0:99999:7:::\n\n<span class=\"token comment\"># 用户名/加密后的密码</span>\n\n<span class=\"token comment\"># 相同的密码加密后是不同的</span></code></pre></div>\n<p><a name=\"gId4y\"></a></p>\n<h3 id=\"etcgroup-文件解析（用户组文件）\" style=\"position:relative;\"><a href=\"#etcgroup-%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90%EF%BC%88%E7%94%A8%E6%88%B7%E7%BB%84%E6%96%87%E4%BB%B6%EF%BC%89\" aria-label=\"etcgroup 文件解析（用户组文件） permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>/etc/group 文件解析（用户组文件）</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">mysql:x:116:\nuser1:x:1002:\n\n<span class=\"token comment\"># 用户组名称/是否需要密码/gid/其他组设置(一个用户可以属于多个组)</span></code></pre></div>\n<hr>\n<p><a name=\"sHutP\"></a></p>\n<h2 id=\"文件权限\" style=\"position:relative;\"><a href=\"#%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90\" aria-label=\"文件权限 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>文件权限</h2>\n<p><a name=\"Q67WC\"></a></p>\n<h3 id=\"文件权限格式\" style=\"position:relative;\"><a href=\"#%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E6%A0%BC%E5%BC%8F\" aria-label=\"文件权限格式 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>文件权限格式</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">ls</span> -l\n\n-rwx------+   <span class=\"token number\">8</span> xx  staff      <span class=\"token number\">256</span> Mar  <span class=\"token number\">6</span>  <span class=\"token number\">2020</span> Movies\ndrwx------+  <span class=\"token number\">10</span> xx  staff      <span class=\"token number\">320</span> Mar  <span class=\"token number\">6</span>  <span class=\"token number\">2020</span> Music\n\n<span class=\"token comment\"># 第一位，表示文件类型</span>\n<span class=\"token comment\"># 后面接着的9位 rwx------ 表示权限，每三个字符为一组，分别表示用户对该文件的权限、该组对文件的权限和其他用户的权限</span>\n<span class=\"token comment\"># xx 用户</span>\n<span class=\"token comment\"># staff 用户组</span></code></pre></div>\n<p><a name=\"GLJ84\"></a></p>\n<h3 id=\"文件类型\" style=\"position:relative;\"><a href=\"#%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B\" aria-label=\"文件类型 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>文件类型</h3>\n<p>-普通文件<br />d目录文件<br />b块特殊文件<br />c字符特殊文件<br />l符号链接<br />f命令管道<br />s套接字文件<br /></p>\n<p><a name=\"tMZqh\"></a></p>\n<h3 id=\"文件权限的表示方法\" style=\"position:relative;\"><a href=\"#%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E7%9A%84%E8%A1%A8%E7%A4%BA%E6%96%B9%E6%B3%95\" aria-label=\"文件权限的表示方法 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>文件权限的表示方法</h3>\n<p>数字权限的表示方法</p>\n<ul>\n<li>r=4</li>\n<li>w=2</li>\n<li>x=1</li>\n</ul>\n<p><a name=\"YVMtM\"></a></p>\n<h3 id=\"目录权限的表示方法\" style=\"position:relative;\"><a href=\"#%E7%9B%AE%E5%BD%95%E6%9D%83%E9%99%90%E7%9A%84%E8%A1%A8%E7%A4%BA%E6%96%B9%E6%B3%95\" aria-label=\"目录权限的表示方法 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>目录权限的表示方法</h3>\n<p>x可以进入目录<br />rx显示目录内的文件名<br />wx修改目录内的文件名<br /></p>\n<p><a name=\"qqZkU\"></a></p>\n<h3 id=\"修改文件属主和属组的方法\" style=\"position:relative;\"><a href=\"#%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E5%B1%9E%E4%B8%BB%E5%92%8C%E5%B1%9E%E7%BB%84%E7%9A%84%E6%96%B9%E6%B3%95\" aria-label=\"修改文件属主和属组的方法 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>修改文件属主和属组的方法</h3>\n<ul>\n<li>修改属主</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">chown</span> user1 /test</code></pre></div>\n<ul>\n<li>修改属组</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">chgrp</span> :user1 /test</code></pre></div>\n<p><a name=\"6WnKe\"></a></p>\n<h3 id=\"修改权限\" style=\"position:relative;\"><a href=\"#%E4%BF%AE%E6%94%B9%E6%9D%83%E9%99%90\" aria-label=\"修改权限 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>修改权限</h3>\n<p>u属主<br />g属组<br />o其他用户<br />a包括上述三种<br />+增加权限<br />-减少权限<br />=设置权限</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 为test的属主设置w权限</span>\n<span class=\"token function\">chmod</span> u+w ./test\n\n<span class=\"token comment\"># 为属主、属组合其他用户设置只有wr权限</span>\n<span class=\"token function\">chmod</span> <span class=\"token assign-left variable\">a</span><span class=\"token operator\">=</span>wr ./test</code></pre></div>\n<blockquote>\n<p>linux 中默认的文件权限是 644, 是 666-umask (022)=644，既 rw-r--r--</p>\n</blockquote>\n<blockquote>\n<p>如果属主权限和属组权限冲突，则以属主权限为主</p>\n</blockquote>\n<hr>\n<p><a name=\"YcwFi\"></a></p>\n<h2 id=\"特殊权限\" style=\"position:relative;\"><a href=\"#%E7%89%B9%E6%AE%8A%E6%9D%83%E9%99%90\" aria-label=\"特殊权限 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>特殊权限</h2>\n<p>SUID用户可执行的二进制文件，执行命令时获取文件属主的权限</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@master:~<span class=\"token comment\"># ls -l /usr/bin/passwd</span>\n-rwsr-xr-x <span class=\"token number\">1</span> root root <span class=\"token number\">59640</span> Mar <span class=\"token number\">23</span>  <span class=\"token number\">2019</span> /usr/bin/passwd</code></pre></div>\n<p>SGID用于目录，在该目录下新建的文件和目录，权限自动更改为该目录的属组，常用于共享文件<br />SBIT用户目录，在该目录下新建的文件和目录，只有 root 和自己可以删除</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">ls</span> -l /\ndrwxrwxrwt  <span class=\"token number\">13</span> root root       <span class=\"token number\">4096</span> Sep  <span class=\"token number\">7</span> <span class=\"token number\">18</span>:21 tmp</code></pre></div>\n<hr>\n<p><a name=\"mUdVW\"></a></p>\n<h2 id=\"网络管理\" style=\"position:relative;\"><a href=\"#%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86\" aria-label=\"网络管理 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>网络管理</h2>\n<p><a name=\"PH00x\"></a></p>\n<h3 id=\"网络状态查看工具\" style=\"position:relative;\"><a href=\"#%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81%E6%9F%A5%E7%9C%8B%E5%B7%A5%E5%85%B7\" aria-label=\"网络状态查看工具 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>网络状态查看工具</h3>\n<ul>\n<li>\n<p>net-tools (centos 7 之前推荐的工具)</p>\n<ul>\n<li>ifconfig-eth0 第一块网卡（根据网卡接入方式不同，名称也会不同）</li>\n<li>route</li>\n<li>netstat</li>\n</ul>\n</li>\n<li>\n<p>iproute2 (centos 7 之后推荐的工具)</p>\n<ul>\n<li>ip</li>\n<li>ss\n<a name=\"IeLiC\"></a></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"修改网卡名称为-eth0\" style=\"position:relative;\"><a href=\"#%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E5%90%8D%E7%A7%B0%E4%B8%BA-eth0\" aria-label=\"修改网卡名称为 eth0 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>修改网卡名称为 eth0</h3>\n<p>网卡命名规则受 biosdevname 和 net.ifnames 两个参数影响</p>\n<ol>\n<li>编辑 etc/default/grub 文件，增加 biosdevname=0 和 net.ifnames=0</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token assign-left variable\">GRUB_CMDLINE_LINUX</span><span class=\"token operator\">=</span><span class=\"token string\">\"net.ifnames=0 biosdevname=0\"</span></code></pre></div>\n<ol start=\"2\">\n<li>更新 grub</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">grub2-mkconfig -o /boot/grub2/grub.cfg</code></pre></div>\n<ol start=\"3\">\n<li>重启 (reboot)</li>\n</ol>\n<p><a name=\"eOhvM\"></a></p>\n<h3 id=\"查看网卡物理连接情况\" style=\"position:relative;\"><a href=\"#%E6%9F%A5%E7%9C%8B%E7%BD%91%E5%8D%A1%E7%89%A9%E7%90%86%E8%BF%9E%E6%8E%A5%E6%83%85%E5%86%B5\" aria-label=\"查看网卡物理连接情况 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>查看网卡物理连接情况</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">mii-tool eth0</code></pre></div>\n<p><a name=\"Iw9CY\"></a></p>\n<h3 id=\"查看网关\" style=\"position:relative;\"><a href=\"#%E6%9F%A5%E7%9C%8B%E7%BD%91%E5%85%B3\" aria-label=\"查看网关 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>查看网关</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 使用 -n 参数不解析主机名</span>\nroute -n</code></pre></div>\n<p><a name=\"I1qae\"></a></p>\n<h3 id=\"查看网卡\" style=\"position:relative;\"><a href=\"#%E6%9F%A5%E7%9C%8B%E7%BD%91%E5%8D%A1\" aria-label=\"查看网卡 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>查看网卡</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">ifconfig</span></code></pre></div>\n<p><a name=\"c8FIO\"></a></p>\n<h3 id=\"网络故障排除命令\" style=\"position:relative;\"><a href=\"#%E7%BD%91%E7%BB%9C%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4%E5%91%BD%E4%BB%A4\" aria-label=\"网络故障排除命令 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>网络故障排除命令</h3>\n<p>ping网络主机是否畅通，ping 目标主机的域名或者 ip<br />traceroute如果网络通畅，但是还是访问不通，可以通过该命令查看路由信息，跟踪当前主机到目标主机的网络状态</p>\n<ul>\n<li>traceroute -w 1 目标主机 // -w 等待超时的时间</li>\n<li>更详细、更丰富的的 traceroute 命令-> mtr 命令（推荐）</li>\n</ul>\n<p>mtr如果网络主机通畅，但是还是访问不通，可以查看是否有数据包丢失了<br />nslookup查看域名对应的 ip<br />telnet如果主机没有问题，可以查看端口是否开放(明文传输，已被 ssh 替代)</p>\n<ul>\n<li>telnet [主机][端口]</li>\n</ul>\n<p>nc:</p>\n<ul>\n<li>监听服务器端口 - 有客户端连接后，从客户端发送的数据将在终端显示。</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">nc <span class=\"token operator\">-</span>l <span class=\"token punctuation\">[</span>端口<span class=\"token punctuation\">]</span>\n如\nnc <span class=\"token operator\">-</span>l <span class=\"token number\">8800</span>\n功能在本机上开启一个<span class=\"token constant\">TCP</span>服务器端口<span class=\"token number\">8800</span></code></pre></div>\n<ul>\n<li>端口扫描</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">nc <span class=\"token operator\">-</span>nvz <span class=\"token punctuation\">[</span>服务器地址<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>端口区间<span class=\"token punctuation\">]</span>\n如\nnc <span class=\"token operator\">-</span>nvz <span class=\"token number\">127.0</span><span class=\"token number\">.0</span><span class=\"token number\">.1</span> <span class=\"token number\">500</span><span class=\"token operator\">-</span><span class=\"token number\">505</span>\n功能扫描地址<span class=\"token number\">127.0</span><span class=\"token number\">.0</span><span class=\"token number\">.1</span>上的<span class=\"token number\">500</span><span class=\"token operator\">-</span><span class=\"token number\">505</span>端口</code></pre></div>\n<ul>\n<li>连接服务器端口 - 连接成功后，可以发送数据到服务端，也可接收来自服务端的数据。</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">nc <span class=\"token punctuation\">[</span>服务器地址<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>端口<span class=\"token punctuation\">]</span>\n如\nnc <span class=\"token number\">127.0</span><span class=\"token number\">.0</span><span class=\"token number\">.1</span> <span class=\"token number\">502</span>\n功能连接到<span class=\"token number\">127.0</span><span class=\"token number\">.0</span><span class=\"token number\">.1</span><span class=\"token function\">上的502端口</span><span class=\"token punctuation\">(</span><span class=\"token constant\">TCP</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>发送文件 发送成功后会退出 nc。-</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">nc <span class=\"token punctuation\">[</span>服务器地址<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>端口<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> <span class=\"token punctuation\">[</span>文件名<span class=\"token punctuation\">]</span>\n如\nnc <span class=\"token number\">127.0</span><span class=\"token number\">.0</span><span class=\"token number\">.1</span> <span class=\"token number\">502</span> <span class=\"token operator\">&lt;</span> test\n功能向<span class=\"token number\">127.0</span><span class=\"token number\">.0</span><span class=\"token number\">.1</span><span class=\"token function\">上的502端口</span><span class=\"token punctuation\">(</span><span class=\"token constant\">TCP</span><span class=\"token punctuation\">)</span>发送test文件</code></pre></div>\n<p>tcpdump如果主机和端口都 ok，则需要抓包进行分析，tcpdump -i any -n port 80</p>\n<ul>\n<li>-i 包的类型 tcp/udp</li>\n<li>-n 如果是域名则解析成 ip</li>\n<li>port 80 本机的 80 端口的包</li>\n<li>host 10.0.0.1 本机到 10.0.0.1 的包</li>\n<li>组合port 80 and host 10.0.0.1</li>\n<li>-w [文件名]捕获下来并保存到某个文件</li>\n</ul>\n<p>netstat 和 ss检测服务监听的地址是否正确，查看本机对外服务的端口</p>\n<ul>\n<li>\n<p>netstat -ntpl</p>\n<ul>\n<li>-p 打印出进程</li>\n<li>-t 显示 tcp 协议</li>\n<li>-l 状态是正在监听</li>\n<li>-n 显示 ip 地址，不要显示域名</li>\n</ul>\n</li>\n<li>ss -ntpl\n<a name=\"YMpXF\"></a></li>\n</ul>\n<p>lsof 显示相应端口的进程</p>\n<ul>\n<li>lsof -i :1080</li>\n</ul>\n<h3 id=\"网络服务管理-centos\" style=\"position:relative;\"><a href=\"#%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86-centos\" aria-label=\"网络服务管理 centos permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>网络服务管理 (centos)</h3>\n<ul>\n<li>可以分为两种SysV 和 systemd</li>\n<li>网络配置文件ifcfg-eth0，会随着网卡的不同文件名也会不同</li>\n<li>比如 /etc/sysconfig/network-scripts/ifcfg-ens3，在这个里面可以配置 dhcp，ip 等信息</li>\n</ul>\n<hr>\n<p><a name=\"2VGNz\"></a></p>\n<h2 id=\"进程管理\" style=\"position:relative;\"><a href=\"#%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86\" aria-label=\"进程管理 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>进程管理</h2>\n<p><a name=\"QCo2v\"></a></p>\n<h3 id=\"调整优先级\" style=\"position:relative;\"><a href=\"#%E8%B0%83%E6%95%B4%E4%BC%98%E5%85%88%E7%BA%A7\" aria-label=\"调整优先级 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>调整优先级</h3>\n<p>nice范围从 - 20 到 19，值越小优先级越高，抢占的资源就越多<br />renice重新设置优先级</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 在启动前设置某一个程序的优先级</span>\n<span class=\"token function\">nice</span> -n <span class=\"token number\">10</span> ./a.sh\n\n<span class=\"token comment\"># 在程序启动后重新设置一个程序的优先级</span>\n<span class=\"token function\">renice</span> -n <span class=\"token number\">15</span> pid</code></pre></div>\n<p><a name=\"LiHs2\"></a></p>\n<h3 id=\"进程的作业控制\" style=\"position:relative;\"><a href=\"#%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BD%9C%E4%B8%9A%E6%8E%A7%E5%88%B6\" aria-label=\"进程的作业控制 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>进程的作业控制</h3>\n<p>&#x26;将任务放到后台执行</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">./a.bash <span class=\"token operator\">&amp;</span></code></pre></div>\n<p>jobs: 查看后台任务，并获取编号</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">jobs</span></code></pre></div>\n<p>ctrl + z:将前台任务停止并放到后台, 暂停进程<br />fg jobsID:将后台任务放到前台执行<br />bg jobsID:将前台任务放到后台执行<br /></p>\n<p><a name=\"c90jT\"></a></p>\n<h3 id=\"\" style=\"position:relative;\"><a href=\"#\" aria-label=\" permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><a name=\"4O3cn\"></a></p>\n<h3 id=\"进程间通信\" style=\"position:relative;\"><a href=\"#%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1\" aria-label=\"进程间通信 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>进程间通信</h3>\n<ul>\n<li>查看信号</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">[</span>root@848e7f64efd8 /<span class=\"token punctuation\">]</span><span class=\"token comment\"># kill -l</span>\n <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> SIGHUP     <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> SIGINT     <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> SIGQUIT     <span class=\"token number\">4</span><span class=\"token punctuation\">)</span> SIGILL     <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> SIGTRAP\n <span class=\"token number\">6</span><span class=\"token punctuation\">)</span> SIGABRT     <span class=\"token number\">7</span><span class=\"token punctuation\">)</span> SIGBUS     <span class=\"token number\">8</span><span class=\"token punctuation\">)</span> SIGFPE     <span class=\"token number\">9</span><span class=\"token punctuation\">)</span> SIGKILL    <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> SIGUSR1\n<span class=\"token number\">11</span><span class=\"token punctuation\">)</span> SIGSEGV    <span class=\"token number\">12</span><span class=\"token punctuation\">)</span> SIGUSR2    <span class=\"token number\">13</span><span class=\"token punctuation\">)</span> SIGPIPE    <span class=\"token number\">14</span><span class=\"token punctuation\">)</span> SIGALRM    <span class=\"token number\">15</span><span class=\"token punctuation\">)</span> SIGTERM\n<span class=\"token number\">16</span><span class=\"token punctuation\">)</span> SIGSTKFLT    <span class=\"token number\">17</span><span class=\"token punctuation\">)</span> SIGCHLD    <span class=\"token number\">18</span><span class=\"token punctuation\">)</span> SIGCONT    <span class=\"token number\">19</span><span class=\"token punctuation\">)</span> SIGSTOP    <span class=\"token number\">20</span><span class=\"token punctuation\">)</span> SIGTSTP\n<span class=\"token number\">21</span><span class=\"token punctuation\">)</span> SIGTTIN    <span class=\"token number\">22</span><span class=\"token punctuation\">)</span> SIGTTOU    <span class=\"token number\">23</span><span class=\"token punctuation\">)</span> SIGURG    <span class=\"token number\">24</span><span class=\"token punctuation\">)</span> SIGXCPU    <span class=\"token number\">25</span><span class=\"token punctuation\">)</span> SIGXFSZ\n<span class=\"token number\">26</span><span class=\"token punctuation\">)</span> SIGVTALRM    <span class=\"token number\">27</span><span class=\"token punctuation\">)</span> SIGPROF    <span class=\"token number\">28</span><span class=\"token punctuation\">)</span> SIGWINCH    <span class=\"token number\">29</span><span class=\"token punctuation\">)</span> SIGIO    <span class=\"token number\">30</span><span class=\"token punctuation\">)</span> SIGPWR\n<span class=\"token number\">31</span><span class=\"token punctuation\">)</span> SIGSYS    <span class=\"token number\">34</span><span class=\"token punctuation\">)</span> SIGRTMIN    <span class=\"token number\">35</span><span class=\"token punctuation\">)</span> SIGRTMIN+1    <span class=\"token number\">36</span><span class=\"token punctuation\">)</span> SIGRTMIN+2    <span class=\"token number\">37</span><span class=\"token punctuation\">)</span> SIGRTMIN+3\n<span class=\"token number\">38</span><span class=\"token punctuation\">)</span> SIGRTMIN+4    <span class=\"token number\">39</span><span class=\"token punctuation\">)</span> SIGRTMIN+5    <span class=\"token number\">40</span><span class=\"token punctuation\">)</span> SIGRTMIN+6    <span class=\"token number\">41</span><span class=\"token punctuation\">)</span> SIGRTMIN+7    <span class=\"token number\">42</span><span class=\"token punctuation\">)</span> SIGRTMIN+8\n<span class=\"token number\">43</span><span class=\"token punctuation\">)</span> SIGRTMIN+9    <span class=\"token number\">44</span><span class=\"token punctuation\">)</span> SIGRTMIN+10    <span class=\"token number\">45</span><span class=\"token punctuation\">)</span> SIGRTMIN+11    <span class=\"token number\">46</span><span class=\"token punctuation\">)</span> SIGRTMIN+12    <span class=\"token number\">47</span><span class=\"token punctuation\">)</span> SIGRTMIN+13\n<span class=\"token number\">48</span><span class=\"token punctuation\">)</span> SIGRTMIN+14    <span class=\"token number\">49</span><span class=\"token punctuation\">)</span> SIGRTMIN+15    <span class=\"token number\">50</span><span class=\"token punctuation\">)</span> SIGRTMAX-14    <span class=\"token number\">51</span><span class=\"token punctuation\">)</span> SIGRTMAX-13    <span class=\"token number\">52</span><span class=\"token punctuation\">)</span> SIGRTMAX-12\n<span class=\"token number\">53</span><span class=\"token punctuation\">)</span> SIGRTMAX-11    <span class=\"token number\">54</span><span class=\"token punctuation\">)</span> SIGRTMAX-10    <span class=\"token number\">55</span><span class=\"token punctuation\">)</span> SIGRTMAX-9    <span class=\"token number\">56</span><span class=\"token punctuation\">)</span> SIGRTMAX-8    <span class=\"token number\">57</span><span class=\"token punctuation\">)</span> SIGRTMAX-7\n<span class=\"token number\">58</span><span class=\"token punctuation\">)</span> SIGRTMAX-6    <span class=\"token number\">59</span><span class=\"token punctuation\">)</span> SIGRTMAX-5    <span class=\"token number\">60</span><span class=\"token punctuation\">)</span> SIGRTMAX-4    <span class=\"token number\">61</span><span class=\"token punctuation\">)</span> SIGRTMAX-3    <span class=\"token number\">62</span><span class=\"token punctuation\">)</span> SIGRTMAX-2</code></pre></div>\n<ul>\n<li>常用信号</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">ctrl + <span class=\"token operator\">==</span> SIGINT\n\n<span class=\"token comment\"># 立即终止，不受阻塞，信号是SIGKILL</span>\n<span class=\"token function\">kill</span> -9 pid</code></pre></div>\n<hr>\n<p><a name=\"fsAWV\"></a></p>\n<h2 id=\"守护进程（daemon）\" style=\"position:relative;\"><a href=\"#%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B%EF%BC%88daemon%EF%BC%89\" aria-label=\"守护进程（daemon） permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>守护进程（daemon）</h2>\n<p><a name=\"nG4aV\"></a></p>\n<h3 id=\"守护进程和一般进程的区别\" style=\"position:relative;\"><a href=\"#%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B%E5%92%8C%E4%B8%80%E8%88%AC%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%8C%BA%E5%88%AB\" aria-label=\"守护进程和一般进程的区别 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>守护进程和一般进程的区别</h3>\n<ol>\n<li>让程序脱离当前终端执行</li>\n<li>随着系统启动而启动，不用用户手动的去执行</li>\n<li>\n<p>nohup</p>\n<ul>\n<li>nohup 命令会使进程忽略 hangup（挂起）信号</li>\n<li>nohup 可以让一个命令脱离终端执行，但他不是守护进程</li>\n</ul>\n</li>\n<li>\n<p>screen 或者 tmux</p>\n<ul>\n<li>screen可以同时连接多个本地或远程的命令行会话，并在其间自由切换</li>\n<li>screen 进入 screen 环境</li>\n<li>ctrl + a d 退出(detached)screen 环境</li>\n<li>screen -ls 查看 screen 会话</li>\n<li>screen -r sessionid 恢复会话</li>\n</ul>\n</li>\n</ol>\n<br />\n<br />每个进程的依赖的环境都在 /proc/pid 的文件夹中\n```shell\ncd /proc/123\n<h1 id=\"进程执行的位置\" style=\"position:relative;\"><a href=\"#%E8%BF%9B%E7%A8%8B%E6%89%A7%E8%A1%8C%E7%9A%84%E4%BD%8D%E7%BD%AE\" aria-label=\"进程执行的位置 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>进程执行的位置</h1>\n<p>ls -l cwd</p>\n<h1 id=\"out\" style=\"position:relative;\"><a href=\"#out\" aria-label=\"out permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>out</h1>\n<p>cwd -> /</p>\n<h1 id=\"进程的输出\" style=\"position:relative;\"><a href=\"#%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%BE%93%E5%87%BA\" aria-label=\"进程的输出 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>进程的输出</h1>\n<p>ls -l fd</p>\n<h1 id=\"out-1\" style=\"position:relative;\"><a href=\"#out-1\" aria-label=\"out 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>out</h1>\n<p>lrwx------ 1 root root 64 Sep 14 05:15 0 -> /dev/pts/4\nlrwx------ 1 root root 64 Sep 14 05:15 1 -> /dev/pts/4\nlrwx------ 1 root root 64 Sep 14 05:15 2 -> /dev/pts/4\nlrwx------ 1 root root 64 Sep 14 12:32 255 -> /dev/pts/4</p>\n<h1 id=\"0-是标准输入\" style=\"position:relative;\"><a href=\"#0-%E6%98%AF%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5\" aria-label=\"0 是标准输入 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>0 是标准输入</h1>\n<h1 id=\"12-是标准输出\" style=\"position:relative;\"><a href=\"#12-%E6%98%AF%E6%A0%87%E5%87%86%E8%BE%93%E5%87%BA\" aria-label=\"12 是标准输出 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1,2 是标准输出</h1>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">---\n\n&lt;a name=&quot;tDHr2&quot;&gt;&lt;/a&gt;\n## 服务管理工具 - systemctl\n\n- 常用操作systemctl start|stop|restart|reload|enable|disable 服务名称\n- 软件包安装的服务单元/usr/lib/systemd/system\n   - service -&gt; /etc/init.d\n   - systemctl -&gt; /usr/lib/systemd/system\n   - cd /usr/lib/systemd/system\n   - vim sshd.service --查看服务文件\n   - cd /lib/systemd/system --服务文件目录\n   - ls -l runlevel*.target --查看服务文件映射\n\n---\n\n&lt;a name=&quot;JWOl7&quot;&gt;&lt;/a&gt;\n## SELinux\n安全增强版本的 Linux，以前的 linux 是利用用户和文件的权限来进行安全控制既 DAC（自主访问控制）&lt;br /&gt;\n&lt;br /&gt;MAC（强制访问控制）会给用户、进程和文件都打上标签，如果三者标签不一致则不允许执行&lt;br /&gt;\n&lt;br /&gt;SElinux 是一个内核模块，也是 Linux 的一个安全子系统。SELinux 可是设置 DAC 或者是 MAC。需要注意的是开启 SELinux 会消耗服务器的性能，所以一般在生产环境下都是关闭的\n```shell\n# 查看SELinux状态\ngetenforce</code></pre></div>\n<hr>\n<p><a name=\"Hzpr9\"></a></p>\n<h2 id=\"内存和磁盘管理\" style=\"position:relative;\"><a href=\"#%E5%86%85%E5%AD%98%E5%92%8C%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86\" aria-label=\"内存和磁盘管理 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>内存和磁盘管理</h2>\n<p><a name=\"KoZsx\"></a></p>\n<h3 id=\"内存和磁盘使用率查看\" style=\"position:relative;\"><a href=\"#%E5%86%85%E5%AD%98%E5%92%8C%E7%A3%81%E7%9B%98%E4%BD%BF%E7%94%A8%E7%8E%87%E6%9F%A5%E7%9C%8B\" aria-label=\"内存和磁盘使用率查看 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>内存和磁盘使用率查看</h3>\n<ul>\n<li>内存  free -m/-g/top</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">[</span>root@hadoop3 ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># free -m</span>\n              total        used        <span class=\"token function\">free</span>      shared  buff/cache   available\nMem:          <span class=\"token number\">64264</span>       <span class=\"token number\">51686</span>        <span class=\"token number\">2089</span>         <span class=\"token number\">140</span>       <span class=\"token number\">10488</span>       <span class=\"token number\">11807</span>\nSwap:             <span class=\"token number\">0</span>           <span class=\"token number\">0</span>           <span class=\"token number\">0</span>\n<span class=\"token punctuation\">[</span>root@hadoop3 ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># free -g</span>\n              total        used        <span class=\"token function\">free</span>      shared  buff/cache   available\nMem:             <span class=\"token number\">62</span>          <span class=\"token number\">50</span>           <span class=\"token number\">2</span>           <span class=\"token number\">0</span>          <span class=\"token number\">10</span>          <span class=\"token number\">11</span>\nSwap:             <span class=\"token number\">0</span>           <span class=\"token number\">0</span>           <span class=\"token number\">0</span></code></pre></div>\n<ul>\n<li>磁盘</li>\n</ul>\n<p>fdisk</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">[</span>root@hadoop3 ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># fdisk -l</span>\n\nDisk /dev/vda: <span class=\"token number\">53.7</span> GB, <span class=\"token number\">53687091200</span> bytes, <span class=\"token number\">104857600</span> sectors\nUnits <span class=\"token operator\">=</span> sectors of <span class=\"token number\">1</span> * <span class=\"token number\">512</span> <span class=\"token operator\">=</span> <span class=\"token number\">512</span> bytes\nSector size <span class=\"token punctuation\">(</span>logical/physical<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes\nI/O size <span class=\"token punctuation\">(</span>minimum/optimal<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes\nDisk label type: dos\nDisk identifier: 0x0009ac89\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/vda1   *        <span class=\"token number\">2048</span>   <span class=\"token number\">104857566</span>    <span class=\"token number\">52427759</span>+  <span class=\"token number\">83</span>  Linux\n\nDisk /dev/vdb: <span class=\"token number\">214.7</span> GB, <span class=\"token number\">214748364800</span> bytes, <span class=\"token number\">419430400</span> sectors\nUnits <span class=\"token operator\">=</span> sectors of <span class=\"token number\">1</span> * <span class=\"token number\">512</span> <span class=\"token operator\">=</span> <span class=\"token number\">512</span> bytes\nSector size <span class=\"token punctuation\">(</span>logical/physical<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes\nI/O size <span class=\"token punctuation\">(</span>minimum/optimal<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes</code></pre></div>\n<p>如上图所示，共有两个磁盘/dev/vda、/dev/vdb<br />其中 /dev/vda 是分区了，因为有 /dev/vda1<br />\n<br />df 常常用来查看磁盘是否满了</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">df</span> -h\n\nFilesystem      Size  Used Avail Use% Mounted on\n/dev/vda1        50G   16G   32G  <span class=\"token number\">34</span>% /\ndevtmpfs         32G     <span class=\"token number\">0</span>   32G   <span class=\"token number\">0</span>% /dev\ntmpfs            32G   24K   32G   <span class=\"token number\">1</span>% /dev/shm\ntmpfs            32G  <span class=\"token number\">1</span>.5M   32G   <span class=\"token number\">1</span>% /run\ntmpfs            32G     <span class=\"token number\">0</span>   32G   <span class=\"token number\">0</span>% /sys/fs/cgroup\n/dev/vdb        197G   55G  134G  <span class=\"token number\">29</span>% /data\ntmpfs           <span class=\"token number\">6</span>.3G     <span class=\"token number\">0</span>  <span class=\"token number\">6</span>.3G   <span class=\"token number\">0</span>% /run/user/0</code></pre></div>\n<p>du</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">[</span>root@hadoop3 elasticsearch<span class=\"token punctuation\">]</span><span class=\"token comment\"># du -h docker-compose.yaml</span>\n<span class=\"token number\">4</span>.0K    docker-compose.yaml</code></pre></div>\n<p>du -h 和 ls -lh 区别是，du 是实际占用的空间，而 ls -lh 是包含空洞空间的，其中磁盘有些位置是空的，只是声明了文件存储的位置，并没有实际存储数据<br /></p>\n<hr>\n<p><a name=\"CEe83\"></a></p>\n<h2 id=\"linux-文件系统管理\" style=\"position:relative;\"><a href=\"#linux-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86\" aria-label=\"linux 文件系统管理 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Linux 文件系统管理</h2>\n<p><a name=\"dbpPh\"></a></p>\n<h3 id=\"linux-常见的文件系统\" style=\"position:relative;\"><a href=\"#linux-%E5%B8%B8%E8%A7%81%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F\" aria-label=\"linux 常见的文件系统 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Linux 常见的文件系统</h3>\n<ul>\n<li>ext4</li>\n<li>xfs</li>\n<li>NTFS（需要安全额外的软件）\n<a name=\"y5ziw\"></a></li>\n</ul>\n<h3 id=\"硬链接\" style=\"position:relative;\"><a href=\"#%E7%A1%AC%E9%93%BE%E6%8E%A5\" aria-label=\"硬链接 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>硬链接</h3>\n<ul>\n<li>多个文件其实都是链接到同一个数据块，修改一个文件，其余的文件都会同步变化。</li>\n<li>硬链接是不允许跨文件系统的。</li>\n<li>创建硬链接的方式ln afile bfile</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">[</span>root@VM-0-16-centos test<span class=\"token punctuation\">]</span><span class=\"token comment\"># cat base</span>\naaaa\n<span class=\"token punctuation\">[</span>root@VM-0-16-centos test<span class=\"token punctuation\">]</span><span class=\"token comment\"># ln base yin</span>\n<span class=\"token punctuation\">[</span>root@VM-0-16-centos test<span class=\"token punctuation\">]</span><span class=\"token comment\"># ls -li</span>\n<span class=\"token comment\"># inode号是相同的，他们指向同一个inode块</span>\n<span class=\"token number\">131106</span> -rw-r--r-- <span class=\"token number\">2</span> root root <span class=\"token number\">5</span> Nov <span class=\"token number\">25</span> 09:56 base\n<span class=\"token number\">131106</span> -rw-r--r-- <span class=\"token number\">2</span> root root <span class=\"token number\">5</span> Nov <span class=\"token number\">25</span> 09:56 yin\n<span class=\"token punctuation\">[</span>root@VM-0-16-centos test<span class=\"token punctuation\">]</span><span class=\"token comment\"># rm base</span>\nrm: remove regular <span class=\"token function\">file</span> ‘base’? y\n<span class=\"token punctuation\">[</span>root@VM-0-16-centos test<span class=\"token punctuation\">]</span><span class=\"token comment\"># cat yin</span>\naaaa</code></pre></div>\n<p><a name=\"yYaKq\"></a></p>\n<h3 id=\"软链接\" style=\"position:relative;\"><a href=\"#%E8%BD%AF%E9%93%BE%E6%8E%A5\" aria-label=\"软链接 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>软链接</h3>\n<ul>\n<li>克服了硬链接不能跨文件系统的问题。</li>\n<li>但是实现上是不同的，软链接是创建了完全不同的一个文件，当系统读取这个文件时会发现这个文件是个链接文件，所以就会读取它链接的那个原文件</li>\n<li>对软链接文件设置权限并不会改变该文件的权限，而是改变的是原文件。</li>\n<li>创建软链接的方式ln -s afile bfile</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">[</span>root@VM-0-16-centos test<span class=\"token punctuation\">]</span><span class=\"token comment\"># cat base</span>\naaaa\n<span class=\"token punctuation\">[</span>root@VM-0-16-centos test<span class=\"token punctuation\">]</span><span class=\"token comment\"># ln -s base ruan</span>\n<span class=\"token punctuation\">[</span>root@VM-0-16-centos test<span class=\"token punctuation\">]</span><span class=\"token comment\"># ls -li</span>\n<span class=\"token comment\"># inode号不同</span>\n<span class=\"token number\">131103</span> -rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">5</span> Nov <span class=\"token number\">25</span> 09:59 base\n<span class=\"token number\">131104</span> lrwxrwxrwx <span class=\"token number\">1</span> root root <span class=\"token number\">4</span> Nov <span class=\"token number\">25</span> <span class=\"token number\">10</span>:00 ruan -<span class=\"token operator\">></span> base\n<span class=\"token punctuation\">[</span>root@VM-0-16-centos test<span class=\"token punctuation\">]</span><span class=\"token comment\"># cat ruan</span>\naaaa\n<span class=\"token punctuation\">[</span>root@VM-0-16-centos test<span class=\"token punctuation\">]</span><span class=\"token comment\"># rm base</span>\n<span class=\"token punctuation\">[</span>root@VM-0-16-centos test<span class=\"token punctuation\">]</span><span class=\"token comment\"># ls -li</span>\ntotal <span class=\"token number\">0</span>\n<span class=\"token number\">131104</span> lrwxrwxrwx <span class=\"token number\">1</span> root root <span class=\"token number\">4</span> Nov <span class=\"token number\">25</span> <span class=\"token number\">10</span>:00 ruan -<span class=\"token operator\">></span> base\n<span class=\"token punctuation\">[</span>root@VM-0-16-centos test<span class=\"token punctuation\">]</span><span class=\"token comment\"># cat ruan</span>\n<span class=\"token comment\"># 当删除了原始文件，因为软连接是指向的原始文件，并没有指向inode号，所以访问不到原始文件</span>\ncat: ruan: No such <span class=\"token function\">file</span> or directory\n<span class=\"token punctuation\">[</span>root@VM-0-16-centos test<span class=\"token punctuation\">]</span><span class=\"token comment\"># echo dddd >> ruan</span>\n<span class=\"token punctuation\">[</span>root@VM-0-16-centos test<span class=\"token punctuation\">]</span><span class=\"token comment\"># ls -li</span>\n<span class=\"token comment\"># 向软连接里写内容，就相当于在原始文件里写内容，所以原始文件就重新出现了</span>\n<span class=\"token number\">131103</span> -rw-r--r-- <span class=\"token number\">1</span> root root <span class=\"token number\">5</span> Nov <span class=\"token number\">25</span> <span class=\"token number\">10</span>:00 base\n<span class=\"token number\">131104</span> lrwxrwxrwx <span class=\"token number\">1</span> root root <span class=\"token number\">4</span> Nov <span class=\"token number\">25</span> <span class=\"token number\">10</span>:00 ruan -<span class=\"token operator\">></span> base\n<span class=\"token punctuation\">[</span>root@VM-0-16-centos test<span class=\"token punctuation\">]</span><span class=\"token comment\"># cat base</span>\ndddd</code></pre></div>\n<hr>\n<p><a name=\"1hXit\"></a></p>\n<h2 id=\"硬盘分区与挂载\" style=\"position:relative;\"><a href=\"#%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA%E4%B8%8E%E6%8C%82%E8%BD%BD\" aria-label=\"硬盘分区与挂载 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>硬盘分区与挂载</h2>\n<ul>\n<li>硬盘分区fdisk /dev/vdb，如果是 2T 以上的硬盘需要用 parted 命令</li>\n<li>格式化设置分区文件系统mkfs.文件系统 /dev/vdb</li>\n<li>分区挂载到目录下mount /dev/vdb /xx</li>\n<li>这样挂载只是将数据写到了内存中，如果想要重启后还是挂载到该目录，需要修改文件 /etc/fstab</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">root@max-master:~<span class=\"token comment\"># cat /etc/fstab</span>\n<span class=\"token assign-left variable\">UUID</span><span class=\"token operator\">=</span>e1d5f0dc-9df2-421e-a87b-f761f5db8947 / ext4 defaults <span class=\"token number\">0</span> <span class=\"token number\">0</span>\n<span class=\"token comment\">##/swap.img    none    swap    sw    0    0</span>\nmax-master:gfs-configs    /var/cache/zoomeye-max    glusterfs    defaults,_netdev    <span class=\"token number\">0</span>    <span class=\"token number\">0</span>\n/dev/vdb1 /xx ext4 defaults <span class=\"token number\">0</span> <span class=\"token number\">0</span></code></pre></div>\n<hr>\n<p><a name=\"NxCQD\"></a></p>\n<h2 id=\"系统日志\" style=\"position:relative;\"><a href=\"#%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97\" aria-label=\"系统日志 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>系统日志</h2>\n<p>/var/log 查看日志</p>\n<ul>\n<li>tail -f cron -- 查看定时任务</li>\n<li>tail -f messages -- 查看常规信息</li>\n<li>tail -f dmesg --查看内核启动日志</li>\n<li>tail -f secure -- 查看安全相关的日志</li>\n<li>\n<br />\n</li>\n</ul>"},"primaryTag":{"name":"Linux","color":"#5e8cb4"}},"pageContext":{"postId":"21a53162-7089-58cd-bbaa-84f8b979bc42","primaryTag":"Linux"}},"staticQueryHashes":["1116962356","2275848304","3097946992","3138592700","3462520645"]}