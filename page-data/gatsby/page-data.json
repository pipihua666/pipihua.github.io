{"componentChunkName":"component---src-templates-blog-post-js","path":"/gatsby/","result":{"data":{"site":{"siteMetadata":{"title":"皮皮花的博客"}},"markdownRemark":{"id":"c4f3b033-6b91-5bd9-9f65-be5cd72f35b4","excerpt":"前言 相信国内的 react 用户都是 antd 的忠实爱好者，此教程实践可行 1. 首先安装必须的 npm 包 2. 将以下代码添加到 gatsby-node.js 中，babel-plugin-import 配置 antd 按需加载组件 3. 将以下代码添加到 gatsby-config.js…","html":"<h4>前言</h4>\n<blockquote>\n<p>相信国内的 react 用户都是 antd 的忠实爱好者，此教程实践可行</p>\n</blockquote>\n<h4>1. 首先安装必须的 npm 包</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save gatsby-plugin-antd less less-loader babel-plugin-import</code></pre></div>\n<h4>2. 将以下代码添加到 gatsby-node.js 中，babel-plugin-import 配置 antd 按需加载组件</h4>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">exports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onCreateBabelConfig</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> actions <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  actions<span class=\"token punctuation\">.</span><span class=\"token function\">setBabelPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"babel-plugin-import\"</span><span class=\"token punctuation\">,</span>\n    options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      libraryName<span class=\"token operator\">:</span> <span class=\"token string\">\"antd\"</span><span class=\"token punctuation\">,</span>\n      style<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4>3. 将以下代码添加到 gatsby-config.js 的插件组中（modifyVars 可自行修改 antd 的样式）</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{\n    resolve: &quot;gatsby-plugin-antd&quot;,\n    options: {\n      style: true,\n    },\n},\n{\n    resolve: `gatsby-plugin-less`,\n    options: {\n      modifyVars: {\n          &quot;primary-color&quot;: &quot;#da3043&quot;,\n          &quot;font-family&quot;: &quot;Arial&quot;,\n          &quot;layout-body-background&quot;: &quot;#66ff79&quot;,\n      },\n      lessOptions: {\n          javascriptEnabled: true,\n      },\n    },\n}</code></pre></div>\n<h4>🤔 康康我的 package.json 吧</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  &quot;dependencies&quot;: {\n    &quot;antd&quot;: &quot;^4.12.3&quot;,\n    &quot;babel-plugin-import&quot;: &quot;^1.13.3&quot;,\n    &quot;gatsby&quot;: &quot;^2.32.3&quot;,\n    &quot;gatsby-image&quot;: &quot;^2.11.0&quot;,\n    &quot;gatsby-plugin-antd&quot;: &quot;^2.2.0&quot;,\n    &quot;gatsby-plugin-feed&quot;: &quot;^2.13.0&quot;,\n    &quot;gatsby-plugin-google-analytics&quot;: &quot;^2.11.0&quot;,\n    &quot;gatsby-plugin-less&quot;: &quot;^4.7.0&quot;,\n    &quot;gatsby-plugin-manifest&quot;: &quot;^2.12.0&quot;,\n    &quot;gatsby-plugin-offline&quot;: &quot;^3.10.0&quot;,\n    &quot;gatsby-plugin-react-helmet&quot;: &quot;^3.10.0&quot;,\n    &quot;gatsby-plugin-sharp&quot;: &quot;^2.14.1&quot;,\n    &quot;gatsby-remark-copy-linked-files&quot;: &quot;^2.10.0&quot;,\n    &quot;gatsby-remark-images&quot;: &quot;^3.11.0&quot;,\n    &quot;gatsby-remark-prismjs&quot;: &quot;^3.13.0&quot;,\n    &quot;gatsby-remark-responsive-iframe&quot;: &quot;^2.11.0&quot;,\n    &quot;gatsby-remark-smartypants&quot;: &quot;^2.10.0&quot;,\n    &quot;gatsby-source-filesystem&quot;: &quot;^2.11.0&quot;,\n    &quot;gatsby-transformer-remark&quot;: &quot;^2.16.0&quot;,\n    &quot;gatsby-transformer-sharp&quot;: &quot;^2.12.0&quot;,\n    &quot;less&quot;: &quot;^4.1.1&quot;,\n    &quot;less-loader&quot;: &quot;^8.0.0&quot;,\n    &quot;prismjs&quot;: &quot;^1.22.0&quot;,\n    &quot;react&quot;: &quot;^16.12.0&quot;,\n    &quot;react-dom&quot;: &quot;^16.12.0&quot;,\n    &quot;react-helmet&quot;: &quot;^5.2.1&quot;,\n    &quot;typeface-merriweather&quot;: &quot;0.0.72&quot;,\n    &quot;typeface-montserrat&quot;: &quot;0.0.75&quot;\n  },\n  &quot;devDependencies&quot;: {\n    &quot;gh-pages&quot;: &quot;^3.1.0&quot;,\n    &quot;prettier&quot;: &quot;2.2.1&quot;\n  },</code></pre></div>","frontmatter":{"title":"Gatsby配置antd","date":"February 20, 2021","description":"Gatsby配置antd"}},"previous":{"fields":{"slug":"/design-patterns/"},"frontmatter":{"title":"【前端必会】设计与模式"}},"next":null},"pageContext":{"id":"c4f3b033-6b91-5bd9-9f65-be5cd72f35b4","previousPostId":"56d86820-34ca-5f2f-b97f-41d8534640d0","nextPostId":null}},"staticQueryHashes":["2841359383","3122794013"]}